(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&i(n)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();const BigDiamond="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAABACAYAAABMbHjfAAACCUlEQVR42u3cUU6DQBQFUDZp3IKJa+oC/HaBozHBtAhYKDPzyjsn4cOfvgHubaGpDAMAAAAAAABwo0w28xPN/3x7L9dbwuMvgAqQtwBlYTM/wfxp+DuUoPfxF0AFyFeAcud21vlD5v1fCn3DEnTd/3K5XH62cdD078oL6D3/dw0Z9//j5bWM2xj06d+VC9B1/2eHNVxA7/m9T0DX/Z8Lf+MCdD//a8O6BaDxR+CWNZxq/5cK0PASKML57xqACPP/XAJl2v8tJTjx+XcT7CY4702wrwHNT/81qACYrwArizA/0Xy/BRJABUheAAAAAAAAAAAAAADgXlt/9usnwnQLaoTXVQCqvhOXhsErwcpIwBCWQAUoQQpwzPBvIjdzUK4lKUDpVADhV4B/Q9jyuUBH37BuOubSFyz8jU9M6wLs/efrIvwKUCuEawU4ch3TR/J1C6PwBw19gxLMPpl5Zt7RBRhnLh4HqRD+2gWYfSjqysz6D0h9kgJEWd/Tv1GUjU5+A756UqMVw6fUSQswF7Yo4XN55BKo2SVQlE8ElKDZTfDMvGkpysEzH7mkUMZMZag5cuUToNZjsm9KsGMf965FaRRgU7BqPiX45nU37ucj6ykH3sgq1Mm+iWlZgD1BOmotR5aAExVg6BD+Le/o0Z5ZXx49z9IeuIfBAhcx/AJM6jJC6kICAAAAQHJfOzfUOjjkQ6YAAAAASUVORK5CYII=",__vite_glob_0_0=Object.freeze(Object.defineProperty({__proto__:null,default:BigDiamond},Symbol.toStringTag,{value:"Module"})),EnemiesBullet="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAICAYAAACLUr1bAAAAKUlEQVR42mNgGAXYwX8gGH4Wb5g/7z8I47N8wHxOLQcOqAeGfPobkQAAPqIrkSYfIT4AAAAASUVORK5CYII=",__vite_glob_0_1=Object.freeze(Object.defineProperty({__proto__:null,default:EnemiesBullet},Symbol.toStringTag,{value:"Module"})),Triangle="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAAAQCAYAAADeWHeIAAAA6ElEQVR42u2Y0Q2DMAxEs2TVFSp1pgzQbwY8QCoI0vxgO05N7qSIfJBY5J0cm5Qo6o7CIqt9LPYq9gAJNYZvBa4RPBrA2QAwBDcUPGg+enq9sQ3n+Dv877MnONwBPjTwhQaQxD+tKTIBJJnkH+sSb/CXDq8ELzCAND5yzvv761xpgFMWkZoomgF+DvGKAT6PJ9axQT/OPeK37gaGuPOLQ1cZQJABVPEP69Xtm2UXwSvA5wqoNQFQFIGwKIQjZ4+IRWDVAUqAlpkAkU0QqQ1MFfgQ0+/fSlK9TGz8M4kmGtaFg3QRFEVF0gzLEbQxhcGVjwAAAABJRU5ErkJggg==",__vite_glob_0_2=Object.freeze(Object.defineProperty({__proto__:null,default:Triangle},Symbol.toStringTag,{value:"Module"})),BackgroundBuilding_1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJsAAAAPCAYAAADzlr3ZAAABWUlEQVR42u2ZjQrDIAyEff936LPeYDDYhj8Xc9G0KMjajUabXD6NK+W+DZV+2oMaiL5yLr370x4gNs/vXlHXxgIxdssOkiWw1QdZ4SMVGyYC7hU1jPcjW7iua3cA33P49EoipBfb9/zV/lxJtvLn4FmyKcQGI4HoZxuBgtPHMHSGtHDapA3dmWwYZSUbvE7mjjLb+iwWJj1Iv0AFJEsWWV5ytoiAkGxozCuz2NhllIlbj7RbxYbBd1ayYUbcHQHsIhsCOiNET2BdYuvMmb1uLsuRZDNXjZW9SxjZDKSNqujZgLI+UYnN4wP0YpqFbKMsl5NNXIFjwkdeUUP0bmxxNkW2mth2k61VlUWSTVGBRy59dyVbcynOQDbmrOaQbd2eTUm2H7sZyNY7b1KQTb3URJ1VQmxn556t+rmbbOwptPofhJJQbOx4oedsQf5aQrYjNq2YIJzzUrG9AGdc0faGsevoAAAAAElFTkSuQmCC",__vite_glob_0_3=Object.freeze(Object.defineProperty({__proto__:null,default:BackgroundBuilding_1},Symbol.toStringTag,{value:"Module"})),BackgroundBuilding_2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJsAAAAPCAYAAADzlr3ZAAABWUlEQVR42u2ZCQrDMAwE/f8/5K1bKBTa1MfKWvkINhiapPEhrcaWk9K+BZl6yoMKiDpyLLXrUx4gNs9zr6hzfYHou9QOFgtgqw12AJFbbOhwuFfUMF632sJ1XbMd+B7Dp2YCYSuxfc9FYduRZEs3A/eSTSE2GAlEv1twDpw2hqFaqQtP+5Y/70Y2tCKRdV4lWlvRbH0XA4MezLwdWw+YHOKYpDeaFGRDYVwri41dRhm/1Ug7VWxo3LOSDR3RVBPALLIhoDJC9JBJJrbK+NnfP/ciyWbOGjN7lzCyGUgbldGzTmRtEiE2jz3+9sarkK0V5XKyiTNwdNjIK2qI5taTqFFku/t0FbKVsrJIsikcErn0PYJsuWV0JtmY85lDtjl7NhfZ7m2tQLbaeZOCbJFLjfKsEuJ2ViBbVmyzyMaePKu/IKQFxcb2N+ycLUpsUWQ7YtOKCcIxDxXbC0zTzdM7jaBVAAAAAElFTkSuQmCC",__vite_glob_0_4=Object.freeze(Object.defineProperty({__proto__:null,default:BackgroundBuilding_2},Symbol.toStringTag,{value:"Module"})),lifeBar="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAICAYAAAC/K3xHAAAAJklEQVR42mNgYGD4P8Qxw/99asZDAjNgglEPjHpg1APDwgNDGQMAdUV5W9g9eEsAAAAASUVORK5CYII=",__vite_glob_0_5=Object.freeze(Object.defineProperty({__proto__:null,default:lifeBar},Symbol.toStringTag,{value:"Module"})),lock="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAALCAYAAABGbhwYAAAAM0lEQVR42mNgQID/ODAKwBDAJfcfi8l4FWKzFkPhf2Lc+X/u3LlYMbJCnIrQFQ+kQmIwAKC1mZcWNyQHAAAAAElFTkSuQmCC",__vite_glob_0_6=Object.freeze(Object.defineProperty({__proto__:null,default:lock},Symbol.toStringTag,{value:"Module"})),Player$2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAMCAYAAAAH4W+EAAAARElEQVR42mNgYGD4TyNMMqCa5XPnzoVjchyD1SBSMTUc83+wOOb/YHHM/8HimP+0xKQ45v8gwfS3FEdUjmCHDJaowQoAXevv97CqSVgAAAAASUVORK5CYII=",__vite_glob_0_7=Object.freeze(Object.defineProperty({__proto__:null,default:Player$2},Symbol.toStringTag,{value:"Module"})),manyEnemies="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABTCAYAAAAIhYADAAAB60lEQVR42u2c4QrDIAyE+/7v0Gd1MCiMIms1JrmLJ/TH/nTx0ySXTHccz6PdHo3BIYAL4QmiAOZBE8Q38M7z/D4XqPtnIIBwi9mFBQqw0QAEc2H4cDICMcW2X89AjceoO/DfwkrGVJVVqAZTSSpUYwVQNuPukhIAs2JnmdJTAJ10pBogk9WC1ySYGiCmasFjEkwNEFcXnp0kQwPEPYlYmwPIDZAYgBeAHwjbJpEZ11wBsKQOtLihABozOEopBx8WvGLXFgDb4INqY65hYDqu+70PNuau6iBAb4N7igAKYFvwhANEceHGADDCnumSiwCgexLZTaAKIApAHXVbVGJRNyohAL7cgQJscGG5uSGJKE5OAuzWjwL4Tki/rR01nupHuXDBvlklkFog42QF0DBhhQiEXYzWWqfI7KitdUqAAS5c8my1AJIkEZf3ot9Qgga4wwmBkF/eqsYFl7PVu7SlXM5W79SWcpFIu7WlXM5W71ZzKokgd5EsL6xwRTZVSK88NJ4JMT9IC+A6d9AgLAEjsrXPFxUT4CEAK+tHAVwxHx3t8yn1SohgqDIvUwSjLtxwaMoAiPy3diYXbtExh7CCgRDB9AARRDAtQKjrVQIYKBk0OG6uc8Tdqv9AFLLzwG6ul3NbAVwMTwCrAPwAaCq1hfQa40kAAAAASUVORK5CYII=",__vite_glob_0_8=Object.freeze(Object.defineProperty({__proto__:null,default:manyEnemies},Symbol.toStringTag,{value:"Module"})),Player$1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAcAAAACACAYAAACcCrmrAAAD90lEQVR42u3dC46bMBQF0Cy/3UNZQVfQ1XmqURVRYvP/+NnnSGikIRDADpfnMMzrBQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACwIBWm3Pw960mF+QBQbQCmDcG1GIDDMLwnIQjQRiUUufp5b9conL6NA2v8+5zpa0vLCUEgWgisDYa1y7RWCUWufrL7lf5ZE35LYTg3v8Z+kS6aQvj942e6Ymr0JNhc+6eL9BqAga74V1dCc1VN4XWhjsXZfTe3npqPxWknvYjl7pmh9+fX8J4ChWDX7Z8uFKnt507qS+EwafMo/WBVJbQnACs/FsV9LvXbLX064oXg6g9BQ50/G4DjANs6BQ7Brts/XSzSxc/RAIzcD3J9YWsIFtq8tmOR1lZtR/p0yADs8SQ4V8V1EoJdt3+6QaTqv9S2pVAI3A8+9nsuAHPtWZo/afPcsYgxNBR7eP/8D0GLJ8GlocwOQrDr9k83iTT8XQq/E0Kw9n3/qFzWtmnrIdGy1PNJcM33eY2HYNftn24U9gTR8cl9S3sKv4YC8NXJjRFX3QUaKAS7bv90s+hBcEJfazYAe7swGP8UgEFvm786AAP82UTX7Z8qEaDtd/eXyH8MLQDXBaEA3PmBePpD8UTY5YZMtb8AbDUAK70IKm7D0nd8heVXae2pKAJQAApAASgA4/WB7HYt3M05t+w0FPYeuyf2e3Gou+VK2BCoIVBDoAJQAE5CMPO619LxmbTp4nJbnr95V+U71ycX5ocMwy5OdLUEoPavbwin45tgDIFufyj24jNECxXgmu9Hn97vIzc7lSrhvdsG0GQARtj33QG4cd7dx+WKbchWwjOv/VjugUoYwAXAgwEYIfi3rm8pHGuphAHYWt3sCJcWgn/LvkaohAFgV/BHr4QB4LYKEwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAO6XClJt/1nu8Zt6vjoPyVwvvAcC+ADwzpD7WPQzDe6opBLcG05EgE4IAFQTgKIy+TQLqFNN11RqCAPRXAb4rk6uqk+m6hSAAdSTiyvBLI1e9BwBcXQH+F05bg0yYAQAAAAAAAAAAAAAAAAAAAADUyhNiABCAAFBLPr0O/PeFuWeAekYoABECMO0JuTOXUQkDUFUAXhVoB9YXMkgEIEC9AVj1CfqK/04v9AAE4B1BmPZu3xPhJ7wA+gzBM8Irt/4tQXlnOAtBAE4JsTXBmpv3aOABwN0Vp6ADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA44AvG7+VnZ3Pl3wAAAABJRU5ErkJggg==",__vite_glob_0_9=Object.freeze(Object.defineProperty({__proto__:null,default:Player$1},Symbol.toStringTag,{value:"Module"})),RegularPlayerBullet$1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAICAYAAACLUr1bAAAAJklEQVR42mNgGAUMDP+BYMQ45D8U43TAQIcGRQ4cNFE5pNPhiAMAitUj3UXH1nwAAAAASUVORK5CYII=",__vite_glob_0_10=Object.freeze(Object.defineProperty({__proto__:null,default:RegularPlayerBullet$1},Symbol.toStringTag,{value:"Module"})),BladeLevel1$2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAKUlEQVR42mNgGGzgPxpNkSFkWfCfBEMGzotDGNA8igna8p9UQ0ZKPAMAj8QT7XK/1l4AAAAASUVORK5CYII=",__vite_glob_0_11=Object.freeze(Object.defineProperty({__proto__:null,default:BladeLevel1$2},Symbol.toStringTag,{value:"Module"})),BladeLevel2$1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAOUlEQVR42mNgwA7+M1AA/lNiyH9KXPIfi+3/iTXkPwEvkG0Ixd74T81Y+E+N2BiN2sEYtRTFBhgAAN1tL9Fxy+4HAAAAAElFTkSuQmCC",__vite_glob_0_12=Object.freeze(Object.defineProperty({__proto__:null,default:BladeLevel2$1},Symbol.toStringTag,{value:"Module"})),BladeLevel3$1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAARUlEQVR42mNgoCH4TwATpZGQoTgVIPOJNgBZEJchBA1gwGMI0bajG0Iw0AjZSnSU4TOMJANIth2XARSnuiFmAAOlmskGAKHVSbe2BT3nAAAAAElFTkSuQmCC",__vite_glob_0_13=Object.freeze(Object.defineProperty({__proto__:null,default:BladeLevel3$1},Symbol.toStringTag,{value:"Module"})),BladeLevel1$1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAJCAYAAABaMo5wAAAAP0lEQVR42mNgGAU0AP+hgC52odGE3PSfkDkEHP6fFEfhk/9PrGXY1EDFkDHlIURsSONyEJKj6JvWBkM6HF4AAAcxS7U9GZSXAAAAAElFTkSuQmCC",__vite_glob_0_14=Object.freeze(Object.defineProperty({__proto__:null,default:BladeLevel1$1},Symbol.toStringTag,{value:"Module"})),BladeLevel2_3="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD8AAAAJCAYAAACFfPRvAAAAqklEQVR42rVVWw7AIAjj/pfusmRbnKPlMe2XQW0oVDS7gAvn0r5w48N5difFQ/bg5KYQ7ZNbAwiRG3fuyfOF+FMITIgklAqREKAS9LrS4lHumVwJpaXkAIcUwqJg3SH7JZ4tti6QQsSsUPEWT/NJZtxXLoA1OkZ5HAFh5+EgKtIfB2SEITG8XjxEQMhTEX+fX/EElk3vMenO75AUvmUGdP5n9YsoIdg11BgO5Gl4lgk17IkAAAAASUVORK5CYII=",__vite_glob_0_15=Object.freeze(Object.defineProperty({__proto__:null,default:BladeLevel2_3},Symbol.toStringTag,{value:"Module"})),CorrosiveIcon="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAHklEQVR42mNgYGD4TwATrwAdEFSAqZJUBaQ7EisGAIm0K9VU52EiAAAAAElFTkSuQmCC",__vite_glob_0_16=Object.freeze(Object.defineProperty({__proto__:null,default:CorrosiveIcon},Symbol.toStringTag,{value:"Module"})),EnergyIcon="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAFklEQVR42mNgYGD4TwATrwAnGPRWAACZ3DPN4umShQAAAABJRU5ErkJggg==",__vite_glob_0_17=Object.freeze(Object.defineProperty({__proto__:null,default:EnergyIcon},Symbol.toStringTag,{value:"Module"})),ExplosiveIcon="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAHElEQVR42mNgYGD4TwATrwAdkG4CUQqwAsoUAABBQyzUMnAJxgAAAABJRU5ErkJggg==",__vite_glob_0_18=Object.freeze(Object.defineProperty({__proto__:null,default:ExplosiveIcon},Symbol.toStringTag,{value:"Module"})),SpecialIcon="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAGElEQVR42mNgYGD4TwATrwAdDIQC8nwBAGH4L9GrMAfdAAAAAElFTkSuQmCC",__vite_glob_0_19=Object.freeze(Object.defineProperty({__proto__:null,default:SpecialIcon},Symbol.toStringTag,{value:"Module"})),FrameLevel1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAABACAYAAABcIPRGAAABUklEQVR42u1Zyw6DMAzj/3/a2wEkhFqaJ03BlnbZ1iVuXg7bNoIgCEIOzDIEw1k0XmonYGTtMe6x+64IfLoGCIIg/i1nx1RDVidG58KI4QLpZ1G2w0lIb/J477E0icxX3CB7EsMShdb58/eEJKB1Ui2mduOm8w0SZiHnVX/D86OOdRDw1gYy0m2UKhEEXBG4hF/d/jQEupegzeFON0mtAU90JM5ndLGcWSHt4ZK8f2IOmEa6VG4sqSwloq08uTRZvTxzPlKJcwIVbsFajIjKeQTUIdIrvWMEQT+tleTyZnKnRbQ3dz6v3Yt7g84SBfNC3jrvfTqhJlGFgGfqQbJ8RBNwXV6hGnA7X6EL6aLgWUYS50B47UyZxJVEpVcLwXV9FMRflcDLLxFTd9kZBhHhxJSid0lZpgBBMN9DCCxL5LpIGMiUIl7rX/QJS8j2hiXkEfwAVdMENb6Btk0AAAAASUVORK5CYII=",__vite_glob_0_20=Object.freeze(Object.defineProperty({__proto__:null,default:FrameLevel1},Symbol.toStringTag,{value:"Module"})),FrameLevel2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAACgCAYAAADzcGmMAAABsUlEQVR42u3a2UrEQBAF0Pr/n44IOgwxYUSwbmmdAwMuDz3dN51eqwAAAAAALhwXn3T5rd8jWflH+e+efm+v+1P59fFzewCVDCD9ACS/R7LyFSx3Svl6wKQecIQfgBFjwJSeYRYEAAAAAAAAAAD81PGNz38uP9v4nzeR7/xyAxyvdAQw/QnsqH+++59SfzweTQGk26Au7oaOeQfXhgDu3k+1uQES5Sd6gh5wMzLHxoBT4ceWAFLjgFnQ5kWYdYCV8OqVMAAAAAAAAEBA4kx21Flw4mrI3T3VI1Fu5x2hI9gAVTdXQ7rq/uJKSu4LpBrg+R8bAqjKX079UunmRpgTQOhu5GXDrw3g/CQKoCmAcyNM6AHpgbg9gMDTP3IisHIMEMDpNTRhKrghgFGVP/9x0zogvhJOTgDSAdgLCu8FTbR+NxQAAAAAgL/MVvOLRmk7fdvcCF/KazyFGhVA8jjO8V9lD6QFUPkbAQ6/K3svaH3j3wbQWbYAvIvRA/QAAQggMAhrftNQC7HNIYzZilgbQA3ajHMff8d2tMF/Qvh63JzAAQAAAAAAAAAAAAAAAAB4eAOSnHXfHcW0rAAAAABJRU5ErkJggg==",__vite_glob_0_21=Object.freeze(Object.defineProperty({__proto__:null,default:FrameLevel2},Symbol.toStringTag,{value:"Module"})),FrameLevel3="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACACAYAAACMY2IbAAAFo0lEQVR42u2d666eIBBFef+Xpk3656tBnGFuKGsnJz1Jj26R5QAjYGsIIYQQQgghhBBCCCGE0D915Q9CrsBZjkdEoCW/0e9ZxyNHYN4YgboB/h4NYFX7X9kP6Q4VERlBngDoyf6z870SwJ4MYHf82SECRQHYhX/vDqDkyYsAUNLUeAEorYBZk9OL/Vevo9pfDWArBrAVANgn/hkASvwjAYz0B0AAfBeANME0wakAMghhEFI6CCENQxqmLA2DdBXiAXyFv2cERh8Cmldx6DjgsyMwQtv0vxFCCCGEEEIIIYQQQggh9Cn1v/r9F6FU+K7irqAy+ADw8GZwEwCrX/afOdmg6umvjD5doGwYSv2rm4CbCBBaeEEEcvX/vcddqQwQyvwvJm3DaBQKhaAvZvYfnb8vKBKEUn9BFAiPTMpOeU98+kcAdQuA3aiM+5/h/x9QC/0h10U5CyNDtf/lnI/+D9ck9pcMOgzRMOz+R/dRqxel9KcH0NN/FMV+b6YSPpX/XQVq/SdRqFuC3qq/NSKWLMu7AyDaX3ADw/yFFZi9LNLs7w2gNU+kjULaApj8pRGo2t+QJ+yREfCpyVb5K0O469YM1wsWXLyLvwFA9/LfATCq3Mv/ze5XCIC//rO/F/sLUw5PnX0zgIr+nou/Ic3gVn5tB/8aeQZQLAP45DuKfC4ACt8CPIV80xMoHFm6+y+O8NL9Z5U/idhmAGflv/N/PYACX1f/KgCNiee7ZrG9DsAdm+CFfF9UF2AUXdybYCkAn26CKwYhi6PgFH9Bvs19g0jLIMQKYNkgpCoN45DITE+DeKehPNMgr07DVCWiJ+9TU/2rE8Ekojd8FacYIJlfxc0isHTigLf/qa/itpmMsDBAWZ4MoPH3eBnPZATd24ktpmMJ0kSrZVSlR+6ab6/ynTwda9gnaUV6So20pAmpUf6O4H1vQurlHWUJfK1gJ87sKfk7gqdMTH9TOywMqqpcFiUdrMxVcbOp/sI8Y/glAt0BsLMIHR3V1UAIIYQQQggNRobciYMHO1XpgS/Ct1OZXnFvqzZJjPDTnDOyrET1zeE7oSwAeNjTyna3dFiP7csixzpstR8sNvsb4Xt9+d/mv9WU8FmTmu0vjLLp/pPjs/2nQUAzGKxclHK7qKbaXwpgtv/o+OuaYQUAHv4mCKuX5ZmXZZ7ufwVQGYE8/LtlbFG9MFkVATP9V7os2f4D4LqyL+y1McH6Fr3FWzOIAEz2n21EJPJXDIRctkZJeACetibpNvoWdmhyAuD2KbP4O6Vi+gBKcfkN16DeHCrhMxtPUc8PQEl/JxjA2z5Jsv/w5msiYEBKqCUAuLI9HgAu9oFCAHSKwmcC+JUm2LEiWsvtApzTBDMIYRBSOgghDUMaZqs0DIlgEtGeiWj3CPiWV3EBTeC0a8CrOMObkPaxyQgLFcBkBOfJCJaB2KunAzlMSmU6Vrb/lyZwMi2fCtumTFzHSyHM3Krs6/d0l2shCtJEAd+OTyzNFKK5QgghhBBCKKnPS98XCEpyn4AHfKnfX2O0TxSSsEdkOqk5qvgm2ayMN2V2n3hJM60DoSwMRYAgKVt1pR8VgZXfhE3/XOnTqbTXQTP7Mvg8v1au9ZWcKnoESt/wHQCqgHCIduboG3idKBDApynZyxWrjEKl+TogrI2A7n3AXaMQoG0GoGcksgKY9WVzKNmAwahIJE2JkDD+MICSKBMJwd3xwEYoFMGX1RxSQ4BJU4himuDL78ONGKsABO7D+oC7RUAi7KHNawKAfXcAAX8DAANHwbov6BStV4aSwsGF5O+t3pJoyJfcAXB4TPObkyc9F7s2nAxglG+z7UuMPtoHXNnedtmT2jiwD7oQ/cxz8irWgQwqFeB3BXFT8F3gp0+HLAC+8mEjtUPkfRrJAyCqj77Z/tQEIJZGQUBEKFl/ABCKY5fUm81VAAAAAElFTkSuQmCC",__vite_glob_0_22=Object.freeze(Object.defineProperty({__proto__:null,default:FrameLevel3},Symbol.toStringTag,{value:"Module"})),FuelChargeShotLevel1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAN0lEQVR42mNgGErgP0WaQYAizeQa8B8ZEK0D6t//6IAkA7CBIWYA2WFAcSxQOx1QJSVSJS/gBADTXq5S8YzPLgAAAABJRU5ErkJggg==",__vite_glob_0_23=Object.freeze(Object.defineProperty({__proto__:null,default:FuelChargeShotLevel1},Symbol.toStringTag,{value:"Module"})),FuelChargeShotLevel2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAK0lEQVR42mNgoDH4jwWTpgkdEGUAPkAXA/AaMmoAnQwY+HRAcVKmODORBAC5NzrUppyK0gAAAABJRU5ErkJggg==",__vite_glob_0_24=Object.freeze(Object.defineProperty({__proto__:null,default:FuelChargeShotLevel2},Symbol.toStringTag,{value:"Module"})),FuelChargeShotLevel3="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAATElEQVR42mNgwAT/CWD8GggBbIahSBJjAJJBmAYQg/EaQMjZWMRxG4BsGy55BmIDjCQDcMUM/QwgyQsUByLVo5EmCYlgUqY0M1GUnQH0QWG77j6W9QAAAABJRU5ErkJggg==",__vite_glob_0_25=Object.freeze(Object.defineProperty({__proto__:null,default:FuelChargeShotLevel3},Symbol.toStringTag,{value:"Module"})),LaserLevel1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAgCAYAAABU1PscAAAAtklEQVR42u1WWw6AIAzz/pfGLwwSCnshYNrERDQbLYyy6yII4kEqUI/zN22u/O7lYgpsYXYO89wgIGTy8pdi5xJKKd221yNJ0CJex0sEWOaGK6BNgBZAImIkXizAS75XBsrD6yshrwNFxdeuZkpgtcGvYwmCIA7vZJfaI2qBtX3QMhGIxOhi05IKF4BaYClRS6uwtIZ5zRPG2ty+fNDhPYY8cqBI8tMXoSYbeTlt7149IbTev+IGaLQw+jJj2NsAAAAASUVORK5CYII=",__vite_glob_0_26=Object.freeze(Object.defineProperty({__proto__:null,default:LaserLevel1},Symbol.toStringTag,{value:"Module"})),LaserLevel2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAAAgCAYAAADtwH1UAAAAq0lEQVR42u3XywqAIBRFUf//p60GgojP0HMo9pplg/uS0hAAAAAAAMAHxBtdYBja+LFQWzuVTCuOInav6ar6u41QJuGMbc2hE0iSQFygbHxaLl//egDPY6tw9RBSLscHMApeS2J3IrNxFc2v5ZBtCs33z9UE9eBXNqFsAI7iWw1w/4TzJdlR1DWAmR+y40huOYI6dv/oXqC8B5R3geBIwN0AS/EAAAAAAOClC0AVgKqWjXJoAAAAAElFTkSuQmCC",__vite_glob_0_27=Object.freeze(Object.defineProperty({__proto__:null,default:LaserLevel2},Symbol.toStringTag,{value:"Module"})),LaserLevel3="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAACACAYAAAD03Gy6AAACmUlEQVR42u2c246DMAxE+f+fzr600m435FLiGRPOkZC2lbbA+IJjDMcBAAAAAAB3prxACaP4GMGk/3vDCC8VROmlJvqf7+Qnp7B8xctCPbCSXkrl60/h1xugc2Kxlq+LXxUi2gCN/Z39HXaRqYXcewvPuT0xory/J/7yKKh53UgIigoOmQE60RZvgG8OwGWAVftPZYDR/BdogDLDagN8c/4hBmhUHWlS0FYR0DrrVh282zVgluU6NEq9+AXIx7VIVQXNREG4AU4WQc3vn7QOaKTj+7YALl6TQvcp9/6s3UdlL2hmUUaPUmD0ThSAIyUivtkQKAEAAAAAAAAAABBL6Xx+jADFsF/HdGACxf/fgYoeiWkdxtldsbK98I2piKJU/dBNB/YPTvTbstGUGe8Pvzumns8/y7vKAa1eBH6mQZX4krmcmdQjjgLbPFBRh/9M6lFFoSv1pfQ80Vzqb2ewjaNYw78zEGWvwtKIHzEg2/F+ZYVnHcayRcDASKB9LZLGAIfhAQ1ZBdJ5VFVideciaHZQ1pUCwk9evQ7oeV/GlbBkr+qVcOvxKHUfZsABJJEg6wWNtgVETbDTFsS2ndCeCIenF18q2+MoSfbNeDoAAAAAAAAAAMigGeUS/BGTwenU994SvINzeqfkdnSy2f89VLcmExkgVfSFZATHaMbob6+4Nxz1/tFlRjC/MbB5Ilff4hs5Xi+LgiDPGTbu9gXBW4TI9HN1/vIJFVnq6mf7cph3ZiI+RlA+k4XiAzY4gh8LRXJjFJgeR6ICurDgKbsbIqMRsqWq8sgo2Fn00WqUC6bTCFQs3pBDfAAAAAAAAAAAALgZi/v6dEkz2BQJBrxe8NI9EKQcAAAAAAAAAAB4HvSXAAAAAAAAIAc/f+adKFXX3EYAAAAASUVORK5CYII=",__vite_glob_0_28=Object.freeze(Object.defineProperty({__proto__:null,default:LaserLevel3},Symbol.toStringTag,{value:"Module"})),ExplosiveEntity="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAICAYAAACYhf2vAAAARklEQVR42mNgIAH8hwJsYtjkyAX/sfD/47OIGhb/R7YImyNo4VMGfJZgcQQDTS0nEAIMtLKYqDRAIOjp47DBEDKEHEcWAAAisIV7fVadPgAAAABJRU5ErkJggg==",__vite_glob_0_29=Object.freeze(Object.defineProperty({__proto__:null,default:ExplosiveEntity},Symbol.toStringTag,{value:"Module"})),Mirror1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAOUlEQVR42mNgoBH4D8UUa/5PQB1FBhDt9P/E2kysAWS74D+1vMAw6gXCBlKUkJAN+E9uUqY4M5EEAIi0LtIDEIN0AAAAAElFTkSuQmCC",__vite_glob_0_30=Object.freeze(Object.defineProperty({__proto__:null,default:Mirror1},Symbol.toStringTag,{value:"Module"})),Mirror2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAP0lEQVR42mNgoBH4D8UUa/6PQ54iA0jWTJJh2Pz+nxQv/CfXZmJc8J/SMKC6C/7T3QUkhwPZyRmXAWSnB9oCAKNeNspDmrc2AAAAAElFTkSuQmCC",__vite_glob_0_31=Object.freeze(Object.defineProperty({__proto__:null,default:Mirror2},Symbol.toStringTag,{value:"Module"})),Mirror3="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAXElEQVR42rWTUQ7AIAhDe/9Lv2U/JjIEhKyJP6QUW1Hagb6o1lYRc2wDJxEroI6ANxmH3Jru+o4EdCOgIDiqzaMbjDPIEm9Z+PUVyCxwWKyrVR7/BQIyWRYl8osHFuphn+YlsYAAAAAASUVORK5CYII=",__vite_glob_0_32=Object.freeze(Object.defineProperty({__proto__:null,default:Mirror3},Symbol.toStringTag,{value:"Module"})),MirrorLevel1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAATsAAADACAYAAAB7/sSpAAADK0lEQVR42u3cUW4TQRBFUS8f1pJFFqAIZKLJMAQEdt1zpHwkcj7euOtNt+P4dgMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOCDxiV4vQgju+wGP/lcT/EilBeA7LKvznuveNObgyd+Ygtedtm3Z58jys6iLx7hZK813XHhGXjZ1w/8TfZ82aVeuygu+jHwshePsCev3SV2NqUjzZwMvOzNopvNmS/u6pSd7MpO2T1/5urx1cDLXjQyN69PfeBv8ezFMkjv7H764fGRVtmFsht42fdv9YJ/mVV2jrGyx4728wsGvnOMtbuRXdkpO8fY5bsb2ZWdsnOckX35zs4xVtkZeNkTUtn9gcLAO8p1Pu4olf2o0Gr/I6vsZC/ublJl9xs7OJ96Eht62VF2ys7ALz/KKjtlp+wiQy97rAcyQx7+AABlZ+Bl96Gt+cIb2WWXPbO5SRag91jJLnszd3kNALHyAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFhrvnIVAEUH7Bz+7ypZPesQLrpCERzk+0heZblsWbgEsaK7eMwbiwNlJ3/l+KrsqA361pv8Wa49eZUdii697udC2e0qvPtAXrxH2aXKLrWbnX/8extuDrTXfim/9Z5eIQrPTV7Zo/BgXdFNbri9IReU3fodS+mNx6DsIru3K2Wn8MDObl3R/cljAWWn7ADH3Ucuuy15rWMo1reyA1B4AACOuwBPd7xTdMC6Yjt57NSvl8Jny3L+S495qsH1f3LQW/fJsgMF5ia/v+y8vy5/h4fG8JcKz04W3MBzBe9KwI+ye/va/VSCvxdYQcDuwnvve1td2XCTNxOAoQcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAID/5OXT5/n25UoAiaJTeMDqorsvO4UHKDsAZQfw4GX39meuDLB2V3dWgADKDkDZASg7AGUHoOwAlB2AsgOUnbIDlB2AsgNQdgCPVniKDlB2AMoOQNkBPFbhKTogUXiuBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABXfAEyeeMtUxhA7QAAAABJRU5ErkJggg==",__vite_glob_0_33=Object.freeze(Object.defineProperty({__proto__:null,default:MirrorLevel1},Symbol.toStringTag,{value:"Module"})),MirrorLevel2_3="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfgAAACACAYAAADnLntnAAAEN0lEQVR42u3dbWrbUBQE0Lf8di1d5C2FmJgg2VbrUGnmHAjNj1AYfbzRtRRlLQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgO8xH18AQFC5b30PAKZZAMA0e8a8uMKTXXbZZUfB5x/wI7vssssue03ZKcTgbTAbB/2Uneyyyy67SV7BK3gnfPAJLrvssnct4sotaxuM7aDg93ao7LLLruAVvIKPvKJvuy83Owue7LLLLntT2U1h5viCnwcH/RSe7LLLLntX9uSSV/AKfneCbznhmy9uWrMfLQDZsxd+Be9WhYVe9rgTX8HL3rLAK3gFX5ffBN+bXcnJruCVW9o2sC9NsbLLXlvwbfehFXxXKSp4U6zsa/v91Aq+N3triXmKXjGa5IqyL9lNsbKb4IsK3rv5TbGyB574HrKTXXblZoI3wZtmTDOyyy578BSPKVb2wJNedk/Ry24y14cmeNlllz1sAZNdaWGKjcy+ZPcUvQle9uKCdxFQVvL+dKbssvdc4DQv8MotcxvYrwre38YuPSlkV2RkbxP7WsFv3o9VcrLLLjudPajgZY88oGWXva3gW7J7TW/51D/r8dvNWkpedtlll72luLzkp+hCp3lnyy677LI3FVj7b40AQGThtd+acDEAAOElr9wBILDkFTwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAN9hPtgSQNTaZhPQfszfyl3JA0DoJG8rAJAyzc49xQ5w/YX9jP8X/+EYKCn4p9kO5HfMA1xtmm2dYNML3pQOUD7NlpT8bBV8w0WMiwQAqgo+ucCUO3t+/fg5f75sCSIX9xP/n2faHlELwKuF9+VnJj3vwaJXCkHlruQh+ILnyX3ouoLf2B4K3iQfV+73Ba/kIaz85oHEgj/yQF3SdnjzcwaKQMEDCv6aBZ+2Hd5R7qZ3BQ8ElHtqyb+Q89HEawEkquBv39//Cyj4iNjPfkjBkz69b5U+oOAvn9tRQHvB+5geCjs+fXo9WPBTmBkTPJDY8KEFP8372hGPCR6Kiz68FC1gKHgTPOT3umI0wWOCV/AQWvAvPHRW+5fmwAQPpuDLTnXPfifcBI9jwQQPXLzcW95HDwreBA8Knkte5NiPmOBBwdcU/Nd86Vkd5ZjgQclXfDzvEwoUvAkeKkt+70cCC95ChpJX7tBb+iv3FbUWMxS8gofeid7H2Z+b5aoXBfYhCh66y6um4P8h0xRmRsEDKQV/X/Ir9CP6v7h4sfgRW/LKHbpKPvY+deMtCBM8j0reloD8aW4aJtbGCf4NBa8EALj+xdqtED1oCACBJZ/yHELTG/wA1vKxI4753QsCFwKABRISD/TPcnfMAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAnM9vwhlJFDMWY9kAAAAASUVORK5CYII=",__vite_glob_0_34=Object.freeze(Object.defineProperty({__proto__:null,default:MirrorLevel2_3},Symbol.toStringTag,{value:"Module"})),Portal="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACACAYAAACMY2IbAAABt0lEQVR42u3c0WoCMRRF0fz/T6cFqwi2FQrm3HrWgj714aqzJ2ZEZy0AALjYX3+Z4Z/iL8CAxxA89n/530sewE4c+KvQY9i/xNcaZewMSLzg3wXgwAvw/Py7lVCA9oC5t+Li/RgCdGFSuwWY9BZsJe7cBokPAAAAAAAAAAAAAAAAAABgqDE3KAo+/21+Pr5EEHvQyReZH7w34m1+8pYoe+BBaV39G+ePjaFl/r4uQ60roPjsAav3gDDmTAQAAAAAAAAAAAAAAAAAAAB45N4o5ufuDRO+O5L53fMdAPMFaH75/QGTwwUgwOqLIAEKMBu/AAUoQAEKUIACFKAABWg+rsIFiAARoAARIAIUIALEVbgAsQKDABEgCBABwv+9CgcAAAAuHxA1zATaF7t190FkYBVqvz9f/TutnyU+mW9rEDgAh170dADp5y/AqSvQpBMAb8GR+VZBAVoBBXh2/uFVR4ACtAIKUIDpz0IFKEAroAAFKEDzEYAABWg+AhCgAM1HAIfn+xxQALvk+QvQCihAAfoyggBX5xdCBWgF9I1oAdoDPt0CuDJ+4UH46Qr01Cq0/CwTAADe0gfBeN5o387ALgAAAABJRU5ErkJggg==",__vite_glob_0_35=Object.freeze(Object.defineProperty({__proto__:null,default:Portal},Symbol.toStringTag,{value:"Module"})),RocketLevel1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAPUlEQVR42mNgGGzg/6Aw5D8SptgAbBi/5rlz58IVg9jomJAhcEXIBpHiChQDKHYBOQZQHIhUi8aBTcr0BQADsmo5TZtR5wAAAABJRU5ErkJggg==",__vite_glob_0_36=Object.freeze(Object.defineProperty({__proto__:null,default:RocketLevel1},Symbol.toStringTag,{value:"Module"})),RocketLevel2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAATUlEQVR42mNgGADwn2xJqPx/ahiCV5AoW/A56z8BjNdZ/+fOnQtXDGKjY4L+hylCNohYV2AYQLELyDGA7EBkoCQaqZKQqJqUKXUhaQAAQEV5KmxG1UQAAAAASUVORK5CYII=",__vite_glob_0_37=Object.freeze(Object.defineProperty({__proto__:null,default:RocketLevel2},Symbol.toStringTag,{value:"Module"})),RocketLevel3="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAc0lEQVR42q1T0QoAIQjz/3969XAHtjaNu4QoQufcMOJi4Dmf80C3SlY5EuT0nX5nGKr9aEhRdIFosgK8hZxIDVAqK9hwk03cjbalatzordECB7OAoOpG8lqoAlFcu2ksyw7BikJ2gcdL4OgWRNIm8P8bOgDbmcs1lbEJ4wAAAABJRU5ErkJggg==",__vite_glob_0_38=Object.freeze(Object.defineProperty({__proto__:null,default:RocketLevel3},Symbol.toStringTag,{value:"Module"})),RocketProjectileLevel1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAAAQCAYAAADpunr5AAAAk0lEQVR42u1XywrAMAjr//90tsMOpSg6+2DTBHqMSNRoW0sG3DjJSwk8WMCjqFEROzEpYlTL7h2ZAEIffUzyd+T0OxFf8YQOhmMJwsgFFTs53L2DlcDj+8ZVggUNAxbAmACpIFoMb3wtRnDRI10BJK7XgsbiZZmAozvA6fWunPgZm7+CSl07n/sHECwgQTsiiAq4AB78yDi23bhxAAAAAElFTkSuQmCC",__vite_glob_0_39=Object.freeze(Object.defineProperty({__proto__:null,default:RocketProjectileLevel1},Symbol.toStringTag,{value:"Module"})),RocketProjectileLevel2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAAAQCAYAAADpunr5AAAAtElEQVR42u2Y0Q6AIAhF/f+fvvnS1piaICqCbK210odz5QKlZC/wudOrZ92NCjww4G+FjBynw9d+twyiZ/hs0CMQ34hmO2rfDkAMB36GACgIAC3Lauxpyq6GCihISGoBXUeeTcPb0cWgBr8gAiTAfjLCfSu5KgOq/h/V21fUgGb2MA5Bj0i4AvAFYNlU5GlZOgdAowWVCjfxoIWYhNXE81zAtf4FdWWQ19b0FBHdWYo3MU3FA06JW7NdkQDGAAAAAElFTkSuQmCC",__vite_glob_0_40=Object.freeze(Object.defineProperty({__proto__:null,default:RocketProjectileLevel2},Symbol.toStringTag,{value:"Module"})),RocketProjectileLevel3="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAAAQCAYAAADpunr5AAABEUlEQVR42uVYWw6EIAzs/e/AWcc1WY1h+4asFZvwVYowM5YWopoGYVgx5JwHJi62wY9lYyubdSjJjxng4WvBdcqDGVVwFDxwIErgdH4kFF1e+doGXQqWQBTAA+dn4k8hKAREz1kS/Mw8C0T0Li2FKGDiCQqekkIMNYqXpkbA4Ra+CQcB5RVsVSHIgq+QACt0d7TWsI8uZrkq5ATlOPB1eHI4HGaUhBEl408p8zUEkFa5vIWAO1PQD9jKfbA0AdFLWK1IDAVrYEsEpBuwyz6W62RH6mgJ7B44swFzEjAEfOUOeFofEF3D2yNIvggp1d+BMp1w9A9iCYy+5TCKxtPBH2nkRh7jaOW0UqkKm/1QdjvoGxKk9lAfVP7+AAAAAElFTkSuQmCC",__vite_glob_0_41=Object.freeze(Object.defineProperty({__proto__:null,default:RocketProjectileLevel3},Symbol.toStringTag,{value:"Module"})),RocketSubProjectileLevel3="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAAQCAYAAACBSfjBAAAAb0lEQVR42u2WMQoAIRAD/f+no4WFCCdoYuElA5YKju5uSgkhiEAjEjqEPFhLGPbeEIFn5J2KWIiHcxlC9EOekohhKcrErsFTAqcythSoaoP0ULCLJx8C6bOssiJxcSwmesL2Tv9VywuHKSCPEP5LBZL/0y3cjgnFAAAAAElFTkSuQmCC",__vite_glob_0_42=Object.freeze(Object.defineProperty({__proto__:null,default:RocketSubProjectileLevel3},Symbol.toStringTag,{value:"Module"})),EffectEvolution="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAEklEQVR42mNgYGD4z4AFkCAIAIHCA/3+fW6gAAAAAElFTkSuQmCC",__vite_glob_0_43=Object.freeze(Object.defineProperty({__proto__:null,default:EffectEvolution},Symbol.toStringTag,{value:"Module"})),Level1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAICAYAAACYhf2vAAAAUUlEQVR42mNgIB78h2IIBwjQ5FAVQ+T/M5AI/qNbhM2S/0gAi2MoAv/nzp0Lxjh8hMGnpuU4HYDuYxDA5sgBCQGqO4CcNEB3MOAOIDYKiFEDAF1renTzi8GNAAAAAElFTkSuQmCC",__vite_glob_0_44=Object.freeze(Object.defineProperty({__proto__:null,default:Level1},Symbol.toStringTag,{value:"Module"})),Level2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAAQCAYAAACBSfjBAAAAmElEQVR42u3VAQqAIAwF0N3/DjvrQjAIdfsrjHLugxBlgs+1iDIZqUkEADF6FgrPQkAwbcrtOrrp3nWXxWsREOzgHTXMDOf8wkMZbrwzdcN0uRajakNUUwdXNm6dvAdQqx5P79saEPWwUH3sKaDRA8NW2XRADcpZlbEB0U8EfZ67Ac7Afw1wy0Nw4kkCfn8It9ZL1WwB6+cAYsHfMsKYyQ0AAAAASUVORK5CYII=",__vite_glob_0_45=Object.freeze(Object.defineProperty({__proto__:null,default:Level2},Symbol.toStringTag,{value:"Module"})),Level3="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAAQCAYAAACBSfjBAAAAnUlEQVR42u3X0QqAIAwFUP//H/xVFwWBhNaul9RNB75E9+XUpoYwUaWUJF+986YRnjk2fz8zjYcgfGRFkw/Wi0F4ySAw6PtmAAXJNiJMDSear1sDjDFCbeylPXO0C0EDUWrFM6dE8ImHAJb+VPNHi9GAbnbJToDFeYZklweszcENqGxh5krFtLqXMcEALrfZwGe6PwE3PIdPZ3cNqAMx3vB7uESEZAAAAABJRU5ErkJggg==",__vite_glob_0_46=Object.freeze(Object.defineProperty({__proto__:null,default:Level3},Symbol.toStringTag,{value:"Module"})),SupportEvolution="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAABCAYAAAAb4BS0AAAADklEQVR42mNgYGD4D8MADv4C/j0x8JoAAAAASUVORK5CYII=",__vite_glob_0_47=Object.freeze(Object.defineProperty({__proto__:null,default:SupportEvolution},Symbol.toStringTag,{value:"Module"})),k=class k{static AddService(e,t){k.services[e]=t}static GetService(e){return k.services[e]}};k.services={};let ServiceLocator=k;const b=class b{constructor(e){this.numberImagesLoaded=0,this.listImages={};const t=Object.entries(e);for(const[i,a]of t)this.listImages[i]=new Image,this.listImages[i].src=a,this.listImages[i].onload=()=>{this.numberImagesLoaded++,this.numberImagesLoaded===t.length&&(b.isGameReady=!0)};ServiceLocator.AddService("ImageLoader",this)}GetImage(e){return this.listImages[e]}IsGameReady(){return b.isGameReady}};b.isGameReady=!1;let ImageLoader=b;function LoadImageLoader(){const e=Object.fromEntries(Object.entries(Object.assign({"./assets/images/Enemies/Diamond/BigDiamond/BigDiamond.png":__vite_glob_0_0,"./assets/images/Enemies/EnemiesBullet.png":__vite_glob_0_1,"./assets/images/Enemies/Triangle/Triangle.png":__vite_glob_0_2,"./assets/images/GameScene/BackgroundBuilding_1.png":__vite_glob_0_3,"./assets/images/GameScene/BackgroundBuilding_2.png":__vite_glob_0_4,"./assets/images/GameScene/lifeBar.png":__vite_glob_0_5,"./assets/images/GameScene/lock.png":__vite_glob_0_6,"./assets/images/MenuScene/Player.png":__vite_glob_0_7,"./assets/images/MenuScene/many-enemies.png":__vite_glob_0_8,"./assets/images/Player/Player.png":__vite_glob_0_9,"./assets/images/Player/RegularPlayerBullet.png":__vite_glob_0_10,"./assets/images/Skills/Blade/Blade-Level1.png":__vite_glob_0_11,"./assets/images/Skills/Blade/Blade-Level2.png":__vite_glob_0_12,"./assets/images/Skills/Blade/Blade-Level3.png":__vite_glob_0_13,"./assets/images/Skills/Blade/BladeLevel1.png":__vite_glob_0_14,"./assets/images/Skills/Blade/BladeLevel2&3.png":__vite_glob_0_15,"./assets/images/Skills/EffectIcons/CorrosiveIcon.png":__vite_glob_0_16,"./assets/images/Skills/EffectIcons/EnergyIcon.png":__vite_glob_0_17,"./assets/images/Skills/EffectIcons/ExplosiveIcon.png":__vite_glob_0_18,"./assets/images/Skills/EffectIcons/SpecialIcon.png":__vite_glob_0_19,"./assets/images/Skills/FuelChargeShot/FrameLevel1.png":__vite_glob_0_20,"./assets/images/Skills/FuelChargeShot/FrameLevel2.png":__vite_glob_0_21,"./assets/images/Skills/FuelChargeShot/FrameLevel3.png":__vite_glob_0_22,"./assets/images/Skills/FuelChargeShot/FuelChargeShotLevel1.png":__vite_glob_0_23,"./assets/images/Skills/FuelChargeShot/FuelChargeShotLevel2.png":__vite_glob_0_24,"./assets/images/Skills/FuelChargeShot/FuelChargeShotLevel3.png":__vite_glob_0_25,"./assets/images/Skills/FuelChargeShot/LaserLevel1.png":__vite_glob_0_26,"./assets/images/Skills/FuelChargeShot/LaserLevel2.png":__vite_glob_0_27,"./assets/images/Skills/FuelChargeShot/LaserLevel3.png":__vite_glob_0_28,"./assets/images/Skills/Mirror/ExplosiveEntity.png":__vite_glob_0_29,"./assets/images/Skills/Mirror/Mirror-1.png":__vite_glob_0_30,"./assets/images/Skills/Mirror/Mirror-2.png":__vite_glob_0_31,"./assets/images/Skills/Mirror/Mirror-3.png":__vite_glob_0_32,"./assets/images/Skills/Mirror/MirrorLevel1.png":__vite_glob_0_33,"./assets/images/Skills/Mirror/MirrorLevel2&3.png":__vite_glob_0_34,"./assets/images/Skills/Mirror/Portal.png":__vite_glob_0_35,"./assets/images/Skills/Rocket/RocketLevel1.png":__vite_glob_0_36,"./assets/images/Skills/Rocket/RocketLevel2.png":__vite_glob_0_37,"./assets/images/Skills/Rocket/RocketLevel3.png":__vite_glob_0_38,"./assets/images/Skills/Rocket/RocketProjectileLevel1.png":__vite_glob_0_39,"./assets/images/Skills/Rocket/RocketProjectileLevel2.png":__vite_glob_0_40,"./assets/images/Skills/Rocket/RocketProjectileLevel3.png":__vite_glob_0_41,"./assets/images/Skills/Rocket/RocketSubProjectileLevel3.png":__vite_glob_0_42,"./assets/images/Skills/Upgrade/EffectEvolution.png":__vite_glob_0_43,"./assets/images/Skills/Upgrade/Rocket/Level1.png":__vite_glob_0_44,"./assets/images/Skills/Upgrade/Rocket/Level2.png":__vite_glob_0_45,"./assets/images/Skills/Upgrade/Rocket/Level3.png":__vite_glob_0_46,"./assets/images/Skills/Upgrade/SupportEvolution.png":__vite_glob_0_47})).map(([t,i])=>[t.replace("./assets/",""),i.default]));new ImageLoader(e)}var KeyCode=(r=>(r.Backspace="Backspace",r.Tab="Tab",r.Enter="Enter",r.ShiftLeft="ShiftLeft",r.ShiftRight="ShiftRight",r.CtrlLeft="ControlLeft",r.CtrlRight="ControlRight",r.AltLeft="AltLeft",r.AltRight="AltRight",r.PauseBreak="Pause",r.CapsLock="CapsLock",r.Escape="Escape",r.Space="Space",r.PageUp="PageUp",r.PageDown="PageDown",r.End="End",r.Home="Home",r.ArrowLeft="ArrowLeft",r.ArrowUp="ArrowUp",r.ArrowRight="ArrowRight",r.ArrowDown="ArrowDown",r.Insert="Insert",r.Delete="Delete",r.Digit0="Digit0",r.Digit1="Digit1",r.Digit2="Digit2",r.Digit3="Digit3",r.Digit4="Digit4",r.Digit5="Digit5",r.Digit6="Digit6",r.Digit7="Digit7",r.Digit8="Digit8",r.Digit9="Digit9",r.KeyA="KeyA",r.KeyB="KeyB",r.KeyC="KeyC",r.KeyD="KeyD",r.KeyE="KeyE",r.KeyF="KeyF",r.KeyG="KeyG",r.KeyH="KeyH",r.KeyI="KeyI",r.KeyJ="KeyJ",r.KeyK="KeyK",r.KeyL="KeyL",r.KeyM="KeyM",r.KeyN="KeyN",r.KeyO="KeyO",r.KeyP="KeyP",r.KeyQ="KeyQ",r.KeyR="KeyR",r.KeyS="KeyS",r.KeyT="KeyT",r.KeyU="KeyU",r.KeyV="KeyV",r.KeyW="KeyW",r.KeyX="KeyX",r.KeyY="KeyY",r.KeyZ="KeyZ",r.LeftWindowKey="MetaLeft",r.RightWindowKey="MetaRight",r.SelectKey="ContextMenu",r.Numpad0="Numpad0",r.Numpad1="Numpad1",r.Numpad2="Numpad2",r.Numpad3="Numpad3",r.Numpad4="Numpad4",r.Numpad5="Numpad5",r.Numpad6="Numpad6",r.Numpad7="Numpad7",r.Numpad8="Numpad8",r.Numpad9="Numpad9",r.NumpadMultiply="NumpadMultiply",r.NumpadAdd="NumpadAdd",r.NumpadSubtract="NumpadSubtract",r.NumpadDecimal="NumpadDecimal",r.NumpadDivide="NumpadDivide",r.F1="F1",r.F2="F2",r.F3="F3",r.F4="F4",r.F5="F5",r.F6="F6",r.F7="F7",r.F8="F8",r.F9="F9",r.F10="F10",r.F11="F11",r.F12="F12",r.NumLock="NumLock",r.ScrollLock="ScrollLock",r.Semicolon="Semicolon",r.Equal="Equal",r.Comma="Comma",r.Minus="Minus",r.Period="Period",r.Slash="Slash",r.Backquote="Backquote",r.BracketLeft="BracketLeft",r.BracketRight="BracketRight",r.Quote="Quote",r))(KeyCode||{});class Key{constructor(){this.isDown=!1,this.isPressed={state:!1,wasAlreadyPressed:!1}}get IsDown(){return this.isDown}set IsDown(e){this.isDown=e}get IsPressed(){return this.isPressed.wasAlreadyPressed&&this.isPressed.state?!1:(this.isPressed.wasAlreadyPressed=this.isPressed.state,this.isPressed.state)}set IsPressed(e){this.isPressed.state=e}}const Keyboard={};for(const r in KeyCode){const e=KeyCode[r];Keyboard[e]=new Key}window.addEventListener("keydown",r=>{r.preventDefault();const{code:e}=r;console.log(e),Keyboard[e]&&(Keyboard[e].IsDown=!0,Keyboard[e].IsPressed=!0)});window.addEventListener("keyup",r=>{r.preventDefault();const{code:e}=r;Keyboard[e]&&(Keyboard[e].IsDown=!1,Keyboard[e].IsPressed=!1)});class ServiceKeyboardManager{constructor(){this.commandsStates=new Map,this.commandsStates.set("MoveUp",Keyboard.KeyW),this.commandsStates.set("MoveLeft",Keyboard.KeyA),this.commandsStates.set("MoveDown",Keyboard.KeyS),this.commandsStates.set("MoveRight",Keyboard.KeyD),this.commandsStates.set("PlayerShoot",Keyboard.Space),this.commandsStates.set("OpenInGameMenu",Keyboard.Escape),this.commandsStates.set("CloseInGameMenu",Keyboard.Escape),this.commandsStates.set("OpenShopMenu",Keyboard.KeyH),this.commandsStates.set("CloseShopMenu",Keyboard.KeyH),this.commandsStates.set("CloseOptionMenu",Keyboard.Escape),this.commandsStates.set("ToggleInGameTimer",Keyboard.KeyT),ServiceLocator.AddService("KeyboardManager",this)}GetCommandState(e){const{command:t}=e;return this.commandsStates.get(t)}}function LoadKeyboardManager(){new ServiceKeyboardManager}class EventManager{constructor(){this.events=new Map,ServiceLocator.AddService("EventManager",this)}Subscribe(e,t){var a;const i=this.events.get(e);i?i.push(t):(this.events.set(e,[]),(a=this.events.get(e))==null||a.push(t))}Unsubscribe(e,t){const i=this.events.get(e);if(i){const a=i.indexOf(t),o=i[i.length-1];i[a]=o,i.pop()}}Notify(e,t){var i;t&&t(),(i=this.events.get(e))==null||i.forEach(a=>{a()})}testQuantity(){console.log("Event Manager size: ",this.events.size)}}function LoadEventManager(){new EventManager}class GameStatManager{constructor(){this.timePlayerSurvived=0,this.winningRound=100,ServiceLocator.AddService("GameStatManager",this)}Update(e){this.timePlayerSurvived=Math.round((this.timePlayerSurvived+e)*100)/100,ServiceLocator.GetService("WaveManager").Round>this.winningRound&&ServiceLocator.GetService("SceneManager").PlayMainScene("GameOver")}GetTimePlayerHasSurvived(){return this.formatTime({seconds:this.timePlayerSurvived})}HasPlayerWon(){const t=ServiceLocator.GetService("WaveManager").Round;return t>this.winningRound?{hasWon:!0,round:t}:{hasWon:!1,round:t}}formatTime(e){const{seconds:t}=e,i=new Date(0);i.setSeconds(t);const a=String(i.getUTCHours()).padStart(2,"0"),o=String(i.getUTCMinutes()).padStart(2,"0"),n=String(i.getUTCSeconds()).padStart(2,"0");return`${a}:${o}:${n}`}}let gameStatManager;function LoadGameStatManager(){gameStatManager=new GameStatManager}function UpdateGameStatManager(r){gameStatManager.Update(r)}const canvas=document.querySelector("#canvas"),baseCanvaWidth=320,baseCanvaHeight=180,CANVA_SCALEX=canvas.width/baseCanvaWidth,CANVA_SCALEY=canvas.height/baseCanvaHeight,FRAME_RATE=60;class GeneratedSpritesManager{constructor(){this.generatedSpritesList={player:{projectiles:new Map,nonProjectiles:new Map},enemy:{projectiles:new Map,nonProjectiles:new Map}},ServiceLocator.AddService("GeneratedSpritesManager",this)}Update(e){objectKeys(this.generatedSpritesList.player).forEach(t=>{this.generatedSpritesList.player[t].forEach(i=>{i.Update(e)})}),objectKeys(this.generatedSpritesList.enemy).forEach(t=>{this.generatedSpritesList.enemy[t].forEach(i=>{i.Update(e)})})}Draw(e){objectKeys(this.generatedSpritesList.player).forEach(t=>{this.generatedSpritesList.player[t].forEach(i=>{i.Draw(e)})}),objectKeys(this.generatedSpritesList.enemy).forEach(t=>{this.generatedSpritesList.enemy[t].forEach(i=>{i.Draw(e)})})}AddSprite(e){const{Generator:t,Category:i}=e;i=="projectile"?this.generatedSpritesList[t].projectiles.set(e,e):i=="nonProjectile"&&this.generatedSpritesList[t].nonProjectiles.set(e,e)}RemoveSprite(e){const{Generator:t,Category:i}=e;let a=new Map;i=="projectile"?a=this.generatedSpritesList[t].projectiles:i=="nonProjectile"&&(a=this.generatedSpritesList[t].nonProjectiles),a.delete(e)}get EnemyProjectiles(){return this.generatedSpritesList.enemy.projectiles}testQuantity(){const e=this.generatedSpritesList.player.projectiles.size,t=this.generatedSpritesList.player.nonProjectiles.size,i=this.generatedSpritesList.enemy.projectiles.size,a=this.generatedSpritesList.enemy.nonProjectiles.size;console.log("playerProjectile",e),console.log("playerNonProjectile",t),console.log("enemyProjectile",i),console.log("enemyNonProjectilesSize",a)}}let bulletManager;function LoadGeneratedSpritesManager(){bulletManager=new GeneratedSpritesManager}function UpdateGeneratedSpritesManager(r){bulletManager.Update(r)}function DrawGeneratedSpritesManager(r){bulletManager.Draw(r)}function objectKeys(r){return Object.keys(r)}class PlayerProjectileDamageEffectController{constructor(e){const{baseDamage:t}=e;this.damageEffects=new Map,this.baseDamage=t}AddDamageEffects(e){const{damageEffectName:t,damageEffectObject:i}=e;this.damageEffects.set(t,i)}ApplyShortAndLongTermDamageEffect(e){const{target:t}=e,i=this.applyBaseDamageResistance({target:t}),a=this.computeShortDamageEffect({projectileDamage:i,target:t});return this.applyLongTermDamageEffect({projectileDamage:i,target:t}),a}SetBaseDamage(e){this.baseDamage=e}computeShortDamageEffect(e){const{target:t,projectileDamage:i}=e;let a=i;return this.damageEffects.forEach((o,n)=>{const s=t.DamageResistancesController.GetDamageResistance({resistanceType:n});if(o.Damage){const l=o.Damage({target:t,targetResistanceStat:s,baseDamage:i});a+=l}}),a}applyLongTermDamageEffect(e){const{target:t,projectileDamage:i}=e;this.damageEffects.forEach((a,o)=>{const{DamageType:n}=a,s=t.DamageResistancesController.GetDamageResistance({resistanceType:o});if(a.Effect){const l=a.Effect({target:t,targetResistanceStat:s,baseDamage:i});ServiceLocator.GetService("WaveManager").AddEnemyDamageState({target:t,effect:l,effectType:n})}})}applyBaseDamageResistance(e){const{target:t}=e;let i=this.baseDamage;const a=t.DamageResistancesController.GetDamageResistance({resistanceType:"BaseDamage"}),o=i-i*(a/100);return o<=0?i=0:i=o,i}}class SpriteAnimationsController{constructor(){this.animationList=new Map,this.currentAnimationName="",this.currentFrame=0,this.currentFrameTimer=1,this.doesAnimationLoop=!1,this.timeLeftFrameTimerBeforeParalyzed=0,this.isParalyzed=!1}AddAnimation(e){const{animation:t,frames:i,framesLengthInTime:a=1,beforePlayingAnimation:o,afterPlayingAnimation:n,methodToPlayOnSpecificFrames:s}=e;this.animationList.set(t,{frames:i,framesLengthInTime:a,beforePlayingAnimation:o,afterPlayingAnimation:n,methodToPlayOnSpecificFrames:s})}PlayAnimation(e){const{animation:t,loop:i=!1}=e,a=this.animationList.get(t);a&&this.CurrentAnimationName!==t&&(a.beforePlayingAnimation&&a.beforePlayingAnimation(),this.currentAnimationName=t,this.currentFrame=0,a.framesLengthInTime!=1/0&&(this.currentFrameTimer=a.framesLengthInTime),this.doesAnimationLoop=i)}PlayManuallyNextFrame(){if(this.currentAnimationObject){const{framesLengthInTime:e,afterPlayingAnimation:t}=this.currentAnimationObject;e==1/0&&(this.IsAnimationFinished||(this.currentFrame++,this.IsAnimationFinished&&t&&t()))}}PlayParalyzedAnimation(){this.isParalyzed||(this.timeLeftFrameTimerBeforeParalyzed=this.currentFrameTimer,this.currentFrameTimer=1/0,this.isParalyzed=!0)}StopParalyzedAnimation(){this.isParalyzed&&(this.currentFrameTimer=this.timeLeftFrameTimerBeforeParalyzed,this.isParalyzed=!1)}Update(e){if(this.CurrentAnimationName&&this.currentAnimationObject){const{framesLengthInTime:t,afterPlayingAnimation:i,methodToPlayOnSpecificFrames:a}=this.currentAnimationObject;if(t!=1/0){if(this.doesAnimationLoop&&this.IsAnimationFinished)this.currentFrame=0,i&&i();else if(!this.IsAnimationFinished&&(this.currentFrameTimer-=e,this.currentFrameTimer<=0)){this.currentFrame++,this.currentFrameTimer=t;const o=a==null?void 0:a.get(this.frameNumber);o&&o(),this.IsAnimationFinished&&!this.doesAnimationLoop&&i&&i()}}}}Draw(e,t){const{image:i,frameWidth:a,frameHeight:o,X:n,Y:s,spriteXOffset:l,spriteYOffset:A,scaleX:c,scaleY:m,numberFramesPerLine:S}=t,h=a*(this.frameNumber%S),f=o*Math.floor(this.frameNumber/S);e.drawImage(i,h,f,a,o,n+l,s+A,c*a,m*o)}get CurrentAnimationName(){return this.currentAnimationName}get IsAnimationFinished(){if(this.currentAnimationObject){const e=this.currentAnimationObject.frames.length-1;return this.currentFrame>=e}return!0}get currentAnimationObject(){return this.animationList.get(this.CurrentAnimationName)}get frameNumber(){const e=this.currentAnimationObject;return e?this.IsAnimationFinished?e.frames.slice(-1)[0]:e.frames[this.currentFrame]:0}}const E=class E{constructor(){this.currentStates=new Map,["high","medium","low"].forEach(t=>{this.currentStates.set(t,new Map)}),this.currentStateName="default"}PlayState(e){var o;const{stateName:t,duration:i}=e,a=E.statesDefaultInfo.get(t);if(a){const{priority:n,defaultDuration:s}=a;let l=i||s;l=l||1,(o=this.currentStates.get(n))==null||o.set(t,{currentStateTimer:l})}}GetIfInTheStateOf(e){var a;const{stateName:t}=e,{priority:i}=E.statesDefaultInfo.get(t);return!!((a=this.currentStates.get(i))!=null&&a.get(t))}Update(e){let t="default";this.currentStates.forEach(i=>{i.forEach((a,o)=>{t==="default"&&(t=o),a.currentStateTimer-=e,a.currentStateTimer<0&&i.delete(o)})}),this.currentStateName=t}Draw(e,t,i,a,o){const n=E.statesDefaultInfo.get(this.currentStateName);if(n){const{color:s}=n;e.globalCompositeOperation="source-atop",e.fillStyle=s,e.fillRect(t,i,a,o),e.globalCompositeOperation="source-over"}}get CurrentStateName(){return this.currentStateName}};E.statesDefaultInfo=new Map([["onHit",{color:"rgba(255,0,0,0.2)",priority:"medium",defaultDuration:6/60}],["onExplosion",{color:"	rgba(255, 211, 0,0.4)",priority:"high",defaultDuration:6/60}],["onEnergy",{color:"rgba(39, 144, 197,0.4)",priority:"high",defaultDuration:6/60}],["onFuelChargeShot",{color:"rgba(255,215,0,0.5)",priority:"high",defaultDuration:6/60}],["onCorrosion",{color:"rgba(0,255,0,0.2)",priority:"low"}],["onInvulnerable",{color:"rgba(220,220,220,0.5)",priority:"high"}]]);let SpriteStatesController=E;class Sprite{constructor(e,t,i,a=0,o=0,n=0,s=0,l=1,A=1,c=void 0,m=void 0){this.image=e,this.frameWidth=t,this.frameHeight=i,this.x=a,this.y=o,this.spriteXOffset=n,this.spriteYOffset=s,this.scaleX=l,this.scaleY=A,this.realWidth=c,this.realHeight=m,this.animationsController=new SpriteAnimationsController,this.statesController=new SpriteStatesController}Update(e){this.AnimationsController.Update(e),this.StatesController.Update(e)}Draw(e){const{image:t,frameWidth:i,frameHeight:a,X:o,Y:n,spriteXOffset:s,spriteYOffset:l,scaleX:A,scaleY:c}=this;this.AnimationsController.Draw(e,{image:t,frameWidth:i,frameHeight:a,X:o,Y:n,spriteXOffset:s,spriteYOffset:l,scaleX:A,scaleY:c,numberFramesPerLine:this.numberFramesPerLine}),this.StatesController.Draw(e,o,n,this.Width,this.Height)}drawRectangleAroundSprite(e){e.strokeStyle="purple",e.lineWidth=1,e.strokeRect(this.X,this.Y,this.Width,this.Height)}get ImagePath(){return new URL(this.image.src).pathname.slice(1)}get FrameWidth(){return this.frameWidth}get FrameHeight(){return this.frameHeight}get SpriteShiftPositionX(){return this.spriteXOffset}get SpriteShiftPositionY(){return this.spriteYOffset}get ScaleX(){return this.scaleX}get ScaleY(){return this.scaleY}get numberFramesPerLine(){return this.image.width/this.frameWidth}get Width(){return this.realWidth?this.realWidth:this.frameWidth*this.scaleX}set Width(e){this.realWidth=e}get Height(){return this.realHeight?this.realHeight:this.frameHeight*this.scaleY}set Height(e){this.realHeight=e}get X(){return this.x}set X(e){this.x=e}get Y(){return this.y}set Y(e){this.y=e}get FrameXCenter(){return this.realWidth?this.X+this.Width/2:this.X+this.spriteXOffset+this.Width/2}get FrameYCenter(){return this.realHeight?this.Y+this.Height/2:this.Y+this.spriteYOffset+this.Height/2}get StatesController(){return this.statesController}get AnimationsController(){return this.animationsController}}const X=class X{constructor(e,t,i,a,o,n){this.SpriteX=e,this.SpriteY=t,this.offsetX=i,this.offsetY=a,this.width=o,this.height=n}CheckIfBoxOverlap(e,t,i,a){const o=this.x<e+i&&e<this.x+this.width,n=this.y<t+a&&t<this.y+this.height;return o&&n}CheckCollision(e){for(const t of e.CurrentHitbox)if(this.CheckIfBoxOverlap(t.x,t.y,t.width,t.height))return!0;return!1}get x(){return this.SpriteX+this.offsetX}get y(){return this.SpriteY+this.offsetY}TestHitboxDrawing(e){e.strokeStyle="purple",e.strokeRect(this.x,this.y,this.width,this.height),e.strokeStyle="black"}};X.NoHitbox=[];let RectangleHitbox=X;function CreateHitboxes(r,e,t){const i=[];return t.forEach(({offsetX:a,offsetY:o,width:n,height:s})=>{i.push(new RectangleHitbox(r,e,a,o,n,s))}),i}function CreateHitboxesWithInfoFile(r,e,t){const i=[];return t.forEach(({X:a,Y:o,Width:n,Height:s})=>{i.push(new RectangleHitbox(r,e,a,o,n,s))}),i}const Info$7={Level1:{Meta:{TileDimensions:{Width:8,Height:8},RealDimension:{Width:3*CANVA_SCALEX,Height:5*CANVA_SCALEY},SpriteShiftPosition:{X:-3*CANVA_SCALEX,Y:-1*CANVA_SCALEY},SpriteShiftPositionOnPlayer:{Cannon1:{X:19*CANVA_SCALEX,Y:-5*CANVA_SCALEY}}},Hitbox:[{X:19*CANVA_SCALEX,Y:-5*CANVA_SCALEY,Width:3*CANVA_SCALEX,Height:5*CANVA_SCALEY}],Animations:{Idle:{FrameLengthInTime:1/0,Frames:[0]},Destroyed:{FrameLengthInTime:6/60,Frames:[1,2,3]}}},Level2:{Meta:{TileDimensions:{Width:16,Height:16},RealDimension:{Width:8*CANVA_SCALEX,Height:6*CANVA_SCALEY},SpriteShiftPosition:{X:-4*CANVA_SCALEX,Y:-5*CANVA_SCALEY},SpriteShiftPositionOnPlayer:{Cannon1:{X:14*CANVA_SCALEX,Y:-6*CANVA_SCALEY},Cannon2:{X:14*CANVA_SCALEX,Y:12*CANVA_SCALEY}}},Hitbox:{Cannon1:[{X:14*CANVA_SCALEX,Y:-6*CANVA_SCALEY,Width:8*CANVA_SCALEX,Height:6*CANVA_SCALEY}],Cannon2:[{X:14*CANVA_SCALEX,Y:12*CANVA_SCALEY,Width:8*CANVA_SCALEX,Height:6*CANVA_SCALEY}]},Animations:{Idle:{FrameLengthInTime:1/0,Frames:[0]},Destroyed:{FrameLengthInTime:6/60,Frames:[1,2,3,4]}}},Level3:{Meta:{TileDimensions:{Width:16,Height:16},RealDimension:{Width:7*CANVA_SCALEX,Height:7*CANVA_SCALEY},SpriteShiftPosition:{X:-5*CANVA_SCALEX,Y:-5*CANVA_SCALEY},SpriteShiftPositionOnPlayer:{Cannon1:{X:14*CANVA_SCALEX,Y:-7*CANVA_SCALEY},Cannon2:{X:14*CANVA_SCALEX,Y:12*CANVA_SCALEX}}},Hitbox:{Cannon1:[{X:14*CANVA_SCALEX,Y:-7*CANVA_SCALEY,Width:7*CANVA_SCALEX,Height:7*CANVA_SCALEY}],Cannon2:[{X:14*CANVA_SCALEX,Y:12*CANVA_SCALEX,Width:7*CANVA_SCALEX,Height:7*CANVA_SCALEY}]},Animations:{Idle:{FrameLengthInTime:1/0,Frames:[0]},Destroyed:{FrameLengthInTime:.1,Frames:[1,2,3,4]}}}},Info$6={Explosive:{Meta:{TileDimensions:{Width:8,Height:8},RealDimension:{Width:8*CANVA_SCALEX,Height:8*CANVA_SCALEY},SpriteShiftPosition:{X:-0*CANVA_SCALEX,Y:-0*CANVA_SCALEY}}},Energy:{Meta:{TileDimensions:{Width:8,Height:8},RealDimension:{Width:8*CANVA_SCALEX,Height:8*CANVA_SCALEY},SpriteShiftPosition:{X:-0*CANVA_SCALEX,Y:-0*CANVA_SCALEY}}},Corrosive:{Meta:{TileDimensions:{Width:8,Height:8},RealDimension:{Width:8*CANVA_SCALEX,Height:8*CANVA_SCALEY},SpriteShiftPosition:{X:-0*CANVA_SCALEX,Y:-0*CANVA_SCALEY}}},Special:{Meta:{TileDimensions:{Width:8,Height:8},RealDimension:{Width:8*CANVA_SCALEX,Height:8*CANVA_SCALEY},SpriteShiftPosition:{X:-0*CANVA_SCALEX,Y:-0*CANVA_SCALEY}}}},PlayerStats$1=[{"Number of Boosts":0,"Base Health":100,"Speed of the Player (Number Frames to HalfScreen Distance)":100,"Invulnerability Time Period (Seconds)":1},{"Number of Boosts":1,"Base Health":120,"Speed of the Player (Number Frames to HalfScreen Distance)":99.6,"Invulnerability Time Period (Seconds)":1},{"Number of Boosts":2,"Base Health":140,"Speed of the Player (Number Frames to HalfScreen Distance)":99.2,"Invulnerability Time Period (Seconds)":1},{"Number of Boosts":3,"Base Health":160,"Speed of the Player (Number Frames to HalfScreen Distance)":98.8,"Invulnerability Time Period (Seconds)":1},{"Number of Boosts":4,"Base Health":180,"Speed of the Player (Number Frames to HalfScreen Distance)":98.4,"Invulnerability Time Period (Seconds)":1},{"Number of Boosts":5,"Base Health":200,"Speed of the Player (Number Frames to HalfScreen Distance)":98,"Invulnerability Time Period (Seconds)":1},{"Number of Boosts":6,"Base Health":220,"Speed of the Player (Number Frames to HalfScreen Distance)":97.6,"Invulnerability Time Period (Seconds)":1},{"Number of Boosts":7,"Base Health":240,"Speed of the Player (Number Frames to HalfScreen Distance)":97.2,"Invulnerability Time Period (Seconds)":1},{"Number of Boosts":8,"Base Health":260,"Speed of the Player (Number Frames to HalfScreen Distance)":96.8,"Invulnerability Time Period (Seconds)":1},{"Number of Boosts":9,"Base Health":280,"Speed of the Player (Number Frames to HalfScreen Distance)":96.4,"Invulnerability Time Period (Seconds)":1},{"Number of Boosts":10,"Base Health":300,"Speed of the Player (Number Frames to HalfScreen Distance)":96,"Invulnerability Time Period (Seconds)":1},{"Number of Boosts":11,"Base Health":320,"Speed of the Player (Number Frames to HalfScreen Distance)":95.6,"Invulnerability Time Period (Seconds)":1},{"Number of Boosts":12,"Base Health":340,"Speed of the Player (Number Frames to HalfScreen Distance)":95.2,"Invulnerability Time Period (Seconds)":1},{"Number of Boosts":13,"Base Health":360,"Speed of the Player (Number Frames to HalfScreen Distance)":94.8,"Invulnerability Time Period (Seconds)":1},{"Number of Boosts":14,"Base Health":380,"Speed of the Player (Number Frames to HalfScreen Distance)":94.4,"Invulnerability Time Period (Seconds)":1},{"Number of Boosts":15,"Base Health":400,"Speed of the Player (Number Frames to HalfScreen Distance)":94,"Invulnerability Time Period (Seconds)":1},{"Number of Boosts":16,"Base Health":420,"Speed of the Player (Number Frames to HalfScreen Distance)":93.6,"Invulnerability Time Period (Seconds)":1},{"Number of Boosts":17,"Base Health":440,"Speed of the Player (Number Frames to HalfScreen Distance)":93.2,"Invulnerability Time Period (Seconds)":1},{"Number of Boosts":18,"Base Health":460,"Speed of the Player (Number Frames to HalfScreen Distance)":92.8,"Invulnerability Time Period (Seconds)":1},{"Number of Boosts":19,"Base Health":480,"Speed of the Player (Number Frames to HalfScreen Distance)":92.4,"Invulnerability Time Period (Seconds)":1},{"Number of Boosts":20,"Base Health":500,"Speed of the Player (Number Frames to HalfScreen Distance)":92,"Invulnerability Time Period (Seconds)":1},{"Number of Boosts":21,"Base Health":520,"Speed of the Player (Number Frames to HalfScreen Distance)":91.6,"Invulnerability Time Period (Seconds)":1},{"Number of Boosts":22,"Base Health":540,"Speed of the Player (Number Frames to HalfScreen Distance)":91.2,"Invulnerability Time Period (Seconds)":1},{"Number of Boosts":23,"Base Health":560,"Speed of the Player (Number Frames to HalfScreen Distance)":90.8,"Invulnerability Time Period (Seconds)":1},{"Number of Boosts":24,"Base Health":580,"Speed of the Player (Number Frames to HalfScreen Distance)":90.4,"Invulnerability Time Period (Seconds)":1},{"Number of Boosts":25,"Base Health":600,"Speed of the Player (Number Frames to HalfScreen Distance)":90,"Invulnerability Time Period (Seconds)":1}],Info$5={Meta:{TileDimensions:{Width:64,Height:64},RealDimension:{Width:34*CANVA_SCALEX,Height:12*CANVA_SCALEY},SpriteShiftPosition:{X:-18*CANVA_SCALEX,Y:-25*CANVA_SCALEY}},Hitbox:[{X:0,Y:0,Width:22*CANVA_SCALEX,Height:12*CANVA_SCALEY},{X:22*CANVA_SCALEX,Y:1*CANVA_SCALEY,Width:1*CANVA_SCALEX,Height:11*CANVA_SCALEY},{X:23*CANVA_SCALEX,Y:2*CANVA_SCALEY,Width:1*CANVA_SCALEX,Height:10*CANVA_SCALEY},{X:24*CANVA_SCALEX,Y:3*CANVA_SCALEY,Width:1*CANVA_SCALEX,Height:9*CANVA_SCALEY},{X:25*CANVA_SCALEX,Y:4*CANVA_SCALEY,Width:1*CANVA_SCALEX,Height:8*CANVA_SCALEY},{X:26*CANVA_SCALEX,Y:5*CANVA_SCALEY,Width:1*CANVA_SCALEX,Height:7*CANVA_SCALEY},{X:27*CANVA_SCALEX,Y:6*CANVA_SCALEY,Width:1*CANVA_SCALEX,Height:6*CANVA_SCALEY},{X:28*CANVA_SCALEX,Y:7*CANVA_SCALEY,Width:6*CANVA_SCALEX,Height:4*CANVA_SCALEY}],Animations:{Idle:{FrameLengthInTime:1/0,Frames:[0]},Destroyed:{FrameLengthInTime:3/60,Frames:[2,3,4,5,6,7,8,9]}},EffectCosmetic:{Meta:{TileDimensions:{Width:4,Height:4},SpriteShiftPosition:{X:0*CANVA_SCALEX,Y:0*CANVA_SCALEY}},Level1:{SpriteShiftPositionOnPlayer:[{X:5*CANVA_SCALEX,Y:2*CANVA_SCALEY}]},Level2:{SpriteShiftPositionOnPlayer:[{X:5*CANVA_SCALEX,Y:2*CANVA_SCALEY},{X:10*CANVA_SCALEX,Y:2*CANVA_SCALEY}]},Level3:{SpriteShiftPositionOnPlayer:[{X:5*CANVA_SCALEX,Y:2*CANVA_SCALEY},{X:10*CANVA_SCALEX,Y:2*CANVA_SCALEY},{X:15*CANVA_SCALEX,Y:2*CANVA_SCALEY}]}},SupportCosmetic:{Meta:{TileDimensions:{Width:4,Height:4},SpriteShiftPosition:{X:0*CANVA_SCALEX,Y:0*CANVA_SCALEY}},Level1:{SpriteShiftPositionOnPlayer:[{X:20*CANVA_SCALEX,Y:2*CANVA_SCALEY}]},Level2:{SpriteShiftPositionOnPlayer:[{X:20*CANVA_SCALEX,Y:2*CANVA_SCALEY},{X:22*CANVA_SCALEX,Y:4*CANVA_SCALEY}]},Level3:{SpriteShiftPositionOnPlayer:[{X:20*CANVA_SCALEX,Y:2*CANVA_SCALEY},{X:22*CANVA_SCALEX,Y:4*CANVA_SCALEY},{X:24*CANVA_SCALEX,Y:6*CANVA_SCALEY}]}}},BladeConstant$1=[{"Skill Name":"Blade",Level:1,"Skill Price":1e3,"Projectile Speed":75,"Hit Rate Per Second":5,"Damage Increase":0,"Primary Skill":"Energy","Secondary Skill":null},{"Skill Name":"Blade",Level:2,"Skill Price":6300,"Projectile Speed":75,"Hit Rate Per Second":5,"Damage Increase":0,"Primary Skill":"Energy","Secondary Skill":null},{"Skill Name":"Blade",Level:3,"Skill Price":2e4,"Projectile Speed":75,"Hit Rate Per Second":5,"Damage Increase":1.25,"Primary Skill":"Energy","Secondary Skill":null}],BladeDamageStats$1=[{"Number Of Boost":0,"Blade L1 Damage":.45,"Blade L2 Damage":.75,"Blade L3 Damage":.75,"Energy Stat (%)":0},{"Number Of Boost":1,"Blade L1 Damage":1.25,"Blade L2 Damage":1.55,"Blade L3 Damage":1.55,"Energy Stat (%)":2.8},{"Number Of Boost":2,"Blade L1 Damage":2.05,"Blade L2 Damage":2.35,"Blade L3 Damage":2.35,"Energy Stat (%)":5.6},{"Number Of Boost":3,"Blade L1 Damage":2.85,"Blade L2 Damage":3.15,"Blade L3 Damage":3.15,"Energy Stat (%)":8.4},{"Number Of Boost":4,"Blade L1 Damage":3.65,"Blade L2 Damage":3.95,"Blade L3 Damage":3.95,"Energy Stat (%)":11.2},{"Number Of Boost":5,"Blade L1 Damage":4.45,"Blade L2 Damage":4.75,"Blade L3 Damage":4.75,"Energy Stat (%)":14},{"Number Of Boost":6,"Blade L1 Damage":5.25,"Blade L2 Damage":5.55,"Blade L3 Damage":5.55,"Energy Stat (%)":16.8},{"Number Of Boost":7,"Blade L1 Damage":6.05,"Blade L2 Damage":6.35,"Blade L3 Damage":6.35,"Energy Stat (%)":19.6},{"Number Of Boost":8,"Blade L1 Damage":6.85,"Blade L2 Damage":7.15,"Blade L3 Damage":7.15,"Energy Stat (%)":22.4},{"Number Of Boost":9,"Blade L1 Damage":7.65,"Blade L2 Damage":7.95,"Blade L3 Damage":7.95,"Energy Stat (%)":25.2},{"Number Of Boost":10,"Blade L1 Damage":8.45,"Blade L2 Damage":8.75,"Blade L3 Damage":8.75,"Energy Stat (%)":28},{"Number Of Boost":11,"Blade L1 Damage":9.25,"Blade L2 Damage":9.55,"Blade L3 Damage":9.55,"Energy Stat (%)":30.8},{"Number Of Boost":12,"Blade L1 Damage":10.05,"Blade L2 Damage":10.35,"Blade L3 Damage":10.35,"Energy Stat (%)":33.6},{"Number Of Boost":13,"Blade L1 Damage":10.85,"Blade L2 Damage":11.15,"Blade L3 Damage":11.15,"Energy Stat (%)":36.4},{"Number Of Boost":14,"Blade L1 Damage":11.65,"Blade L2 Damage":11.95,"Blade L3 Damage":11.95,"Energy Stat (%)":39.2},{"Number Of Boost":15,"Blade L1 Damage":12.45,"Blade L2 Damage":12.75,"Blade L3 Damage":12.75,"Energy Stat (%)":42},{"Number Of Boost":16,"Blade L1 Damage":13.25,"Blade L2 Damage":13.55,"Blade L3 Damage":13.55,"Energy Stat (%)":44.8},{"Number Of Boost":17,"Blade L1 Damage":14.05,"Blade L2 Damage":14.35,"Blade L3 Damage":14.35,"Energy Stat (%)":47.6},{"Number Of Boost":18,"Blade L1 Damage":14.85,"Blade L2 Damage":15.15,"Blade L3 Damage":15.15,"Energy Stat (%)":50.4},{"Number Of Boost":19,"Blade L1 Damage":15.65,"Blade L2 Damage":15.95,"Blade L3 Damage":15.95,"Energy Stat (%)":53.2},{"Number Of Boost":20,"Blade L1 Damage":16.45,"Blade L2 Damage":16.75,"Blade L3 Damage":16.75,"Energy Stat (%)":56},{"Number Of Boost":21,"Blade L1 Damage":17.25,"Blade L2 Damage":17.55,"Blade L3 Damage":17.55,"Energy Stat (%)":58.8},{"Number Of Boost":22,"Blade L1 Damage":18.05,"Blade L2 Damage":18.35,"Blade L3 Damage":18.35,"Energy Stat (%)":61.6},{"Number Of Boost":23,"Blade L1 Damage":18.85,"Blade L2 Damage":19.15,"Blade L3 Damage":19.15,"Energy Stat (%)":64.4},{"Number Of Boost":24,"Blade L1 Damage":19.65,"Blade L2 Damage":19.95,"Blade L3 Damage":19.95,"Energy Stat (%)":67.2},{"Number Of Boost":25,"Blade L1 Damage":20.45,"Blade L2 Damage":20.75,"Blade L3 Damage":20.75,"Energy Stat (%)":70}],Info$4={Level1:{Meta:{TileDimensions:{Width:9,Height:9},RealDimension:{Width:3*CANVA_SCALEX,Height:3*CANVA_SCALEY},SpriteShiftPosition:{X:-3*CANVA_SCALEX,Y:-3*CANVA_SCALEY}},Hitbox:[{X:0*CANVA_SCALEX,Y:0*CANVA_SCALEY,Width:3*CANVA_SCALEX,Height:3*CANVA_SCALEY}],Animations:{Spin:{FrameLengthInTime:3*(1/FRAME_RATE),Frames:[0,1,2,3]}}},Level2:{Meta:{TileDimensions:{Width:9,Height:9},RealDimension:{Width:9*CANVA_SCALEX,Height:9*CANVA_SCALEY},SpriteShiftPosition:{X:0*CANVA_SCALEX,Y:0*CANVA_SCALEX}},Hitbox:[{X:0*CANVA_SCALEX,Y:0*CANVA_SCALEY,Width:9*CANVA_SCALEX,Height:9*CANVA_SCALEY}],Animations:{Spin:{FrameLengthInTime:3*(1/FRAME_RATE),Frames:[0,1,2,3]}}},Level3:{Meta:{TileDimensions:{Width:9,Height:9},RealDimension:{Width:9*CANVA_SCALEX,Height:9*CANVA_SCALEY},SpriteShiftPosition:{X:0*CANVA_SCALEX,Y:0*CANVA_SCALEX}},Hitbox:[{X:0*CANVA_SCALEX,Y:0*CANVA_SCALEY,Width:9*CANVA_SCALEX,Height:9*CANVA_SCALEY}],Animations:{Spin:{FrameLengthInTime:3*(1/FRAME_RATE),Frames:[0,1,2,3]},Destroyed:{FrameLengthInTime:3*(1/FRAME_RATE),Frames:[4,5]}}},SelectSkill:{Level1:{Meta:{TileDimensions:{Width:16,Height:16},RealDimension:{Width:11*CANVA_SCALEX,Height:12*CANVA_SCALEY},SpriteShiftPosition:{X:-3*CANVA_SCALEX,Y:-2*CANVA_SCALEY},Description:"Blades slice through enemies. Sharp action!",MoreDescription:"When an enemy is destroyed, it generates 2 blades that go through enemies, dealing consistent damage."}},Level2:{Meta:{TileDimensions:{Width:16,Height:16},RealDimension:{Width:14*CANVA_SCALEX,Height:16*CANVA_SCALEY},SpriteShiftPosition:{X:-1*CANVA_SCALEX,Y:-0*CANVA_SCALEY},Description:"Size matters!",MoreDescription:"When an enemy is destroyed, it generates 2 larger blades that go through enemies."}},Level3:{Meta:{TileDimensions:{Width:16,Height:16},RealDimension:{Width:14*CANVA_SCALEX,Height:14*CANVA_SCALEY},SpriteShiftPosition:{X:-1*CANVA_SCALEX,Y:-1*CANVA_SCALEY},Description:"Boomerang blades! Double trouble!",MoreDescription:"When an enemy is destroyed, it generates 2 big blades with a boomerang effect, covering longer distances. Each enemy destroyed by the spinning blades boosts their damage."}}}},PlayerBulletDamageStats$1=[{"Number Of Boost":0,"Player Bullet Damage":30,"Player Bullet Attack Speed":3,"Projectile Speed":75},{"Number Of Boost":1,"Player Bullet Damage":30.8,"Player Bullet Attack Speed":3.04,"Projectile Speed":75},{"Number Of Boost":2,"Player Bullet Damage":31.6,"Player Bullet Attack Speed":3.08,"Projectile Speed":75},{"Number Of Boost":3,"Player Bullet Damage":32.4,"Player Bullet Attack Speed":3.12,"Projectile Speed":75},{"Number Of Boost":4,"Player Bullet Damage":33.2,"Player Bullet Attack Speed":3.16,"Projectile Speed":75},{"Number Of Boost":5,"Player Bullet Damage":34,"Player Bullet Attack Speed":3.2,"Projectile Speed":75},{"Number Of Boost":6,"Player Bullet Damage":34.8,"Player Bullet Attack Speed":3.24,"Projectile Speed":75},{"Number Of Boost":7,"Player Bullet Damage":35.6,"Player Bullet Attack Speed":3.28,"Projectile Speed":75},{"Number Of Boost":8,"Player Bullet Damage":36.4,"Player Bullet Attack Speed":3.32,"Projectile Speed":75},{"Number Of Boost":9,"Player Bullet Damage":37.2,"Player Bullet Attack Speed":3.36,"Projectile Speed":60},{"Number Of Boost":10,"Player Bullet Damage":38,"Player Bullet Attack Speed":3.4,"Projectile Speed":60},{"Number Of Boost":11,"Player Bullet Damage":38.8,"Player Bullet Attack Speed":3.44,"Projectile Speed":60},{"Number Of Boost":12,"Player Bullet Damage":39.6,"Player Bullet Attack Speed":3.48,"Projectile Speed":60},{"Number Of Boost":13,"Player Bullet Damage":40.4,"Player Bullet Attack Speed":3.52,"Projectile Speed":60},{"Number Of Boost":14,"Player Bullet Damage":41.2,"Player Bullet Attack Speed":3.56,"Projectile Speed":60},{"Number Of Boost":15,"Player Bullet Damage":42,"Player Bullet Attack Speed":3.6,"Projectile Speed":60},{"Number Of Boost":16,"Player Bullet Damage":42.8,"Player Bullet Attack Speed":3.64,"Projectile Speed":60},{"Number Of Boost":17,"Player Bullet Damage":43.6,"Player Bullet Attack Speed":3.68,"Projectile Speed":60},{"Number Of Boost":18,"Player Bullet Damage":44.4,"Player Bullet Attack Speed":3.72,"Projectile Speed":45},{"Number Of Boost":19,"Player Bullet Damage":45.2,"Player Bullet Attack Speed":3.76,"Projectile Speed":45},{"Number Of Boost":20,"Player Bullet Damage":46,"Player Bullet Attack Speed":3.8,"Projectile Speed":45},{"Number Of Boost":21,"Player Bullet Damage":46.8,"Player Bullet Attack Speed":3.84,"Projectile Speed":45},{"Number Of Boost":22,"Player Bullet Damage":47.6,"Player Bullet Attack Speed":3.88,"Projectile Speed":45},{"Number Of Boost":23,"Player Bullet Damage":48.4,"Player Bullet Attack Speed":3.92,"Projectile Speed":45},{"Number Of Boost":24,"Player Bullet Damage":49.2,"Player Bullet Attack Speed":3.96,"Projectile Speed":45},{"Number Of Boost":25,"Player Bullet Damage":50,"Player Bullet Attack Speed":4,"Projectile Speed":45}],Info$3={Meta:{TileDimensions:{Width:8,Height:8},RealDimension:{Width:2*CANVA_SCALEX,Height:2*CANVA_SCALEY},SpriteShiftPosition:{X:-3*CANVA_SCALEX,Y:-3*CANVA_SCALEY},SpriteShiftPositionOnPlayer:{X:34*CANVA_SCALEX,Y:8*CANVA_SCALEY}},Hitbox:[{X:0,Y:0,Width:2*CANVA_SCALEX,Height:2*CANVA_SCALEY}],Animations:{Idle:{FrameLengthInTime:1/0,Frames:[0]},Destroyed:{FrameLengthInTime:2*(1/FRAME_RATE),Frames:[0,1,2,3,4]}}},RocketConstant$1=[{"Skill Name":"Rocket",Level:1,"Skill Price":1e3,"Number of Cannon":1,"Projectile Speed":75,"Primary Skill":"Explosive","Secondary Skill":null},{"Skill Name":"Rocket",Level:2,"Skill Price":6300,"Number of Cannon":2,"Projectile Speed":75,"Primary Skill":"Explosive","Secondary Skill":null},{"Skill Name":"Rocket",Level:3,"Skill Price":2e4,"Number of Cannon":2,"Projectile Speed":75,"Primary Skill":"Explosive","Secondary Skill":null}],RocketDamageStats$1=[{"Number Of Boost":0,"Rocket L1 Damage":150,"Radius 1 L1 Damage":75,"Radius 2 L1 Damage":37.5,"Rocket L1 Attack Speed":1.5,"Rocket L2 Damage":210,"Radius 1 L2 Damage":105,"Radius 2 L2 Damage":52.5,"Rocket L2 Attack Speed":1.75,"Rocket L3 Damage":270,"Radius 1 L3 Damage":135,"Radius 2 L3 Damage":67.5,"Rocket L3 Attack Speed":2,"Sub Projectile L3 Damage":150,"Explosive Stat (%)":0},{"Number Of Boost":1,"Rocket L1 Damage":150.8,"Radius 1 L1 Damage":75.4,"Radius 2 L1 Damage":37.7,"Rocket L1 Attack Speed":1.54,"Rocket L2 Damage":210.8,"Radius 1 L2 Damage":105.4,"Radius 2 L2 Damage":52.7,"Rocket L2 Attack Speed":1.79,"Rocket L3 Damage":270.8,"Radius 1 L3 Damage":135.4,"Radius 2 L3 Damage":67.7,"Rocket L3 Attack Speed":2.04,"Sub Projectile L3 Damage":150.8,"Explosive Stat (%)":2.4},{"Number Of Boost":2,"Rocket L1 Damage":151.6,"Radius 1 L1 Damage":75.8,"Radius 2 L1 Damage":37.9,"Rocket L1 Attack Speed":1.58,"Rocket L2 Damage":211.6,"Radius 1 L2 Damage":105.8,"Radius 2 L2 Damage":52.9,"Rocket L2 Attack Speed":1.83,"Rocket L3 Damage":271.6,"Radius 1 L3 Damage":135.8,"Radius 2 L3 Damage":67.9,"Rocket L3 Attack Speed":2.08,"Sub Projectile L3 Damage":151.6,"Explosive Stat (%)":4.8},{"Number Of Boost":3,"Rocket L1 Damage":152.4,"Radius 1 L1 Damage":76.2,"Radius 2 L1 Damage":38.1,"Rocket L1 Attack Speed":1.62,"Rocket L2 Damage":212.4,"Radius 1 L2 Damage":106.2,"Radius 2 L2 Damage":53.1,"Rocket L2 Attack Speed":1.87,"Rocket L3 Damage":272.4,"Radius 1 L3 Damage":136.2,"Radius 2 L3 Damage":68.1,"Rocket L3 Attack Speed":2.12,"Sub Projectile L3 Damage":152.4,"Explosive Stat (%)":7.2},{"Number Of Boost":4,"Rocket L1 Damage":153.2,"Radius 1 L1 Damage":76.6,"Radius 2 L1 Damage":38.3,"Rocket L1 Attack Speed":1.66,"Rocket L2 Damage":213.2,"Radius 1 L2 Damage":106.6,"Radius 2 L2 Damage":53.3,"Rocket L2 Attack Speed":1.91,"Rocket L3 Damage":273.2,"Radius 1 L3 Damage":136.6,"Radius 2 L3 Damage":68.3,"Rocket L3 Attack Speed":2.16,"Sub Projectile L3 Damage":153.2,"Explosive Stat (%)":9.6},{"Number Of Boost":5,"Rocket L1 Damage":154,"Radius 1 L1 Damage":77,"Radius 2 L1 Damage":38.5,"Rocket L1 Attack Speed":1.7,"Rocket L2 Damage":214,"Radius 1 L2 Damage":107,"Radius 2 L2 Damage":53.5,"Rocket L2 Attack Speed":1.95,"Rocket L3 Damage":274,"Radius 1 L3 Damage":137,"Radius 2 L3 Damage":68.5,"Rocket L3 Attack Speed":2.2,"Sub Projectile L3 Damage":154,"Explosive Stat (%)":12},{"Number Of Boost":6,"Rocket L1 Damage":154.8,"Radius 1 L1 Damage":77.4,"Radius 2 L1 Damage":38.7,"Rocket L1 Attack Speed":1.74,"Rocket L2 Damage":214.8,"Radius 1 L2 Damage":107.4,"Radius 2 L2 Damage":53.7,"Rocket L2 Attack Speed":1.99,"Rocket L3 Damage":274.8,"Radius 1 L3 Damage":137.4,"Radius 2 L3 Damage":68.7,"Rocket L3 Attack Speed":2.24,"Sub Projectile L3 Damage":154.8,"Explosive Stat (%)":14.4},{"Number Of Boost":7,"Rocket L1 Damage":155.6,"Radius 1 L1 Damage":77.8,"Radius 2 L1 Damage":38.9,"Rocket L1 Attack Speed":1.78,"Rocket L2 Damage":215.6,"Radius 1 L2 Damage":107.8,"Radius 2 L2 Damage":53.9,"Rocket L2 Attack Speed":2.03,"Rocket L3 Damage":275.6,"Radius 1 L3 Damage":137.8,"Radius 2 L3 Damage":68.9,"Rocket L3 Attack Speed":2.28,"Sub Projectile L3 Damage":155.6,"Explosive Stat (%)":16.8},{"Number Of Boost":8,"Rocket L1 Damage":156.4,"Radius 1 L1 Damage":78.2,"Radius 2 L1 Damage":39.1,"Rocket L1 Attack Speed":1.82,"Rocket L2 Damage":216.4,"Radius 1 L2 Damage":108.2,"Radius 2 L2 Damage":54.1,"Rocket L2 Attack Speed":2.07,"Rocket L3 Damage":276.4,"Radius 1 L3 Damage":138.2,"Radius 2 L3 Damage":69.1,"Rocket L3 Attack Speed":2.32,"Sub Projectile L3 Damage":156.4,"Explosive Stat (%)":19.2},{"Number Of Boost":9,"Rocket L1 Damage":157.2,"Radius 1 L1 Damage":78.6,"Radius 2 L1 Damage":39.3,"Rocket L1 Attack Speed":1.86,"Rocket L2 Damage":217.2,"Radius 1 L2 Damage":108.6,"Radius 2 L2 Damage":54.3,"Rocket L2 Attack Speed":2.11,"Rocket L3 Damage":277.2,"Radius 1 L3 Damage":138.6,"Radius 2 L3 Damage":69.3,"Rocket L3 Attack Speed":2.36,"Sub Projectile L3 Damage":157.2,"Explosive Stat (%)":21.6},{"Number Of Boost":10,"Rocket L1 Damage":158,"Radius 1 L1 Damage":79,"Radius 2 L1 Damage":39.5,"Rocket L1 Attack Speed":1.9,"Rocket L2 Damage":218,"Radius 1 L2 Damage":109,"Radius 2 L2 Damage":54.5,"Rocket L2 Attack Speed":2.15,"Rocket L3 Damage":278,"Radius 1 L3 Damage":139,"Radius 2 L3 Damage":69.5,"Rocket L3 Attack Speed":2.4,"Sub Projectile L3 Damage":158,"Explosive Stat (%)":24},{"Number Of Boost":11,"Rocket L1 Damage":158.8,"Radius 1 L1 Damage":79.4,"Radius 2 L1 Damage":39.7,"Rocket L1 Attack Speed":1.94,"Rocket L2 Damage":218.8,"Radius 1 L2 Damage":109.4,"Radius 2 L2 Damage":54.7,"Rocket L2 Attack Speed":2.19,"Rocket L3 Damage":278.8,"Radius 1 L3 Damage":139.4,"Radius 2 L3 Damage":69.7,"Rocket L3 Attack Speed":2.44,"Sub Projectile L3 Damage":158.8,"Explosive Stat (%)":26.4},{"Number Of Boost":12,"Rocket L1 Damage":159.6,"Radius 1 L1 Damage":79.8,"Radius 2 L1 Damage":39.9,"Rocket L1 Attack Speed":1.98,"Rocket L2 Damage":219.6,"Radius 1 L2 Damage":109.8,"Radius 2 L2 Damage":54.9,"Rocket L2 Attack Speed":2.23,"Rocket L3 Damage":279.6,"Radius 1 L3 Damage":139.8,"Radius 2 L3 Damage":69.9,"Rocket L3 Attack Speed":2.48,"Sub Projectile L3 Damage":159.6,"Explosive Stat (%)":28.8},{"Number Of Boost":13,"Rocket L1 Damage":160.4,"Radius 1 L1 Damage":80.2,"Radius 2 L1 Damage":40.1,"Rocket L1 Attack Speed":2.02,"Rocket L2 Damage":220.4,"Radius 1 L2 Damage":110.2,"Radius 2 L2 Damage":55.1,"Rocket L2 Attack Speed":2.27,"Rocket L3 Damage":280.4,"Radius 1 L3 Damage":140.2,"Radius 2 L3 Damage":70.1,"Rocket L3 Attack Speed":2.52,"Sub Projectile L3 Damage":160.4,"Explosive Stat (%)":31.2},{"Number Of Boost":14,"Rocket L1 Damage":161.2,"Radius 1 L1 Damage":80.6,"Radius 2 L1 Damage":40.3,"Rocket L1 Attack Speed":2.06,"Rocket L2 Damage":221.2,"Radius 1 L2 Damage":110.6,"Radius 2 L2 Damage":55.3,"Rocket L2 Attack Speed":2.31,"Rocket L3 Damage":281.2,"Radius 1 L3 Damage":140.6,"Radius 2 L3 Damage":70.3,"Rocket L3 Attack Speed":2.56,"Sub Projectile L3 Damage":161.2,"Explosive Stat (%)":33.6},{"Number Of Boost":15,"Rocket L1 Damage":162,"Radius 1 L1 Damage":81,"Radius 2 L1 Damage":40.5,"Rocket L1 Attack Speed":2.1,"Rocket L2 Damage":222,"Radius 1 L2 Damage":111,"Radius 2 L2 Damage":55.5,"Rocket L2 Attack Speed":2.35,"Rocket L3 Damage":282,"Radius 1 L3 Damage":141,"Radius 2 L3 Damage":70.5,"Rocket L3 Attack Speed":2.6,"Sub Projectile L3 Damage":162,"Explosive Stat (%)":36},{"Number Of Boost":16,"Rocket L1 Damage":162.8,"Radius 1 L1 Damage":81.4,"Radius 2 L1 Damage":40.7,"Rocket L1 Attack Speed":2.14,"Rocket L2 Damage":222.8,"Radius 1 L2 Damage":111.4,"Radius 2 L2 Damage":55.7,"Rocket L2 Attack Speed":2.39,"Rocket L3 Damage":282.8,"Radius 1 L3 Damage":141.4,"Radius 2 L3 Damage":70.7,"Rocket L3 Attack Speed":2.64,"Sub Projectile L3 Damage":162.8,"Explosive Stat (%)":38.4},{"Number Of Boost":17,"Rocket L1 Damage":163.6,"Radius 1 L1 Damage":81.8,"Radius 2 L1 Damage":40.9,"Rocket L1 Attack Speed":2.18,"Rocket L2 Damage":223.6,"Radius 1 L2 Damage":111.8,"Radius 2 L2 Damage":55.9,"Rocket L2 Attack Speed":2.43,"Rocket L3 Damage":283.6,"Radius 1 L3 Damage":141.8,"Radius 2 L3 Damage":70.9,"Rocket L3 Attack Speed":2.68,"Sub Projectile L3 Damage":163.6,"Explosive Stat (%)":40.8},{"Number Of Boost":18,"Rocket L1 Damage":164.4,"Radius 1 L1 Damage":82.2,"Radius 2 L1 Damage":41.1,"Rocket L1 Attack Speed":2.22,"Rocket L2 Damage":224.4,"Radius 1 L2 Damage":112.2,"Radius 2 L2 Damage":56.1,"Rocket L2 Attack Speed":2.47,"Rocket L3 Damage":284.4,"Radius 1 L3 Damage":142.2,"Radius 2 L3 Damage":71.1,"Rocket L3 Attack Speed":2.72,"Sub Projectile L3 Damage":164.4,"Explosive Stat (%)":43.2},{"Number Of Boost":19,"Rocket L1 Damage":165.2,"Radius 1 L1 Damage":82.6,"Radius 2 L1 Damage":41.3,"Rocket L1 Attack Speed":2.26,"Rocket L2 Damage":225.2,"Radius 1 L2 Damage":112.6,"Radius 2 L2 Damage":56.3,"Rocket L2 Attack Speed":2.51,"Rocket L3 Damage":285.2,"Radius 1 L3 Damage":142.6,"Radius 2 L3 Damage":71.3,"Rocket L3 Attack Speed":2.76,"Sub Projectile L3 Damage":165.2,"Explosive Stat (%)":45.6},{"Number Of Boost":20,"Rocket L1 Damage":166,"Radius 1 L1 Damage":83,"Radius 2 L1 Damage":41.5,"Rocket L1 Attack Speed":2.3,"Rocket L2 Damage":226,"Radius 1 L2 Damage":113,"Radius 2 L2 Damage":56.5,"Rocket L2 Attack Speed":2.55,"Rocket L3 Damage":286,"Radius 1 L3 Damage":143,"Radius 2 L3 Damage":71.5,"Rocket L3 Attack Speed":2.8,"Sub Projectile L3 Damage":166,"Explosive Stat (%)":48},{"Number Of Boost":21,"Rocket L1 Damage":166.8,"Radius 1 L1 Damage":83.4,"Radius 2 L1 Damage":41.7,"Rocket L1 Attack Speed":2.34,"Rocket L2 Damage":226.8,"Radius 1 L2 Damage":113.4,"Radius 2 L2 Damage":56.7,"Rocket L2 Attack Speed":2.59,"Rocket L3 Damage":286.8,"Radius 1 L3 Damage":143.4,"Radius 2 L3 Damage":71.7,"Rocket L3 Attack Speed":2.84,"Sub Projectile L3 Damage":166.8,"Explosive Stat (%)":50.4},{"Number Of Boost":22,"Rocket L1 Damage":167.6,"Radius 1 L1 Damage":83.8,"Radius 2 L1 Damage":41.9,"Rocket L1 Attack Speed":2.38,"Rocket L2 Damage":227.6,"Radius 1 L2 Damage":113.8,"Radius 2 L2 Damage":56.9,"Rocket L2 Attack Speed":2.63,"Rocket L3 Damage":287.6,"Radius 1 L3 Damage":143.8,"Radius 2 L3 Damage":71.9,"Rocket L3 Attack Speed":2.88,"Sub Projectile L3 Damage":167.6,"Explosive Stat (%)":52.8},{"Number Of Boost":23,"Rocket L1 Damage":168.4,"Radius 1 L1 Damage":84.2,"Radius 2 L1 Damage":42.1,"Rocket L1 Attack Speed":2.42,"Rocket L2 Damage":228.4,"Radius 1 L2 Damage":114.2,"Radius 2 L2 Damage":57.1,"Rocket L2 Attack Speed":2.67,"Rocket L3 Damage":288.4,"Radius 1 L3 Damage":144.2,"Radius 2 L3 Damage":72.1,"Rocket L3 Attack Speed":2.92,"Sub Projectile L3 Damage":168.4,"Explosive Stat (%)":55.2},{"Number Of Boost":24,"Rocket L1 Damage":169.2,"Radius 1 L1 Damage":84.6,"Radius 2 L1 Damage":42.3,"Rocket L1 Attack Speed":2.46,"Rocket L2 Damage":229.2,"Radius 1 L2 Damage":114.6,"Radius 2 L2 Damage":57.3,"Rocket L2 Attack Speed":2.71,"Rocket L3 Damage":289.2,"Radius 1 L3 Damage":144.6,"Radius 2 L3 Damage":72.3,"Rocket L3 Attack Speed":2.96,"Sub Projectile L3 Damage":169.2,"Explosive Stat (%)":57.6},{"Number Of Boost":25,"Rocket L1 Damage":170,"Radius 1 L1 Damage":85,"Radius 2 L1 Damage":42.5,"Rocket L1 Attack Speed":2.5,"Rocket L2 Damage":230,"Radius 1 L2 Damage":115,"Radius 2 L2 Damage":57.5,"Rocket L2 Attack Speed":2.75,"Rocket L3 Damage":290,"Radius 1 L3 Damage":145,"Radius 2 L3 Damage":72.5,"Rocket L3 Attack Speed":3,"Sub Projectile L3 Damage":170,"Explosive Stat (%)":60}],Info$2={Level1:{Meta:{TileDimensions:{Width:16,Height:16},RealDimension:{Width:3*CANVA_SCALEX,Height:5*CANVA_SCALEY},SpriteShiftPosition:{X:-6*CANVA_SCALEX,Y:-5*CANVA_SCALEY},SpriteShiftPositionOnPlayer:{Up:{X:19*CANVA_SCALEX,Y:-5*CANVA_SCALEY}}},Hitbox:{Frame0:[{Width:1*CANVA_SCALEX,Height:1*CANVA_SCALEY,X:0*CANVA_SCALEX,Y:-1*CANVA_SCALEY},{Width:2*CANVA_SCALEX,Height:3*CANVA_SCALEY,X:1*CANVA_SCALEX,Y:0*CANVA_SCALEY},{Width:1*CANVA_SCALEX,Height:1*CANVA_SCALEY,X:0*CANVA_SCALEX,Y:3*CANVA_SCALEY}],Frame1:[{Width:7*CANVA_SCALEX,Height:9*CANVA_SCALEY,X:-2*CANVA_SCALEX,Y:-3*CANVA_SCALEY}],Frame2:[{Width:9*CANVA_SCALEX,Height:11*CANVA_SCALEY,X:-3*CANVA_SCALEX,Y:-4*CANVA_SCALEY}]},Animations:{Idle:{FrameLengthInTime:1,Frames:[0]},Destroyed:{FrameLengthInTime:1/FRAME_RATE,Frames:[0,1,2,3,4,5]}}},Level2:{Meta:{TileDimensions:{Width:16,Height:16},RealDimension:{Width:6*CANVA_SCALEX,Height:3*CANVA_SCALEY},SpriteShiftPosition:{X:-5*CANVA_SCALEX,Y:-6*CANVA_SCALEX},SpriteShiftPositionOnPlayer:{Up:{X:19*CANVA_SCALEX,Y:-5*CANVA_SCALEY},Down:{X:19*CANVA_SCALEX,Y:12*CANVA_SCALEY}}},Hitbox:{Frame0:[{Width:1*CANVA_SCALEX,Height:1*CANVA_SCALEY,X:-1*CANVA_SCALEX,Y:2*CANVA_SCALEY},{Width:4*CANVA_SCALEX,Height:3*CANVA_SCALEY,X:0*CANVA_SCALEX,Y:1*CANVA_SCALEY},{Width:1*CANVA_SCALEX,Height:1*CANVA_SCALEY,X:4*CANVA_SCALEX,Y:2*CANVA_SCALEY}],Frame1:[{Width:12*CANVA_SCALEX,Height:13*CANVA_SCALEY,X:-4*CANVA_SCALEX,Y:-4*CANVA_SCALEY}],Frame2:[{Width:14*CANVA_SCALEX,Height:15*CANVA_SCALEY,X:-5*CANVA_SCALEX,Y:-5*CANVA_SCALEY}]},Animations:{Idle:{FrameLengthInTime:1,Frames:[0]},Destroyed:{FrameLengthInTime:1/FRAME_RATE,Frames:[0,1,2,3,4]}}},Level3:{Meta:{TileDimensions:{Width:16,Height:16},RealDimension:{Width:9*CANVA_SCALEX,Height:4*CANVA_SCALEY},SpriteShiftPosition:{X:-4*CANVA_SCALEX,Y:-6*CANVA_SCALEY},SpriteShiftPositionOnPlayer:{Up:{X:19*CANVA_SCALEX,Y:-5*CANVA_SCALEY},Down:{X:19*CANVA_SCALEX,Y:12*CANVA_SCALEY}}},Hitbox:{Frame0:[{Width:1*CANVA_SCALEX,Height:2*CANVA_SCALEY,X:0*CANVA_SCALEX,Y:1*CANVA_SCALEY},{Width:5*CANVA_SCALEX,Height:1*CANVA_SCALEY,X:2*CANVA_SCALEX,Y:-1*CANVA_SCALEY},{Width:7*CANVA_SCALEX,Height:4*CANVA_SCALEY,X:1*CANVA_SCALEX,Y:0*CANVA_SCALEY},{Width:5*CANVA_SCALEX,Height:1*CANVA_SCALEY,X:2*CANVA_SCALEX,Y:4*CANVA_SCALEY},{Width:1*CANVA_SCALEX,Height:2*CANVA_SCALEY,X:8*CANVA_SCALEX,Y:1*CANVA_SCALEY}],Frame1:[{Width:15*CANVA_SCALEX,Height:13*CANVA_SCALEY,X:-3*CANVA_SCALEX,Y:-4*CANVA_SCALEY}],Frame2:[{Width:16*CANVA_SCALEX,Height:16*CANVA_SCALEY,X:-4*CANVA_SCALEX,Y:-6*CANVA_SCALEY}]},Animations:{Idle:{FrameLengthInTime:1,Frames:[0]},Destroyed:{FrameLengthInTime:1/FRAME_RATE,Frames:[0,1,2,3,4,5]}}},SubProjectile:{Meta:{TileDimensions:{Width:16,Height:16},RealDimension:{Width:3*CANVA_SCALEX,Height:2*CANVA_SCALEY},SpriteShiftPosition:{X:-6*CANVA_SCALEX,Y:-7*CANVA_SCALEY},SpriteSpawnPosition:{Projectile1:{X:3*CANVA_SCALEX,Y:0*CANVA_SCALEY},Projectile2:{X:3*CANVA_SCALEX,Y:4*CANVA_SCALEY}}},Hitbox:{Frame0:[{Width:3*CANVA_SCALEX,Height:2*CANVA_SCALEY,X:0*CANVA_SCALEX,Y:0*CANVA_SCALEX}]},Animations:{Idle:{FrameLengthInTime:1,Frames:[0]},Destroyed:{FrameLengthInTime:1/FRAME_RATE,Frames:[0,1,2,3,4]}}},SelectSkill:{Level1:{Meta:{TileDimensions:{Width:16,Height:16},RealDimension:{Width:10*CANVA_SCALEX,Height:12*CANVA_SCALEY},SpriteShiftPosition:{X:-3*CANVA_SCALEX,Y:-2*CANVA_SCALEY},Description:"Fires a standard rocket. It's a good start.",MoreDescription:"Fires a standard rocket. It's a good start."}},Level2:{Meta:{TileDimensions:{Width:16,Height:16},RealDimension:{Width:14*CANVA_SCALEX,Height:14*CANVA_SCALEY},SpriteShiftPosition:{X:-0*CANVA_SCALEX,Y:-1*CANVA_SCALEY},Description:"Twice the fun, double the trouble!",MoreDescription:"Fires two rockets at once with bigger explosion and more damage."}},Level3:{Meta:{TileDimensions:{Width:16,Height:16},RealDimension:{Width:16*CANVA_SCALEX,Height:15*CANVA_SCALEY},SpriteShiftPosition:{X:0*CANVA_SCALEX,Y:-1*CANVA_SCALEY},Description:"Rocket-ception: rockets within rockets!",MoreDescription:"Fires rockets that explode into smaller rockets."}}}},FuelChargeShotFrameConstant$1=[{"Skill Name":"Fuel Charge Shot",Level:1,"Skill Price":1e3,"Number of Frame To Spawn":1,"Shooting Rate (s)":0,"Primary Skill":"","Secondary Skill":""},{"Skill Name":"Fuel Charge Shot",Level:2,"Skill Price":6300,"Number of Frame To Spawn":1,"Shooting Rate (s)":0,"Primary Skill":"","Secondary Skill":""},{"Skill Name":"Fuel Charge Shot",Level:3,"Skill Price":2e4,"Number of Frame To Spawn":1,"Shooting Rate (s)":0,"Primary Skill":"","Secondary Skill":""}],FuelChargeShotLaserConstant$2=[{Level:1,"Projectile Speed":45,"Effect Length (s)":1,"Maximum Number of Stack Effect":3,"Primary Skill":"FuelChargeShotLaserLevel1","Secondary Skill":""},{Level:2,"Projectile Speed":45,"Effect Length (s)":2,"Maximum Number of Stack Effect":3,"Primary Skill":"FuelChargeShotLaserLevel2","Secondary Skill":""},{Level:3,"Projectile Speed":45,"Effect Length (s)":2.5,"Maximum Number of Stack Effect":3,"Primary Skill":"FuelChargeShotLaserLevel3","Secondary Skill":"Corrosive"}],FuelChargeShotDamage$1=[{"Number Of Boost":0,"Laser Level 1 Damage":0,"Laser Level 1 Base Damage Debuf (%)":3.34,"Laser Level 1 Money Boost (%)":11,"Laser Level 2 Damage":0,"Laser Level 2 Base Damage Debuf (%)":3.34,"Laser Level 2 Money Boost (%)":11,"Laser Level 2 Paralyze Probability (%)":30,"Laser Level 3 Damage":0,"Laser Level 3 Base Damage Debuf (%)":3.34,"Laser Level 3 Money Boost (%)":16.67,"Laser Level 3 Explosive Resistance Debuf (%)":6.67,"Laser Level 3 Energy Resistance Debuf (%)":5,"Laser Level 3 Corrosive Damage":3},{"Number Of Boost":1,"Laser Level 1 Damage":0,"Laser Level 1 Base Damage Debuf (%)":3.61,"Laser Level 1 Money Boost (%)":11.9,"Laser Level 2 Damage":0,"Laser Level 2 Base Damage Debuf (%)":6.52,"Laser Level 2 Money Boost (%)":11.9,"Laser Level 2 Paralyze Probability (%)":30.8,"Laser Level 3 Damage":0,"Laser Level 3 Base Damage Debuf (%)":11.55,"Laser Level 3 Money Boost (%)":18.01,"Laser Level 3 Explosive Resistance Debuf (%)":6.94,"Laser Level 3 Energy Resistance Debuf (%)":5.2,"Laser Level 3 Corrosive Damage":3},{"Number Of Boost":2,"Laser Level 1 Damage":0,"Laser Level 1 Base Damage Debuf (%)":3.88,"Laser Level 1 Money Boost (%)":12.79,"Laser Level 2 Damage":0,"Laser Level 2 Base Damage Debuf (%)":6.75,"Laser Level 2 Money Boost (%)":12.79,"Laser Level 2 Paralyze Probability (%)":31.6,"Laser Level 3 Damage":0,"Laser Level 3 Base Damage Debuf (%)":11.76,"Laser Level 3 Money Boost (%)":19.34,"Laser Level 3 Explosive Resistance Debuf (%)":7.21,"Laser Level 3 Energy Resistance Debuf (%)":5.4,"Laser Level 3 Corrosive Damage":6},{"Number Of Boost":3,"Laser Level 1 Damage":0,"Laser Level 1 Base Damage Debuf (%)":4.14,"Laser Level 1 Money Boost (%)":13.69,"Laser Level 2 Damage":0,"Laser Level 2 Base Damage Debuf (%)":6.99,"Laser Level 2 Money Boost (%)":13.69,"Laser Level 2 Paralyze Probability (%)":32.4,"Laser Level 3 Damage":0,"Laser Level 3 Base Damage Debuf (%)":11.98,"Laser Level 3 Money Boost (%)":20.67,"Laser Level 3 Explosive Resistance Debuf (%)":7.48,"Laser Level 3 Energy Resistance Debuf (%)":5.6,"Laser Level 3 Corrosive Damage":9},{"Number Of Boost":4,"Laser Level 1 Damage":0,"Laser Level 1 Base Damage Debuf (%)":4.41,"Laser Level 1 Money Boost (%)":14.58,"Laser Level 2 Damage":0,"Laser Level 2 Base Damage Debuf (%)":7.23,"Laser Level 2 Money Boost (%)":14.58,"Laser Level 2 Paralyze Probability (%)":33.2,"Laser Level 3 Damage":0,"Laser Level 3 Base Damage Debuf (%)":12.19,"Laser Level 3 Money Boost (%)":22.01,"Laser Level 3 Explosive Resistance Debuf (%)":7.74,"Laser Level 3 Energy Resistance Debuf (%)":5.8,"Laser Level 3 Corrosive Damage":12},{"Number Of Boost":5,"Laser Level 1 Damage":0,"Laser Level 1 Base Damage Debuf (%)":4.68,"Laser Level 1 Money Boost (%)":15.47,"Laser Level 2 Damage":0,"Laser Level 2 Base Damage Debuf (%)":7.47,"Laser Level 2 Money Boost (%)":15.47,"Laser Level 2 Paralyze Probability (%)":34,"Laser Level 3 Damage":0,"Laser Level 3 Base Damage Debuf (%)":12.4,"Laser Level 3 Money Boost (%)":23.34,"Laser Level 3 Explosive Resistance Debuf (%)":8.01,"Laser Level 3 Energy Resistance Debuf (%)":6,"Laser Level 3 Corrosive Damage":15},{"Number Of Boost":6,"Laser Level 1 Damage":0,"Laser Level 1 Base Damage Debuf (%)":4.94,"Laser Level 1 Money Boost (%)":16.37,"Laser Level 2 Damage":0,"Laser Level 2 Base Damage Debuf (%)":7.71,"Laser Level 2 Money Boost (%)":16.37,"Laser Level 2 Paralyze Probability (%)":34.8,"Laser Level 3 Damage":0,"Laser Level 3 Base Damage Debuf (%)":12.62,"Laser Level 3 Money Boost (%)":24.67,"Laser Level 3 Explosive Resistance Debuf (%)":8.28,"Laser Level 3 Energy Resistance Debuf (%)":6.2,"Laser Level 3 Corrosive Damage":18},{"Number Of Boost":7,"Laser Level 1 Damage":0,"Laser Level 1 Base Damage Debuf (%)":5.21,"Laser Level 1 Money Boost (%)":17.26,"Laser Level 2 Damage":0,"Laser Level 2 Base Damage Debuf (%)":7.94,"Laser Level 2 Money Boost (%)":17.26,"Laser Level 2 Paralyze Probability (%)":35.6,"Laser Level 3 Damage":0,"Laser Level 3 Base Damage Debuf (%)":12.83,"Laser Level 3 Money Boost (%)":26.01,"Laser Level 3 Explosive Resistance Debuf (%)":8.54,"Laser Level 3 Energy Resistance Debuf (%)":6.4,"Laser Level 3 Corrosive Damage":21},{"Number Of Boost":8,"Laser Level 1 Damage":0,"Laser Level 1 Base Damage Debuf (%)":5.48,"Laser Level 1 Money Boost (%)":18.15,"Laser Level 2 Damage":0,"Laser Level 2 Base Damage Debuf (%)":8.18,"Laser Level 2 Money Boost (%)":18.15,"Laser Level 2 Paralyze Probability (%)":36.4,"Laser Level 3 Damage":0,"Laser Level 3 Base Damage Debuf (%)":13.04,"Laser Level 3 Money Boost (%)":27.34,"Laser Level 3 Explosive Resistance Debuf (%)":8.81,"Laser Level 3 Energy Resistance Debuf (%)":6.6,"Laser Level 3 Corrosive Damage":24},{"Number Of Boost":9,"Laser Level 1 Damage":0,"Laser Level 1 Base Damage Debuf (%)":5.74,"Laser Level 1 Money Boost (%)":19.05,"Laser Level 2 Damage":0,"Laser Level 2 Base Damage Debuf (%)":8.42,"Laser Level 2 Money Boost (%)":19.05,"Laser Level 2 Paralyze Probability (%)":37.2,"Laser Level 3 Damage":0,"Laser Level 3 Base Damage Debuf (%)":13.26,"Laser Level 3 Money Boost (%)":28.67,"Laser Level 3 Explosive Resistance Debuf (%)":9.08,"Laser Level 3 Energy Resistance Debuf (%)":6.8,"Laser Level 3 Corrosive Damage":27},{"Number Of Boost":10,"Laser Level 1 Damage":0,"Laser Level 1 Base Damage Debuf (%)":6.01,"Laser Level 1 Money Boost (%)":19.94,"Laser Level 2 Damage":0,"Laser Level 2 Base Damage Debuf (%)":8.66,"Laser Level 2 Money Boost (%)":19.94,"Laser Level 2 Paralyze Probability (%)":38,"Laser Level 3 Damage":0,"Laser Level 3 Base Damage Debuf (%)":13.47,"Laser Level 3 Money Boost (%)":30.01,"Laser Level 3 Explosive Resistance Debuf (%)":9.34,"Laser Level 3 Energy Resistance Debuf (%)":7,"Laser Level 3 Corrosive Damage":30},{"Number Of Boost":11,"Laser Level 1 Damage":0,"Laser Level 1 Base Damage Debuf (%)":6.28,"Laser Level 1 Money Boost (%)":20.83,"Laser Level 2 Damage":0,"Laser Level 2 Base Damage Debuf (%)":8.89,"Laser Level 2 Money Boost (%)":20.83,"Laser Level 2 Paralyze Probability (%)":38.8,"Laser Level 3 Damage":0,"Laser Level 3 Base Damage Debuf (%)":13.68,"Laser Level 3 Money Boost (%)":31.34,"Laser Level 3 Explosive Resistance Debuf (%)":9.61,"Laser Level 3 Energy Resistance Debuf (%)":7.2,"Laser Level 3 Corrosive Damage":33},{"Number Of Boost":12,"Laser Level 1 Damage":0,"Laser Level 1 Base Damage Debuf (%)":6.54,"Laser Level 1 Money Boost (%)":21.73,"Laser Level 2 Damage":0,"Laser Level 2 Base Damage Debuf (%)":9.13,"Laser Level 2 Money Boost (%)":21.73,"Laser Level 2 Paralyze Probability (%)":39.6,"Laser Level 3 Damage":0,"Laser Level 3 Base Damage Debuf (%)":13.89,"Laser Level 3 Money Boost (%)":32.67,"Laser Level 3 Explosive Resistance Debuf (%)":9.88,"Laser Level 3 Energy Resistance Debuf (%)":7.4,"Laser Level 3 Corrosive Damage":36},{"Number Of Boost":13,"Laser Level 1 Damage":0,"Laser Level 1 Base Damage Debuf (%)":6.81,"Laser Level 1 Money Boost (%)":22.62,"Laser Level 2 Damage":0,"Laser Level 2 Base Damage Debuf (%)":9.37,"Laser Level 2 Money Boost (%)":22.62,"Laser Level 2 Paralyze Probability (%)":40.4,"Laser Level 3 Damage":0,"Laser Level 3 Base Damage Debuf (%)":14.11,"Laser Level 3 Money Boost (%)":34.01,"Laser Level 3 Explosive Resistance Debuf (%)":10.14,"Laser Level 3 Energy Resistance Debuf (%)":7.6,"Laser Level 3 Corrosive Damage":39},{"Number Of Boost":14,"Laser Level 1 Damage":0,"Laser Level 1 Base Damage Debuf (%)":7.07,"Laser Level 1 Money Boost (%)":23.52,"Laser Level 2 Damage":0,"Laser Level 2 Base Damage Debuf (%)":9.61,"Laser Level 2 Money Boost (%)":23.52,"Laser Level 2 Paralyze Probability (%)":41.2,"Laser Level 3 Damage":0,"Laser Level 3 Base Damage Debuf (%)":14.32,"Laser Level 3 Money Boost (%)":35.34,"Laser Level 3 Explosive Resistance Debuf (%)":10.41,"Laser Level 3 Energy Resistance Debuf (%)":7.8,"Laser Level 3 Corrosive Damage":42},{"Number Of Boost":15,"Laser Level 1 Damage":0,"Laser Level 1 Base Damage Debuf (%)":7.34,"Laser Level 1 Money Boost (%)":24.41,"Laser Level 2 Damage":0,"Laser Level 2 Base Damage Debuf (%)":9.85,"Laser Level 2 Money Boost (%)":24.41,"Laser Level 2 Paralyze Probability (%)":42,"Laser Level 3 Damage":0,"Laser Level 3 Base Damage Debuf (%)":14.53,"Laser Level 3 Money Boost (%)":36.67,"Laser Level 3 Explosive Resistance Debuf (%)":10.68,"Laser Level 3 Energy Resistance Debuf (%)":8,"Laser Level 3 Corrosive Damage":45},{"Number Of Boost":16,"Laser Level 1 Damage":0,"Laser Level 1 Base Damage Debuf (%)":7.61,"Laser Level 1 Money Boost (%)":25.3,"Laser Level 2 Damage":0,"Laser Level 2 Base Damage Debuf (%)":10.08,"Laser Level 2 Money Boost (%)":25.3,"Laser Level 2 Paralyze Probability (%)":42.8,"Laser Level 3 Damage":0,"Laser Level 3 Base Damage Debuf (%)":14.75,"Laser Level 3 Money Boost (%)":38.01,"Laser Level 3 Explosive Resistance Debuf (%)":10.94,"Laser Level 3 Energy Resistance Debuf (%)":8.2,"Laser Level 3 Corrosive Damage":48},{"Number Of Boost":17,"Laser Level 1 Damage":0,"Laser Level 1 Base Damage Debuf (%)":7.87,"Laser Level 1 Money Boost (%)":26.2,"Laser Level 2 Damage":0,"Laser Level 2 Base Damage Debuf (%)":10.32,"Laser Level 2 Money Boost (%)":26.2,"Laser Level 2 Paralyze Probability (%)":43.6,"Laser Level 3 Damage":0,"Laser Level 3 Base Damage Debuf (%)":14.96,"Laser Level 3 Money Boost (%)":39.34,"Laser Level 3 Explosive Resistance Debuf (%)":11.21,"Laser Level 3 Energy Resistance Debuf (%)":8.4,"Laser Level 3 Corrosive Damage":51},{"Number Of Boost":18,"Laser Level 1 Damage":0,"Laser Level 1 Base Damage Debuf (%)":8.14,"Laser Level 1 Money Boost (%)":27.09,"Laser Level 2 Damage":0,"Laser Level 2 Base Damage Debuf (%)":10.56,"Laser Level 2 Money Boost (%)":27.09,"Laser Level 2 Paralyze Probability (%)":44.4,"Laser Level 3 Damage":0,"Laser Level 3 Base Damage Debuf (%)":15.17,"Laser Level 3 Money Boost (%)":40.67,"Laser Level 3 Explosive Resistance Debuf (%)":11.48,"Laser Level 3 Energy Resistance Debuf (%)":8.6,"Laser Level 3 Corrosive Damage":54},{"Number Of Boost":19,"Laser Level 1 Damage":0,"Laser Level 1 Base Damage Debuf (%)":8.41,"Laser Level 1 Money Boost (%)":27.98,"Laser Level 2 Damage":0,"Laser Level 2 Base Damage Debuf (%)":10.8,"Laser Level 2 Money Boost (%)":27.98,"Laser Level 2 Paralyze Probability (%)":45.2,"Laser Level 3 Damage":0,"Laser Level 3 Base Damage Debuf (%)":15.39,"Laser Level 3 Money Boost (%)":42.01,"Laser Level 3 Explosive Resistance Debuf (%)":11.74,"Laser Level 3 Energy Resistance Debuf (%)":8.8,"Laser Level 3 Corrosive Damage":57},{"Number Of Boost":20,"Laser Level 1 Damage":0,"Laser Level 1 Base Damage Debuf (%)":8.67,"Laser Level 1 Money Boost (%)":28.88,"Laser Level 2 Damage":0,"Laser Level 2 Base Damage Debuf (%)":11.04,"Laser Level 2 Money Boost (%)":28.88,"Laser Level 2 Paralyze Probability (%)":46,"Laser Level 3 Damage":0,"Laser Level 3 Base Damage Debuf (%)":15.6,"Laser Level 3 Money Boost (%)":43.34,"Laser Level 3 Explosive Resistance Debuf (%)":12.01,"Laser Level 3 Energy Resistance Debuf (%)":9,"Laser Level 3 Corrosive Damage":60},{"Number Of Boost":21,"Laser Level 1 Damage":0,"Laser Level 1 Base Damage Debuf (%)":8.94,"Laser Level 1 Money Boost (%)":29.77,"Laser Level 2 Damage":0,"Laser Level 2 Base Damage Debuf (%)":11.28,"Laser Level 2 Money Boost (%)":29.77,"Laser Level 2 Paralyze Probability (%)":46.8,"Laser Level 3 Damage":0,"Laser Level 3 Base Damage Debuf (%)":15.81,"Laser Level 3 Money Boost (%)":44.67,"Laser Level 3 Explosive Resistance Debuf (%)":12.28,"Laser Level 3 Energy Resistance Debuf (%)":9.2,"Laser Level 3 Corrosive Damage":63},{"Number Of Boost":22,"Laser Level 1 Damage":0,"Laser Level 1 Base Damage Debuf (%)":9.21,"Laser Level 1 Money Boost (%)":30.66,"Laser Level 2 Damage":0,"Laser Level 2 Base Damage Debuf (%)":11.51,"Laser Level 2 Money Boost (%)":30.66,"Laser Level 2 Paralyze Probability (%)":47.6,"Laser Level 3 Damage":0,"Laser Level 3 Base Damage Debuf (%)":16.03,"Laser Level 3 Money Boost (%)":46.01,"Laser Level 3 Explosive Resistance Debuf (%)":12.54,"Laser Level 3 Energy Resistance Debuf (%)":9.4,"Laser Level 3 Corrosive Damage":66},{"Number Of Boost":23,"Laser Level 1 Damage":0,"Laser Level 1 Base Damage Debuf (%)":9.47,"Laser Level 1 Money Boost (%)":31.56,"Laser Level 2 Damage":0,"Laser Level 2 Base Damage Debuf (%)":11.75,"Laser Level 2 Money Boost (%)":31.56,"Laser Level 2 Paralyze Probability (%)":48.4,"Laser Level 3 Damage":0,"Laser Level 3 Base Damage Debuf (%)":16.24,"Laser Level 3 Money Boost (%)":47.34,"Laser Level 3 Explosive Resistance Debuf (%)":12.81,"Laser Level 3 Energy Resistance Debuf (%)":9.6,"Laser Level 3 Corrosive Damage":69},{"Number Of Boost":24,"Laser Level 1 Damage":0,"Laser Level 1 Base Damage Debuf (%)":9.74,"Laser Level 1 Money Boost (%)":32.45,"Laser Level 2 Damage":0,"Laser Level 2 Base Damage Debuf (%)":11.99,"Laser Level 2 Money Boost (%)":32.45,"Laser Level 2 Paralyze Probability (%)":49.2,"Laser Level 3 Damage":0,"Laser Level 3 Base Damage Debuf (%)":16.45,"Laser Level 3 Money Boost (%)":48.67,"Laser Level 3 Explosive Resistance Debuf (%)":13.08,"Laser Level 3 Energy Resistance Debuf (%)":9.8,"Laser Level 3 Corrosive Damage":72},{"Number Of Boost":25,"Laser Level 1 Damage":0,"Laser Level 1 Base Damage Debuf (%)":10,"Laser Level 1 Money Boost (%)":33.34,"Laser Level 2 Damage":0,"Laser Level 2 Base Damage Debuf (%)":10,"Laser Level 2 Money Boost (%)":33.34,"Laser Level 2 Paralyze Probability (%)":50,"Laser Level 3 Damage":0,"Laser Level 3 Base Damage Debuf (%)":10,"Laser Level 3 Money Boost (%)":50,"Laser Level 3 Explosive Resistance Debuf (%)":13.34,"Laser Level 3 Energy Resistance Debuf (%)":10,"Laser Level 3 Corrosive Damage":75}],Info$1={Level1:{Frame:{Meta:{TileDimensions:{Width:16,Height:16},RealDimension:{Width:7*CANVA_SCALEX,Height:13*CANVA_SCALEY},SpriteShiftPosition:{X:-6*CANVA_SCALEX,Y:-8*CANVA_SCALEY}},Hitbox:[{}],Animations:{Spawning:{FrameLengthInTime:3/60,Frames:[0,1,2,3]},Generating:{FrameLengthInTime:3/60,Frames:[4,5,6,7]},Destroyed:{FrameLengthInTime:3/60,Frames:[8,9,10,11]}}},Laser:{Meta:{TileDimensions:{Width:16,Height:16},RealDimension:{Width:11*CANVA_SCALEX,Height:8*CANVA_SCALEY},SpriteShiftPosition:{X:-3*CANVA_SCALEX,Y:-4*CANVA_SCALEY},SpriteShiftPositionOnFrame:{X:10*CANVA_SCALEX,Y:-3*CANVA_SCALEY}},Hitbox:[{X:0,Y:0,Width:11*CANVA_SCALEX,Height:8*CANVA_SCALEX}],Animations:{Idle:{FrameLengthInTime:3/60,Frames:[0,1,2]},Destroyed:{FrameLengthInTime:3/60,Frames:[3,4,5]}}}},Level2:{Frame:{Meta:{TileDimensions:{Width:32,Height:32},RealDimension:{Width:8*CANVA_SCALEX,Height:15*CANVA_SCALEY},SpriteShiftPosition:{X:-11*CANVA_SCALEX,Y:-14*CANVA_SCALEY}},Hitbox:[{}],Animations:{Spawning:{FrameLengthInTime:3/60,Frames:[0,1,2,3,4]},Generating:{FrameLengthInTime:3/60,Frames:[5,6,7,8]},Destroyed:{FrameLengthInTime:3/60,Frames:[9,10,11,12]}}},Laser:{Meta:{TileDimensions:{Width:32,Height:32},RealDimension:{Width:14*CANVA_SCALEX,Height:10*CANVA_SCALEY},SpriteShiftPosition:{X:-10*CANVA_SCALEX,Y:-12*CANVA_SCALEY},SpriteShiftPositionOnFrame:{X:10*CANVA_SCALEX,Y:-3*CANVA_SCALEY}},Hitbox:[{X:0,Y:0,Width:13*CANVA_SCALEX,Height:13*CANVA_SCALEY}],Animations:{Idle:{FrameLengthInTime:3/60,Frames:[0,1,2]}}}},Level3:{Frame:{Meta:{TileDimensions:{Width:32,Height:32},RealDimension:{Width:21*CANVA_SCALEX,Height:24*CANVA_SCALEY},SpriteShiftPosition:{X:-6*CANVA_SCALEX,Y:-4*CANVA_SCALEY}},Hitbox:[{}],Animations:{Spawning:{FrameLengthInTime:3/60,Frames:[0,1,2,3,4]},Generating:{FrameLengthInTime:3/60,Frames:[5,6,7,8,9,10,11,12,13,14]},Destroyed:{FrameLengthInTime:3/60,Frames:[15,16,17,18,19]}}},Laser:{Meta:{TileDimensions:{Width:32,Height:32},RealDimension:{Width:14*CANVA_SCALEX,Height:15*CANVA_SCALEY},SpriteShiftPosition:{X:-10*CANVA_SCALEX,Y:-9*CANVA_SCALEY},SpriteShiftPositionOnFrame:{X:18*CANVA_SCALEX,Y:4*CANVA_SCALEY}},Hitbox:[{X:0,Y:0,Width:14*CANVA_SCALEX,Height:16*CANVA_SCALEY}],Animations:{Idle:{FrameLengthInTime:3/60,Frames:[0,1,2,3]},Destroyed:{FrameLengthInTime:3/60,Frames:[4,5,6,7,8,9,10]}}}},SelectSkill:{Level1:{Meta:{TileDimensions:{Width:16,Height:16},RealDimension:{Width:7*CANVA_SCALEX,Height:13*CANVA_SCALEY},SpriteShiftPosition:{X:-4*CANVA_SCALEX,Y:-2*CANVA_SCALEY},Description:"Tagged enemies give more money and take extra damage. Cha-ching!",MoreDescription:"Every X seconds, a laser beam is generated by a randomly spawning frame. Enemies hit cause you to gain more money, and the damage they take is increased. These effects can stack."}},Level2:{Meta:{TileDimensions:{Width:16,Height:16},RealDimension:{Width:8*CANVA_SCALEX,Height:14*CANVA_SCALEY},SpriteShiftPosition:{X:-4*CANVA_SCALEX,Y:-1*CANVA_SCALEY},Description:"Freeze tag anyone?",MoreDescription:"Every X seconds, a laser beam is generated by a randomly spawning frame. Enemies hit have a chance to be paralyzed for a certain amount of time."}},Level3:{Meta:{TileDimensions:{Width:16,Height:16},RealDimension:{Width:16*CANVA_SCALEX,Height:16*CANVA_SCALEY},SpriteShiftPosition:{X:-0*CANVA_SCALEX,Y:-0*CANVA_SCALEY},Description:"Enemies become extra vulnerable and corroded.",MoreDescription:"A laser beam is generated every X seconds by a random frame, making hit enemies more vulnerable to explosive and energy attacks, while also causing corrosive effects that can stack."}}}},Info={Level1:{Meta:{TileDimensions:{Width:63,Height:64},RealDimension:{Width:8*CANVA_SCALEX,Height:24*CANVA_SCALEY},SpriteShiftPosition:{X:-27*CANVA_SCALEX,Y:-20*CANVA_SCALEY},SpriteShiftPositionOnPlayer:{X:38*CANVA_SCALEX,Y:-6*CANVA_SCALEY}},Hitbox:[{X:0,Y:0,Width:8*CANVA_SCALEX,Height:24*CANVA_SCALEY}],Animations:{Idle:{FrameLengthInTime:1,Frames:[0]},OnHit:{FrameLengthInTime:3/60,Frames:[10]},Damaged:{FrameLengthInTime:1/0,Frames:[0,1,2,3]},Destroyed:{FrameLengthInTime:3/60,Frames:[4,5,6,7]},Spawning:{FrameLengthInTime:3/60,Frames:[7,8,9,3,2,1,0]}}},Level2:{Meta:{TileDimensions:{Width:63,Height:64},RealDimension:{Width:8*CANVA_SCALEX,Height:24*CANVA_SCALEY},SpriteShiftPosition:{X:-27*CANVA_SCALEX,Y:-20*CANVA_SCALEY},SpriteShiftPositionOnPlayer:{X:38*CANVA_SCALEX,Y:-6*CANVA_SCALEY}},Hitbox:[{X:0,Y:0,Width:8*CANVA_SCALEX,Height:24*CANVA_SCALEY}],Animations:{Idle:{FrameLengthInTime:1,Frames:[0]},OnHit:{FrameLengthInTime:1,Frames:[13]},Damaged:{FrameLengthInTime:1/0,Frames:[0,1,2,3,4,5]},Destroyed:{FrameLengthInTime:.1,Frames:[9,10,11,12]},Spawning:{FrameLengthInTime:.05,Frames:[8,7,6,5,4,3,2,1,0]}}},Level3:{Meta:{TileDimensions:{Width:63,Height:64},RealDimension:{Width:8*CANVA_SCALEX,Height:24*CANVA_SCALEY},SpriteShiftPosition:{X:-27*CANVA_SCALEX,Y:-20*CANVA_SCALEY},SpriteShiftPositionOnPlayer:{X:38*CANVA_SCALEX,Y:-6*CANVA_SCALEY}},Hitbox:[{X:0,Y:0,Width:8*CANVA_SCALEX,Height:24*CANVA_SCALEY}],Animations:{Idle:{FrameLengthInTime:1,Frames:[0]},OnHit:{FrameLengthInTime:1,Frames:[13]},Damaged:{FrameLengthInTime:1/0,Frames:[0,1,2,3,4,5]},Destroyed:{FrameLengthInTime:.1,Frames:[9,10,11,12]},Spawning:{FrameLengthInTime:.05,Frames:[8,7,6,5,4,3,2,1,0]}}},Portal:{Meta:{TileDimensions:{Width:32,Height:32},RealDimension:{Short:{Width:4*CANVA_SCALEX,Height:5*CANVA_SCALEY},Long:{Width:4*CANVA_SCALEX,Height:24*CANVA_SCALEY}},SpriteShiftPosition:{X:-4*CANVA_SCALEX,Y:-4*CANVA_SCALEY},SpriteShiftPositionOnMirror:[{X:2*CANVA_SCALEX,Y:-5*CANVA_SCALEY},{X:5*CANVA_SCALEX,Y:-2*CANVA_SCALEY},{X:7*CANVA_SCALEX,Y:2*CANVA_SCALEY},{X:7*CANVA_SCALEX,Y:7*CANVA_SCALEY},{X:7*CANVA_SCALEX,Y:12*CANVA_SCALEY},{X:7*CANVA_SCALEX,Y:17*CANVA_SCALEY},{X:5*CANVA_SCALEX,Y:21*CANVA_SCALEY},{X:2*CANVA_SCALEX,Y:23*CANVA_SCALEY},{X:-1*CANVA_SCALEX,Y:21*CANVA_SCALEY},{X:-3*CANVA_SCALEX,Y:17*CANVA_SCALEY},{X:-3*CANVA_SCALEX,Y:12*CANVA_SCALEY},{X:-3*CANVA_SCALEX,Y:7*CANVA_SCALEY},{X:-3*CANVA_SCALEX,Y:2*CANVA_SCALEY},{X:-1*CANVA_SCALEX,Y:-2*CANVA_SCALEY}]},Animations:{Idle:{FrameLengthInTime:1/0,Frames:[0]},Detaching:{FrameLengthInTime:6/60,Frames:[1,2,3]},Attaching:{FrameLengthInTime:6/60,Frames:[4,5,0]},Spawning:{FrameLengthInTime:3/60,Frames:[6,7,8,9,10,11,12,13,14]},Generating:{FrameLengthInTime:6/60,Frames:[15,16,17]},Disappearing:{FrameLengthInTime:3/60,Frames:[14,13,12,11,10,1,2,3]}}},ExplosiveEntity:{Meta:{TileDimensions:{Width:8,Height:8},RealDimension:{Width:6*CANVA_SCALEX,Height:5*CANVA_SCALEY},SpriteShiftPosition:{X:-1*CANVA_SCALEX,Y:-1*CANVA_SCALEY}},Hitbox:[{X:0,Y:0,Width:6*CANVA_SCALEX,Height:5*CANVA_SCALEY}],Animations:{Idle:{FrameLengthInTime:1/0,Frames:[0]},Destroyed:{FrameLengthInTime:3/60,Frames:[1,2,3]}}},SelectSkill:{Level1:{Meta:{TileDimensions:{Width:16,Height:16},RealDimension:{Width:12*CANVA_SCALEX,Height:14*CANVA_SCALEY},SpriteShiftPosition:{X:-3*CANVA_SCALEX,Y:-1*CANVA_SCALEY},Description:"Mirror shield! Reflective and protective!",MoreDescription:"A mirror spawns in front of the player, acting as a shield against enemies' projectiles. When destroyed, it goes on cooldown."}},Level2:{Meta:{TileDimensions:{Width:16,Height:16},RealDimension:{Width:12*CANVA_SCALEX,Height:14*CANVA_SCALEY},SpriteShiftPosition:{X:-3*CANVA_SCALEX,Y:-1*CANVA_SCALEY},Description:"Mirror zaps enemies! Shockingly good!",MoreDescription:"The mirror generates a thunder beam towards enemies upon being hit, inflicting damage."}},Level3:{Meta:{TileDimensions:{Width:16,Height:16},RealDimension:{Width:14*CANVA_SCALEX,Height:16*CANVA_SCALEY},SpriteShiftPosition:{X:-1*CANVA_SCALEX,Y:-0*CANVA_SCALEY},Description:"Mirror zaps and portals! Explosive fun!",MoreDescription:"The mirror has tiny portals attached to it. After a few seconds, the portals disappear randomly, releasing small projectiles that target enemies and explode, causing damage."}}}},MirrorShieldConstant$2=[{"Skill Name":"Mirror Shield",Level:1,"Skill Price":1e3,"Respawn Time (s)":3,"Mirror Health Player Health Ratio":.3,"Primary Skill":"","Secondary Skill":""},{"Skill Name":"Mirror Shield",Level:2,"Skill Price":6300,"Respawn Time (s)":3,"Mirror Health Player Health Ratio":.4,"Primary Skill":"Energy","Secondary Skill":""},{"Skill Name":"Mirror Shield",Level:3,"Skill Price":2e4,"Respawn Time (s)":2.5,"Mirror Health Player Health Ratio":.5,"Quantity Explosive Entity / Second":3,"Portal Detachment Cooldown (s)":3,"Primary Skill":"Energy","Secondary Skill":"Explosive"}],MirrorShieldThunderBeamConstant$1=[{"Primary Skill":"Energy","Secondary Skill":""}],MirrorShieldExplosiveEntityConstant$1=[{"Projectile Speed":45,"Primary Skill":"Explosive","Secondary Skill":""}],MirrorShieldDamage$2=[{"Number Of Boost":0,"Thunder Beam Damage":.45,"Energy Stat":0,"Explosive Entity Damage":15,"Explosive Stat (%)":0},{"Number Of Boost":1,"Thunder Beam Damage":1.25,"Energy Stat":4,"Explosive Entity Damage":15.8,"Explosive Stat (%)":2.4},{"Number Of Boost":2,"Thunder Beam Damage":2.05,"Energy Stat":8,"Explosive Entity Damage":16.6,"Explosive Stat (%)":4.8},{"Number Of Boost":3,"Thunder Beam Damage":2.85,"Energy Stat":12,"Explosive Entity Damage":17.4,"Explosive Stat (%)":7.2},{"Number Of Boost":4,"Thunder Beam Damage":3.65,"Energy Stat":16,"Explosive Entity Damage":18.2,"Explosive Stat (%)":9.6},{"Number Of Boost":5,"Thunder Beam Damage":4.45,"Energy Stat":20,"Explosive Entity Damage":19,"Explosive Stat (%)":12},{"Number Of Boost":6,"Thunder Beam Damage":5.25,"Energy Stat":24,"Explosive Entity Damage":19.8,"Explosive Stat (%)":14.4},{"Number Of Boost":7,"Thunder Beam Damage":6.05,"Energy Stat":28,"Explosive Entity Damage":20.6,"Explosive Stat (%)":16.8},{"Number Of Boost":8,"Thunder Beam Damage":6.85,"Energy Stat":32,"Explosive Entity Damage":21.4,"Explosive Stat (%)":19.2},{"Number Of Boost":9,"Thunder Beam Damage":7.65,"Energy Stat":36,"Explosive Entity Damage":22.2,"Explosive Stat (%)":21.6},{"Number Of Boost":10,"Thunder Beam Damage":8.45,"Energy Stat":40,"Explosive Entity Damage":23,"Explosive Stat (%)":24},{"Number Of Boost":11,"Thunder Beam Damage":9.25,"Energy Stat":44,"Explosive Entity Damage":23.8,"Explosive Stat (%)":26.4},{"Number Of Boost":12,"Thunder Beam Damage":10.05,"Energy Stat":48,"Explosive Entity Damage":24.6,"Explosive Stat (%)":28.8},{"Number Of Boost":13,"Thunder Beam Damage":10.85,"Energy Stat":52,"Explosive Entity Damage":25.4,"Explosive Stat (%)":31.2},{"Number Of Boost":14,"Thunder Beam Damage":11.65,"Energy Stat":56,"Explosive Entity Damage":26.2,"Explosive Stat (%)":33.6},{"Number Of Boost":15,"Thunder Beam Damage":12.45,"Energy Stat":60,"Explosive Entity Damage":27,"Explosive Stat (%)":36},{"Number Of Boost":16,"Thunder Beam Damage":13.25,"Energy Stat":64,"Explosive Entity Damage":27.8,"Explosive Stat (%)":38.4},{"Number Of Boost":17,"Thunder Beam Damage":14.05,"Energy Stat":68,"Explosive Entity Damage":28.6,"Explosive Stat (%)":40.8},{"Number Of Boost":18,"Thunder Beam Damage":14.85,"Energy Stat":72,"Explosive Entity Damage":29.4,"Explosive Stat (%)":43.2},{"Number Of Boost":19,"Thunder Beam Damage":15.65,"Energy Stat":76,"Explosive Entity Damage":30.2,"Explosive Stat (%)":45.6},{"Number Of Boost":20,"Thunder Beam Damage":16.45,"Energy Stat":80,"Explosive Entity Damage":31,"Explosive Stat (%)":48},{"Number Of Boost":21,"Thunder Beam Damage":17.25,"Energy Stat":84,"Explosive Entity Damage":31.8,"Explosive Stat (%)":50.4},{"Number Of Boost":22,"Thunder Beam Damage":18.05,"Energy Stat":88,"Explosive Entity Damage":32.6,"Explosive Stat (%)":52.8},{"Number Of Boost":23,"Thunder Beam Damage":18.85,"Energy Stat":92,"Explosive Entity Damage":33.4,"Explosive Stat (%)":55.2},{"Number Of Boost":24,"Thunder Beam Damage":19.65,"Energy Stat":96,"Explosive Entity Damage":34.2,"Explosive Stat (%)":57.6},{"Number Of Boost":25,"Thunder Beam Damage":20.45,"Energy Stat":100,"Explosive Entity Damage":35,"Explosive Stat (%)":60}],PlayerBoostConstant={"Boost Price":250,"Max Number of Boosts":25,"Boost Description":"Upgrade your ship's stats: health, damage, attack speed, movement speed, and skill attributes."},infos={Player:{stats:PlayerStats$1,spriteInfo:Info$5,constant:void 0},PlayerBullet:{stats:PlayerBulletDamageStats$1,spriteInfo:Info$3,constant:void 0},PlayerBoost:{spriteInfo:void 0,stats:void 0,constant:PlayerBoostConstant},Rocket:{stats:RocketDamageStats$1,constant:RocketConstant$1,spriteInfo:Info$2},RocketCannonCosmetic:{stats:void 0,spriteInfo:Info$7,constant:void 0},Blade:{stats:BladeDamageStats$1,spriteInfo:Info$4,constant:BladeConstant$1},Mirror:{stats:MirrorShieldDamage$2,spriteInfo:Info,constant:{Mirror:MirrorShieldConstant$2,ThunderBeam:MirrorShieldThunderBeamConstant$1,ExplosiveEntity:MirrorShieldExplosiveEntityConstant$1}},FuelChargeShot:{stats:FuelChargeShotDamage$1,spriteInfo:Info$1,constant:{FuelChargeShotFrame:FuelChargeShotFrameConstant$1,FuelChargeShotLaser:FuelChargeShotLaserConstant$2}},EffectIcons:{stats:void 0,spriteInfo:Info$6,constant:void 0}};function GetSpriteStaticInformation(r){const{sprite:e}=r;return infos[e]}const PlayerBulletDamageStats=GetSpriteStaticInformation({sprite:"PlayerBullet"}).stats,InfoPlayerBulletSprite=GetSpriteStaticInformation({sprite:"PlayerBullet"}).spriteInfo;class RegularPlayerBullet extends Sprite{constructor(e,t){super(ServiceLocator.GetService("ImageLoader").GetImage("images/Player/RegularPlayerBullet.png"),InfoPlayerBulletSprite.Meta.TileDimensions.Width,InfoPlayerBulletSprite.Meta.TileDimensions.Height,e+InfoPlayerBulletSprite.Meta.SpriteShiftPositionOnPlayer.X,t+InfoPlayerBulletSprite.Meta.SpriteShiftPositionOnPlayer.Y,InfoPlayerBulletSprite.Meta.SpriteShiftPosition.X,InfoPlayerBulletSprite.Meta.SpriteShiftPosition.Y,CANVA_SCALEX,CANVA_SCALEY,InfoPlayerBulletSprite.Meta.RealDimension.Width,InfoPlayerBulletSprite.Meta.RealDimension.Height);const i=PlayerBulletDamageStats[ServiceLocator.GetService("Player").NumberOfBoosts];this.Generator="player",this.Category="projectile",this.BaseSpeed=ServiceLocator.GetService("UtilManager").GetSpeedItTakesToCoverHalfTheScreenWidth({framesItTakes:i["Projectile Speed"]}),this.Damage=i["Player Bullet Damage"],this.DamageEffectsController=new PlayerProjectileDamageEffectController({baseDamage:this.Damage}),this.CurrentHitbox=CreateHitboxesWithInfoFile(this.X,this.Y,[...InfoPlayerBulletSprite.Hitbox]),this.AnimationsController.AddAnimation({animation:"idle",frames:InfoPlayerBulletSprite.Animations.Idle.Frames,framesLengthInTime:InfoPlayerBulletSprite.Animations.Idle.FrameLengthInTime}),this.AnimationsController.AddAnimation({animation:"destroyed",frames:InfoPlayerBulletSprite.Animations.Destroyed.Frames,framesLengthInTime:InfoPlayerBulletSprite.Animations.Destroyed.FrameLengthInTime,afterPlayingAnimation:()=>{ServiceLocator.GetService("GeneratedSpritesManager").RemoveSprite(this)}}),this.AnimationsController.PlayAnimation({animation:"idle"}),this.Collide=new Map,this.Collide.set("WithEnemy",()=>{this.AnimationsController.PlayAnimation({animation:"destroyed"})})}UpdateHitboxes(e){this.CurrentHitbox.forEach(t=>{t.SpriteX=this.X,t.SpriteY=this.Y})}Update(e){super.Update(e),this.X+=this.BaseSpeed,this.UpdateHitboxes(e),(this.X>canvas.width||this.X<0||this.Y>canvas.height||this.Y<0)&&ServiceLocator.GetService("GeneratedSpritesManager").RemoveSprite(this),this.AnimationsController.CurrentAnimationName!=="destroyed"&&ServiceLocator.GetService("CollideManager").HandleWhenPlayerProjectileCollideWithEnemies(this)}AttackSpeed(){return PlayerBulletDamageStats[ServiceLocator.GetService("Player").NumberOfBoosts]["Player Bullet Attack Speed"]}}const N=class N{constructor(e){const{probabilityOfCriticalHit:t}=e;this.probabilityOfCriticalHit=t}get DamageType(){return"Energy"}Damage(e){const{target:t,baseDamage:i,targetResistanceStat:a=0}=e,o=Math.random();return Math.max(0,this.probabilityOfCriticalHit-a)/100>=o?(t.StatesController.PlayState({stateName:"onEnergy"}),i*(N.criticalDamageMultiplier-1)):0}};N.criticalDamageMultiplier=3;let EnergyDamageEffect=N;const InfoBladeExplosionSkillSprite=GetSpriteStaticInformation({sprite:"Blade"}).spriteInfo,BladeDamageStats=GetSpriteStaticInformation({sprite:"Blade"}).stats,BladeConstant=GetSpriteStaticInformation({sprite:"Blade"}).constant;class BladeLevel1 extends Sprite{constructor(e,t,i){super(ServiceLocator.GetService("ImageLoader").GetImage("images/Skills/Blade/BladeLevel1.png"),InfoBladeExplosionSkillSprite.Level1.Meta.TileDimensions.Width,InfoBladeExplosionSkillSprite.Level1.Meta.TileDimensions.Height,e,t,InfoBladeExplosionSkillSprite.Level1.Meta.SpriteShiftPosition.X,InfoBladeExplosionSkillSprite.Level1.Meta.SpriteShiftPosition.Y,CANVA_SCALEX,CANVA_SCALEY,InfoBladeExplosionSkillSprite.Level1.Meta.RealDimension.Width,InfoBladeExplosionSkillSprite.Level1.Meta.RealDimension.Height),this.Generator="player",this.Category="projectile";const a=BladeDamageStats[ServiceLocator.GetService("Player").NumberOfBoosts];this.Damage=a["Blade L1 Damage"],this.DamageEffectsController=new PlayerProjectileDamageEffectController({baseDamage:this.Damage}),this.DamageEffectsController.AddDamageEffects({damageEffectName:"Energy",damageEffectObject:new EnergyDamageEffect({probabilityOfCriticalHit:a["Energy Stat (%)"]})}),this.BaseSpeed=ServiceLocator.GetService("UtilManager").GetSpeedItTakesToCoverHalfTheScreenWidth({framesItTakes:BladeConstant[0]["Projectile Speed"]}),this.BaseSpeed=this.BaseSpeed/Math.sqrt(2),this.direction=i,this.baseTimeBeforeBladeCanHit=1,this.timeLeftBeforeBladeCanHit=0,this.CurrentHitbox=CreateHitboxesWithInfoFile(this.X,this.Y,[...InfoBladeExplosionSkillSprite.Level1.Hitbox]),this.AnimationsController.AddAnimation({animation:"spin",frames:InfoBladeExplosionSkillSprite.Level1.Animations.Spin.Frames,framesLengthInTime:InfoBladeExplosionSkillSprite.Level1.Animations.Spin.FrameLengthInTime}),this.AnimationsController.PlayAnimation({animation:"spin",loop:!0}),this.Collide=new Map,this.Collide.set("WithEnemy",()=>{this.resetBladeCanHitTimer()})}UpdateHitboxes(e){this.CurrentHitbox.forEach(t=>{t.SpriteX=this.X,t.SpriteY=this.Y})}Update(e){super.Update(e),this.X+=this.BaseSpeed,this.direction==="upper-diagonal"?this.Y-=this.BaseSpeed:this.direction==="down-diagonal"&&(this.Y+=this.BaseSpeed),this.UpdateHitboxes(e),(this.X>canvas.width||this.X<0||this.Y>canvas.height||this.Y<0)&&ServiceLocator.GetService("GeneratedSpritesManager").RemoveSprite(this),this.timeLeftBeforeBladeCanHit-=BladeConstant[0]["Hit Rate Per Second"]*e,this.CanBladeHit&&ServiceLocator.GetService("CollideManager").HandleWhenPlayerProjectileCollideWithEnemies(this)}get CanBladeHit(){return this.timeLeftBeforeBladeCanHit<=0}resetBladeCanHitTimer(){this.timeLeftBeforeBladeCanHit=this.baseTimeBeforeBladeCanHit}}class BladeLevel2 extends Sprite{constructor(e,t,i){super(ServiceLocator.GetService("ImageLoader").GetImage("images/Skills/Blade/BladeLevel2&3.png"),InfoBladeExplosionSkillSprite.Level2.Meta.TileDimensions.Width,InfoBladeExplosionSkillSprite.Level2.Meta.TileDimensions.Height,e,t,InfoBladeExplosionSkillSprite.Level2.Meta.SpriteShiftPosition.X,InfoBladeExplosionSkillSprite.Level2.Meta.SpriteShiftPosition.Y,CANVA_SCALEX,CANVA_SCALEY,InfoBladeExplosionSkillSprite.Level2.Meta.RealDimension.Width,InfoBladeExplosionSkillSprite.Level2.Meta.RealDimension.Height),this.Generator="player",this.Category="projectile";const a=BladeDamageStats[ServiceLocator.GetService("Player").NumberOfBoosts];this.Damage=a["Blade L2 Damage"],this.DamageEffectsController=new PlayerProjectileDamageEffectController({baseDamage:this.Damage}),this.DamageEffectsController.AddDamageEffects({damageEffectName:"Energy",damageEffectObject:new EnergyDamageEffect({probabilityOfCriticalHit:a["Energy Stat (%)"]})}),this.BaseSpeed=ServiceLocator.GetService("UtilManager").GetSpeedItTakesToCoverHalfTheScreenWidth({framesItTakes:BladeConstant[1]["Projectile Speed"]}),this.BaseSpeed=this.BaseSpeed/Math.sqrt(2),this.direction=i,this.baseTimeBeforeBladeCanHit=1,this.timeLeftBeforeBladeCanHit=0,this.CurrentHitbox=CreateHitboxesWithInfoFile(this.X,this.Y,[...InfoBladeExplosionSkillSprite.Level2.Hitbox]),this.AnimationsController.AddAnimation({animation:"spin",frames:InfoBladeExplosionSkillSprite.Level2.Animations.Spin.Frames,framesLengthInTime:InfoBladeExplosionSkillSprite.Level2.Animations.Spin.FrameLengthInTime}),this.AnimationsController.PlayAnimation({animation:"spin",loop:!0}),this.Collide=new Map,this.Collide.set("WithEnemy",()=>{this.resetBladeCanHitTimer()})}UpdateHitboxes(e){this.CurrentHitbox.forEach(t=>{t.SpriteX=this.X,t.SpriteY=this.Y})}Update(e){super.Update(e),this.X+=this.BaseSpeed,this.direction==="upper-diagonal"?this.Y-=this.BaseSpeed:this.direction==="down-diagonal"&&(this.Y+=this.BaseSpeed),this.UpdateHitboxes(e),(this.X>canvas.width||this.X<0||this.Y>canvas.height||this.Y<0)&&ServiceLocator.GetService("GeneratedSpritesManager").RemoveSprite(this),this.timeLeftBeforeBladeCanHit-=BladeConstant[1]["Hit Rate Per Second"]*e,this.CanBladeHit&&ServiceLocator.GetService("CollideManager").HandleWhenPlayerProjectileCollideWithEnemies(this)}get CanBladeHit(){return this.timeLeftBeforeBladeCanHit<=0}resetBladeCanHitTimer(){this.timeLeftBeforeBladeCanHit=this.baseTimeBeforeBladeCanHit}}class BladeLevel3 extends Sprite{constructor(e,t,i){super(ServiceLocator.GetService("ImageLoader").GetImage("images/Skills/Blade/BladeLevel2&3.png"),InfoBladeExplosionSkillSprite.Level3.Meta.TileDimensions.Width,InfoBladeExplosionSkillSprite.Level3.Meta.TileDimensions.Height,e,t,InfoBladeExplosionSkillSprite.Level3.Meta.SpriteShiftPosition.X,InfoBladeExplosionSkillSprite.Level3.Meta.SpriteShiftPosition.Y,CANVA_SCALEX,CANVA_SCALEY,InfoBladeExplosionSkillSprite.Level3.Meta.RealDimension.Width,InfoBladeExplosionSkillSprite.Level3.Meta.RealDimension.Height),this.Generator="player",this.Category="projectile";const a=BladeDamageStats[ServiceLocator.GetService("Player").NumberOfBoosts];this.Damage=a["Blade L3 Damage"],this.DamageEffectsController=new PlayerProjectileDamageEffectController({baseDamage:this.Damage}),this.DamageEffectsController.AddDamageEffects({damageEffectName:"Energy",damageEffectObject:new EnergyDamageEffect({probabilityOfCriticalHit:a["Energy Stat (%)"]})}),this.baseSpeed=ServiceLocator.GetService("UtilManager").GetSpeedItTakesToCoverHalfTheScreenWidth({framesItTakes:BladeConstant[2]["Projectile Speed"]}),this.baseSpeed=this.baseSpeed/Math.sqrt(2),this.direction=i,this.isSpeedReverted=!1,this.spawnXPosition=this.X,this.baseTimeBeforeBladeCanHit=1,this.timeLeftBeforeBladeCanHit=0;const o=()=>{this.Damage=this.Damage*BladeConstant[2]["Damage Increase"],this.DamageEffectsController.SetBaseDamage(this.Damage)};ServiceLocator.GetService("EventManager").Subscribe("enemy destroyed",o),this.CurrentHitbox=CreateHitboxesWithInfoFile(this.X,this.Y,[...InfoBladeExplosionSkillSprite.Level3.Hitbox]),this.AnimationsController.AddAnimation({animation:"spin",frames:InfoBladeExplosionSkillSprite.Level3.Animations.Spin.Frames,framesLengthInTime:InfoBladeExplosionSkillSprite.Level3.Animations.Spin.FrameLengthInTime}),this.AnimationsController.AddAnimation({animation:"destroyed",frames:InfoBladeExplosionSkillSprite.Level3.Animations.Destroyed.Frames,framesLengthInTime:InfoBladeExplosionSkillSprite.Level3.Animations.Destroyed.FrameLengthInTime,afterPlayingAnimation:()=>{ServiceLocator.GetService("EventManager").Unsubscribe("enemy destroyed",o),ServiceLocator.GetService("GeneratedSpritesManager").RemoveSprite(this)}}),this.AnimationsController.PlayAnimation({animation:"spin",loop:!0}),this.Collide=new Map,this.Collide.set("WithEnemy",()=>{this.resetBladeCanHitTimer()})}UpdateHitboxes(e){this.CurrentHitbox.forEach(t=>{t.SpriteX=this.X,t.SpriteY=this.Y})}Update(e){super.Update(e),this.X+=this.BaseSpeed,this.direction==="upper-diagonal"?this.Y-=this.BaseSpeed:this.direction==="down-diagonal"&&(this.Y+=this.BaseSpeed),this.UpdateHitboxes(e),(this.X>canvas.width||this.X<0||this.Y>canvas.height||this.Y<0)&&(this.isSpeedReverted=!0),this.isSpeedReverted&&this.X<=this.spawnXPosition&&this.AnimationsController.PlayAnimation({animation:"destroyed"}),this.timeLeftBeforeBladeCanHit-=BladeConstant[2]["Hit Rate Per Second"]*e,this.CanBladeHit&&ServiceLocator.GetService("CollideManager").HandleWhenPlayerProjectileCollideWithEnemies(this)}get BaseSpeed(){return this.isSpeedReverted?-this.baseSpeed:this.baseSpeed}get CanBladeHit(){return this.timeLeftBeforeBladeCanHit<=0}resetBladeCanHitTimer(){this.timeLeftBeforeBladeCanHit=this.baseTimeBeforeBladeCanHit}}class BladeExplosionSkill{constructor(){this.Type="effect",this.SkillName="Blade"}Effect(){const{x:e,y:t}=ServiceLocator.GetService("WaveManager").GetLastEnemyCenterCoordinate(),i=ServiceLocator.GetService("Player").EffectSkillLevel;i===1?(ServiceLocator.GetService("GeneratedSpritesManager").AddSprite(new BladeLevel1(e,t,"upper-diagonal")),ServiceLocator.GetService("GeneratedSpritesManager").AddSprite(new BladeLevel1(e,t,"down-diagonal"))):i===2?(ServiceLocator.GetService("GeneratedSpritesManager").AddSprite(new BladeLevel2(e,t,"upper-diagonal")),ServiceLocator.GetService("GeneratedSpritesManager").AddSprite(new BladeLevel2(e,t,"down-diagonal"))):i===3&&(ServiceLocator.GetService("GeneratedSpritesManager").AddSprite(new BladeLevel3(e,t,"upper-diagonal")),ServiceLocator.GetService("GeneratedSpritesManager").AddSprite(new BladeLevel3(e,t,"down-diagonal")))}}class ExplosiveDamageEffect{constructor(e){const{explosiveEffectStat:t}=e;this.explosiveEffectStat=t}get DamageType(){return"Explosive"}Damage(e){const{target:t,baseDamage:i,targetResistanceStat:a=0}=e;return t.StatesController.PlayState({stateName:"onExplosion"}),i*(Math.max(0,this.explosiveEffectStat-a)/100)}}const RocketConstant=GetSpriteStaticInformation({sprite:"Rocket"}).constant,RocketDamageStats=GetSpriteStaticInformation({sprite:"Rocket"}).stats,InfoRocketSkillSprite=GetSpriteStaticInformation({sprite:"Rocket"}).spriteInfo;class RocketBulletLevel1 extends Sprite{constructor(e,t){super(ServiceLocator.GetService("ImageLoader").GetImage("images/Skills/Rocket/RocketProjectileLevel1.png"),InfoRocketSkillSprite.Level1.Meta.TileDimensions.Width,InfoRocketSkillSprite.Level1.Meta.TileDimensions.Height,e,t,InfoRocketSkillSprite.Level1.Meta.SpriteShiftPosition.X,InfoRocketSkillSprite.Level1.Meta.SpriteShiftPosition.X,CANVA_SCALEX,CANVA_SCALEY,InfoRocketSkillSprite.Level1.Meta.RealDimension.Width,InfoRocketSkillSprite.Level1.Meta.RealDimension.Height),this.Generator="player",this.Category="projectile",this.BaseSpeed=ServiceLocator.GetService("UtilManager").GetSpeedItTakesToCoverHalfTheScreenWidth({framesItTakes:RocketConstant[0]["Projectile Speed"]});const i=RocketDamageStats[ServiceLocator.GetService("Player").NumberOfBoosts];this.Damage=i["Rocket L1 Damage"],this.DamageEffectsController=new PlayerProjectileDamageEffectController({baseDamage:this.Damage}),this.DamageEffectsController.AddDamageEffects({damageEffectName:"Explosive",damageEffectObject:new ExplosiveDamageEffect({explosiveEffectStat:i["Explosive Stat (%)"]})});const a=CreateHitboxesWithInfoFile(this.X,this.Y,[...InfoRocketSkillSprite.Level1.Hitbox.Frame0]),o=CreateHitboxesWithInfoFile(this.X,this.Y,[...InfoRocketSkillSprite.Level1.Hitbox.Frame1]),n=CreateHitboxesWithInfoFile(this.X,this.Y,[...InfoRocketSkillSprite.Level1.Hitbox.Frame2]);this.CurrentHitbox=a,this.AnimationsController.AddAnimation({animation:"idle",frames:InfoRocketSkillSprite.Level1.Animations.Idle.Frames,framesLengthInTime:InfoRocketSkillSprite.Level1.Animations.Idle.FrameLengthInTime}),this.AnimationsController.AddAnimation({animation:"destroyed",frames:InfoRocketSkillSprite.Level1.Animations.Destroyed.Frames,framesLengthInTime:InfoRocketSkillSprite.Level1.Animations.Destroyed.FrameLengthInTime,beforePlayingAnimation:()=>{this.BaseSpeed/=2},afterPlayingAnimation:()=>{ServiceLocator.GetService("GeneratedSpritesManager").RemoveSprite(this)},methodToPlayOnSpecificFrames:new Map([[1,()=>{this.CurrentHitbox=o,this.Damage=i["Radius 1 L1 Damage"],this.DamageEffectsController=new PlayerProjectileDamageEffectController({baseDamage:this.Damage})}],[2,()=>{this.CurrentHitbox=n,this.Damage=i["Radius 2 L1 Damage"],this.DamageEffectsController=new PlayerProjectileDamageEffectController({baseDamage:this.Damage})}],[3,()=>{this.CurrentHitbox=RectangleHitbox.NoHitbox}]])}),this.AnimationsController.PlayAnimation({animation:"idle"}),this.Collide=new Map,this.Collide.set("WithEnemy",()=>{this.AnimationsController.PlayAnimation({animation:"destroyed"})})}UpdateHitboxes(e){this.CurrentHitbox.forEach(t=>{t.SpriteX=this.X,t.SpriteY=this.Y})}Update(e){super.Update(e),this.X+=this.BaseSpeed,this.UpdateHitboxes(e),(this.X>canvas.width||this.X<0||this.Y>canvas.height||this.Y<0)&&ServiceLocator.GetService("GeneratedSpritesManager").RemoveSprite(this),ServiceLocator.GetService("CollideManager").HandleWhenPlayerProjectileCollideWithEnemies(this)}Draw(e){super.Draw(e)}}class RocketBulletLevel2 extends Sprite{constructor(e,t){super(ServiceLocator.GetService("ImageLoader").GetImage("images/Skills/Rocket/RocketProjectileLevel2.png"),InfoRocketSkillSprite.Level2.Meta.TileDimensions.Width,InfoRocketSkillSprite.Level2.Meta.TileDimensions.Height,e,t,InfoRocketSkillSprite.Level1.Meta.SpriteShiftPosition.X,InfoRocketSkillSprite.Level1.Meta.SpriteShiftPosition.Y,CANVA_SCALEX,CANVA_SCALEY,InfoRocketSkillSprite.Level2.Meta.RealDimension.Width,InfoRocketSkillSprite.Level2.Meta.RealDimension.Height),this.Generator="player",this.Category="projectile",this.BaseSpeed=ServiceLocator.GetService("UtilManager").GetSpeedItTakesToCoverHalfTheScreenWidth({framesItTakes:RocketConstant[1]["Projectile Speed"]});const i=RocketDamageStats[ServiceLocator.GetService("Player").NumberOfBoosts];this.Damage=i["Rocket L2 Damage"],this.DamageEffectsController=new PlayerProjectileDamageEffectController({baseDamage:this.Damage}),this.DamageEffectsController.AddDamageEffects({damageEffectName:"Explosive",damageEffectObject:new ExplosiveDamageEffect({explosiveEffectStat:i["Explosive Stat (%)"]})});const a=CreateHitboxesWithInfoFile(this.X,this.Y,[...InfoRocketSkillSprite.Level2.Hitbox.Frame0]),o=CreateHitboxesWithInfoFile(this.X,this.Y,[...InfoRocketSkillSprite.Level2.Hitbox.Frame1]),n=CreateHitboxesWithInfoFile(this.X,this.Y,[...InfoRocketSkillSprite.Level2.Hitbox.Frame2]);this.CurrentHitbox=a,this.AnimationsController.AddAnimation({animation:"idle",frames:InfoRocketSkillSprite.Level2.Animations.Idle.Frames,framesLengthInTime:InfoRocketSkillSprite.Level2.Animations.Idle.FrameLengthInTime}),this.AnimationsController.AddAnimation({animation:"destroyed",frames:InfoRocketSkillSprite.Level2.Animations.Destroyed.Frames,framesLengthInTime:InfoRocketSkillSprite.Level2.Animations.Destroyed.FrameLengthInTime,beforePlayingAnimation:()=>{this.BaseSpeed/=2},afterPlayingAnimation:()=>{ServiceLocator.GetService("GeneratedSpritesManager").RemoveSprite(this)},methodToPlayOnSpecificFrames:new Map([[1,()=>{this.CurrentHitbox=o,this.Damage=i["Radius 1 L2 Damage"],this.DamageEffectsController=new PlayerProjectileDamageEffectController({baseDamage:this.Damage})}],[2,()=>{this.CurrentHitbox=n,this.Damage=i["Radius 2 L2 Damage"],this.DamageEffectsController=new PlayerProjectileDamageEffectController({baseDamage:this.Damage})}],[3,()=>{this.CurrentHitbox=RectangleHitbox.NoHitbox}]])}),this.AnimationsController.PlayAnimation({animation:"idle"}),this.Collide=new Map,this.Collide.set("WithEnemy",()=>{this.AnimationsController.PlayAnimation({animation:"destroyed"})})}UpdateHitboxes(e){this.CurrentHitbox.forEach(t=>{t.SpriteX=this.X,t.SpriteY=this.Y})}Update(e){super.Update(e),this.X+=this.BaseSpeed,this.UpdateHitboxes(e),(this.X>canvas.width||this.X<0||this.Y>canvas.height||this.Y<0)&&ServiceLocator.GetService("GeneratedSpritesManager").RemoveSprite(this),ServiceLocator.GetService("CollideManager").HandleWhenPlayerProjectileCollideWithEnemies(this)}Draw(e){super.Draw(e)}}class RocketSubBullet extends Sprite{constructor(e,t,i){super(ServiceLocator.GetService("ImageLoader").GetImage("images/Skills/Rocket/RocketSubProjectileLevel3.png"),InfoRocketSkillSprite.SubProjectile.Meta.TileDimensions.Width,InfoRocketSkillSprite.SubProjectile.Meta.TileDimensions.Height,e,t,InfoRocketSkillSprite.SubProjectile.Meta.SpriteShiftPosition.X,InfoRocketSkillSprite.SubProjectile.Meta.SpriteShiftPosition.Y,CANVA_SCALEX,CANVA_SCALEY,InfoRocketSkillSprite.SubProjectile.Meta.RealDimension.Width,InfoRocketSkillSprite.SubProjectile.Meta.RealDimension.Height),this.Generator="player",this.Category="projectile";const a=ServiceLocator.GetService("UtilManager").GetSpeedItTakesToCoverHalfTheScreenWidth({framesItTakes:RocketConstant[2]["Projectile Speed"]});this.BaseSpeed=i==="up"?-a:a;const o=ServiceLocator.GetService("Player").NumberOfBoosts;this.Damage=RocketDamageStats[o]["Sub Projectile L3 Damage"],this.DamageEffectsController=new PlayerProjectileDamageEffectController({baseDamage:this.Damage});const n=CreateHitboxesWithInfoFile(this.X,this.Y,[...InfoRocketSkillSprite.SubProjectile.Hitbox.Frame0]);this.CurrentHitbox=n,this.AnimationsController.AddAnimation({animation:"idle",frames:InfoRocketSkillSprite.SubProjectile.Animations.Idle.Frames,framesLengthInTime:InfoRocketSkillSprite.SubProjectile.Animations.Idle.FrameLengthInTime}),this.AnimationsController.AddAnimation({animation:"destroyed",frames:InfoRocketSkillSprite.SubProjectile.Animations.Destroyed.Frames,framesLengthInTime:InfoRocketSkillSprite.SubProjectile.Animations.Destroyed.FrameLengthInTime,beforePlayingAnimation:()=>{this.BaseSpeed/=2},afterPlayingAnimation:()=>{ServiceLocator.GetService("GeneratedSpritesManager").RemoveSprite(this)},methodToPlayOnSpecificFrames:new Map([[1,()=>{this.CurrentHitbox=RectangleHitbox.NoHitbox}]])}),this.AnimationsController.PlayAnimation({animation:"idle"}),this.Collide=new Map,this.Collide.set("WithEnemy",()=>{this.AnimationsController.PlayAnimation({animation:"destroyed"})})}UpdateHitboxes(e){this.CurrentHitbox.forEach(t=>{t.SpriteX=this.X,t.SpriteY=this.Y})}Update(e){super.Update(e),this.Y+=this.BaseSpeed,this.X+=Math.abs(this.BaseSpeed)/2,this.UpdateHitboxes(e),(this.X>canvas.width||this.X<0||this.Y>canvas.height||this.Y<0)&&ServiceLocator.GetService("GeneratedSpritesManager").RemoveSprite(this),ServiceLocator.GetService("CollideManager").HandleWhenPlayerProjectileCollideWithEnemies(this)}Draw(e){super.Draw(e)}}class RocketBulletLevel3 extends Sprite{constructor(e,t){super(ServiceLocator.GetService("ImageLoader").GetImage("images/Skills/Rocket/RocketProjectileLevel3.png"),InfoRocketSkillSprite.Level3.Meta.TileDimensions.Width,InfoRocketSkillSprite.Level3.Meta.TileDimensions.Height,e,t,InfoRocketSkillSprite.Level3.Meta.SpriteShiftPosition.X,InfoRocketSkillSprite.Level3.Meta.SpriteShiftPosition.Y,CANVA_SCALEX,CANVA_SCALEY,InfoRocketSkillSprite.Level3.Meta.RealDimension.Width,InfoRocketSkillSprite.Level3.Meta.RealDimension.Height),this.Generator="player",this.Category="projectile",this.BaseSpeed=ServiceLocator.GetService("UtilManager").GetSpeedItTakesToCoverHalfTheScreenWidth({framesItTakes:RocketConstant[2]["Projectile Speed"]});const i=RocketDamageStats[ServiceLocator.GetService("Player").NumberOfBoosts];this.Damage=i["Rocket L3 Damage"],this.DamageEffectsController=new PlayerProjectileDamageEffectController({baseDamage:this.Damage}),this.DamageEffectsController.AddDamageEffects({damageEffectName:"Explosive",damageEffectObject:new ExplosiveDamageEffect({explosiveEffectStat:i["Explosive Stat (%)"]})});const a=CreateHitboxesWithInfoFile(this.X,this.Y,[...InfoRocketSkillSprite.Level3.Hitbox.Frame0]),o=CreateHitboxesWithInfoFile(this.X,this.Y,[...InfoRocketSkillSprite.Level3.Hitbox.Frame1]),n=CreateHitboxesWithInfoFile(this.X,this.Y,[...InfoRocketSkillSprite.Level3.Hitbox.Frame2]);this.CurrentHitbox=a,this.AnimationsController.AddAnimation({animation:"idle",frames:InfoRocketSkillSprite.Level3.Animations.Idle.Frames,framesLengthInTime:InfoRocketSkillSprite.Level3.Animations.Idle.FrameLengthInTime}),this.AnimationsController.AddAnimation({animation:"destroyed",frames:InfoRocketSkillSprite.Level3.Animations.Destroyed.Frames,framesLengthInTime:InfoRocketSkillSprite.Level3.Animations.Destroyed.FrameLengthInTime,beforePlayingAnimation:()=>{this.BaseSpeed/=2},afterPlayingAnimation:()=>{ServiceLocator.GetService("GeneratedSpritesManager").RemoveSprite(this)},methodToPlayOnSpecificFrames:new Map([[1,()=>{this.CurrentHitbox=o,this.Damage=i["Radius 1 L3 Damage"],this.DamageEffectsController=new PlayerProjectileDamageEffectController({baseDamage:this.Damage})}],[2,()=>{this.CurrentHitbox=n,this.Damage=i["Radius 2 L3 Damage"],this.DamageEffectsController=new PlayerProjectileDamageEffectController({baseDamage:this.Damage});const{X:s,Y:l}=InfoRocketSkillSprite.SubProjectile.Meta.SpriteSpawnPosition.Projectile1,{X:A,Y:c}=InfoRocketSkillSprite.SubProjectile.Meta.SpriteSpawnPosition.Projectile2,m=new RocketSubBullet(this.X+s,this.Y+l,"up"),S=new RocketSubBullet(this.X+A,this.Y+c,"down");ServiceLocator.GetService("GeneratedSpritesManager").AddSprite(m),ServiceLocator.GetService("GeneratedSpritesManager").AddSprite(S)}],[3,()=>{this.CurrentHitbox=RectangleHitbox.NoHitbox}]])}),this.AnimationsController.PlayAnimation({animation:"idle"}),this.Collide=new Map,this.Collide.set("WithEnemy",()=>{this.AnimationsController.PlayAnimation({animation:"destroyed"})})}UpdateHitboxes(e){this.CurrentHitbox.forEach(t=>{t.SpriteX=this.X,t.SpriteY=this.Y})}Update(e){super.Update(e),this.X+=this.BaseSpeed,this.UpdateHitboxes(e),(this.X>canvas.width||this.X<0||this.Y>canvas.height||this.Y<0)&&ServiceLocator.GetService("GeneratedSpritesManager").RemoveSprite(this),ServiceLocator.GetService("CollideManager").HandleWhenPlayerProjectileCollideWithEnemies(this)}Draw(e){super.Draw(e)}}class RocketSkill{constructor(){this.Type="special",this.SkillName=RocketConstant[0]["Skill Name"]}Effect(){const{x:e,y:t}=ServiceLocator.GetService("Player").Coordinate(),i=ServiceLocator.GetService("Player").SpecialSkillLevel,a=[];if(i===1){const{X:o,Y:n}=InfoRocketSkillSprite.Level1.Meta.SpriteShiftPositionOnPlayer.Up;a.push(new RocketBulletLevel1(e+o,t+n))}else if(i===2){const{X:o,Y:n}=InfoRocketSkillSprite.Level2.Meta.SpriteShiftPositionOnPlayer.Up,{X:s,Y:l}=InfoRocketSkillSprite.Level2.Meta.SpriteShiftPositionOnPlayer.Down;a.push(new RocketBulletLevel2(e+o,t+n)),a.push(new RocketBulletLevel2(e+s,t+l))}else if(i===3){const{X:o,Y:n}=InfoRocketSkillSprite.Level2.Meta.SpriteShiftPositionOnPlayer.Up,{X:s,Y:l}=InfoRocketSkillSprite.Level2.Meta.SpriteShiftPositionOnPlayer.Down,A=new RocketBulletLevel3(e+o,t+n),c=new RocketBulletLevel3(e+s,t+l);a.push(A,c)}a&&a.forEach(o=>{ServiceLocator.GetService("GeneratedSpritesManager").AddSprite(o)})}AttackSpeed(){const e=RocketDamageStats[ServiceLocator.GetService("Player").NumberOfBoosts],t=ServiceLocator.GetService("Player").SpecialSkillLevel;if(t===1)return e["Rocket L1 Attack Speed"];if(t===2)return e["Rocket L2 Attack Speed"];if(t===3)return e["Rocket L3 Attack Speed"]}}const v=class v{constructor(e){const{damageToApplyForWholeEffect:t}=e;this.damageToApplyForWholeEffect=t,this.enemyTouched=[]}get DamageType(){return"Corrosive"}Effect(e){const{target:t,targetResistanceStat:i=0}=e;if(this.enemyTouched.indexOf(t)===-1){this.enemyTouched.push(t);let a=v.maxNumberOfTick;const o=v.timeDurationEffect/v.maxNumberOfTick;let n=0;this.damageToApplyForWholeEffect=this.damageToApplyForWholeEffect-i/100*this.damageToApplyForWholeEffect,t.StatesController.PlayState({stateName:"onCorrosion",duration:v.timeDurationEffect});const s=this.damageToApplyForWholeEffect/v.maxNumberOfTick;return{effect:A=>{if(a>0&&t.AnimationsController.CurrentAnimationName!=="destroyed"){if(n<=0){const c=t.Collide.get("WithProjectile");c&&c(s),a=a-1,n=o}return n-=A,{isFinished:!1}}return{isFinished:!0}}}}return{}}};v.timeDurationEffect=1,v.maxNumberOfTick=5;let CorrosiveDamageEffect=v;const FuelChargeShotDamage=GetSpriteStaticInformation({sprite:"FuelChargeShot"}).stats,FuelChargeShotLaserConstant$1=GetSpriteStaticInformation({sprite:"FuelChargeShot"}).constant.FuelChargeShotLaser,P=class P{constructor(e){const{resistanceStatDebuf:t,moneyValueGainedStat:i}=e;this.resistanceStatDebuf=t,this.moneyValueGainedStat=i/100,this.enemyTouched=[]}get DamageType(){return"FuelChargeShotLaserLevel1"}Effect(e){const{target:t}=e;if(this.enemyTouched.indexOf(t)===-1){let i=P.timeDurationEffect;t.DamageResistancesController.AddDamageResistance({resistanceType:"BaseDamage",resistanceStat:this.resistanceStatDebuf});const a=t.MoneyValue*this.moneyValueGainedStat;return t.MoneyValue+=a,t.StatesController.PlayState({stateName:"onFuelChargeShot",duration:P.timeDurationEffect}),this.enemyTouched.push(t),{effect:s=>(i-=s,i<=0?{isFinished:!0}:{isFinished:!1}),clearStateMethod:()=>{t.DamageResistancesController.RemoveDamageResistance({resistanceType:"BaseDamage",resistanceStat:this.resistanceStatDebuf}),t.MoneyValue-=a}}}return{}}};P.timeDurationEffect=FuelChargeShotLaserConstant$1[0]["Effect Length (s)"];let FuelChargeShotLaserLevel1DamageEffect=P;const D=class D{constructor(e){const{resistanceStatDebuf:t,moneyValueGainedStat:i}=e;this.fuelChargeShotLaserLevel1DamageEffect=new FuelChargeShotLaserLevel1DamageEffect({resistanceStatDebuf:t,moneyValueGainedStat:i}),this.enemyTouched=[];const a=FuelChargeShotDamage[ServiceLocator.GetService("Player").NumberOfBoosts];D.probabilityOfParalyze=a["Laser Level 2 Paralyze Probability (%)"]/100}get DamageType(){return"FuelChargeShotLaserLevel2"}Effect(e){const{target:t,baseDamage:i,targetResistanceStat:a}=e;if(this.enemyTouched.indexOf(t)===-1){this.enemyTouched.push(t);const o=this.fuelChargeShotLaserLevel1DamageEffect.Effect({target:t,baseDamage:i,targetResistanceStat:a});let n=D.timeDurationEffect;const s=Math.random()<=D.probabilityOfParalyze;return s&&ServiceLocator.GetService("WaveManager").ParalyzeEnemy({target:t}),{effect:c=>{var m;return(m=o.effect)==null||m.call(o,c),s&&ServiceLocator.GetService("WaveManager").ParalyzeEnemy({target:t}),n-=c,n<=0?{isFinished:!0}:{isFinished:!1}},clearStateMethod:()=>{var c;(c=o.clearStateMethod)==null||c.call(o),s&&ServiceLocator.GetService("WaveManager").StopParalyzeEnemy({target:t})}}}return{}}};D.timeDurationEffect=FuelChargeShotLaserConstant$1[1]["Effect Length (s)"];let FuelChargeShotLaserLevel2DamageEffect=D;const B=class B{constructor(e){const{resistanceStatDebuf:t,moneyValueGainedStat:i,explosiveResistanceDebuf:a,energyResistanceDebuf:o}=e;this.fuelChargeShotLaserLevel2DamageEffect=new FuelChargeShotLaserLevel2DamageEffect({resistanceStatDebuf:t,moneyValueGainedStat:i}),this.enemyTouched=[],this.explosiveResistanceDebuf=a,this.energyResistanceDebuf=o}get DamageType(){return"FuelChargeShotLaserLevel3"}Effect(e){const{target:t,baseDamage:i,targetResistanceStat:a}=e;if(this.enemyTouched.indexOf(t)===-1){this.enemyTouched.push(t);const o=this.fuelChargeShotLaserLevel2DamageEffect.Effect({target:t,baseDamage:i,targetResistanceStat:a});t.DamageResistancesController.AddDamageResistance({resistanceType:"Explosive",resistanceStat:this.explosiveResistanceDebuf}),t.DamageResistancesController.AddDamageResistance({resistanceType:"Energy",resistanceStat:this.energyResistanceDebuf});let n=B.timeDurationEffect;return{effect:A=>{var c;return(c=o.effect)==null||c.call(o,A),n-=A,n<=0?{isFinished:!0}:{isFinished:!1}},clearStateMethod:()=>{var A;(A=o.clearStateMethod)==null||A.call(o),t.DamageResistancesController.RemoveDamageResistance({resistanceType:"Explosive",resistanceStat:this.explosiveResistanceDebuf}),t.DamageResistancesController.RemoveDamageResistance({resistanceType:"Energy",resistanceStat:this.energyResistanceDebuf})}}}return{}}};B.timeDurationEffect=FuelChargeShotLaserConstant$1[2]["Effect Length (s)"];let FuelChargeShotLaserLevel3DamageEffect=B;GetSpriteStaticInformation({sprite:"FuelChargeShot"}).spriteInfo;GetSpriteStaticInformation({sprite:"FuelChargeShot"}).constant.FuelChargeShotLaser;GetSpriteStaticInformation({sprite:"FuelChargeShot"}).stats;const FuelChargeShotFrameConstant=GetSpriteStaticInformation({sprite:"FuelChargeShot"}).constant.FuelChargeShotFrame;GetSpriteStaticInformation({sprite:"FuelChargeShot"}).spriteInfo;class FuelChargeShotSkill{constructor(){this.Type="support",this.SkillName="FuelChargeShot",this.refFrameSprites=[]}Effect(){const skillLevel=ServiceLocator.GetService("Player").SupportSkillLevel,cannons=[];if(skillLevel>0&&skillLevel<4){const cannonTypeToSpawn=eval(`FuelChargeShotLevel${skillLevel}`);for(let r=0;r<FuelChargeShotFrameConstant[skillLevel-1]["Number of Frame To Spawn"];r++)cannons.push(new cannonTypeToSpawn);cannons.length>0&&cannons.forEach(r=>{this.refFrameSprites.push(r),ServiceLocator.GetService("GeneratedSpritesManager").AddSprite(r)})}}ClearSkillSprite(){this.refFrameSprites.forEach(r=>{ServiceLocator.GetService("GeneratedSpritesManager").RemoveSprite(r)})}}const MirrorShieldConstant$1=GetSpriteStaticInformation({sprite:"Mirror"}).constant.Mirror,MirrorShieldExplosiveEntityConstant=GetSpriteStaticInformation({sprite:"Mirror"}).constant.ExplosiveEntity,MirrorShieldDamage$1=GetSpriteStaticInformation({sprite:"Mirror"}).stats,InfoMirrorShield$1=GetSpriteStaticInformation({sprite:"Mirror"}).spriteInfo,y=class y extends Sprite{constructor(e){super(ServiceLocator.GetService("ImageLoader").GetImage("images/Skills/Mirror/Portal.png"),InfoMirrorShield$1.Portal.Meta.TileDimensions.Width,InfoMirrorShield$1.Portal.Meta.TileDimensions.Height,0,0,InfoMirrorShield$1.Portal.Meta.SpriteShiftPosition.X,InfoMirrorShield$1.Portal.Meta.SpriteShiftPosition.Y,CANVA_SCALEX,CANVA_SCALEY,InfoMirrorShield$1.Portal.Meta.RealDimension.Short.Width,InfoMirrorShield$1.Portal.Meta.RealDimension.Short.Height),this.initializePotentialPositions();const{spriteShiftPositionOnMirror:t}=e,{x:i,y:a}=ServiceLocator.GetService("Player").Coordinate();this.X=i,this.Y=a;const{X:o,Y:n}=InfoMirrorShield$1.Level3.Meta.SpriteShiftPositionOnPlayer,{X:s,Y:l}=t;this.offsetXOnPlayer=o+s,this.offsetYOnPlayer=n+l,this.numberOfExplosiveEntitiesToSpawnPerSecond=MirrorShieldConstant$1[2]["Quantity Explosive Entity / Second"],this.remainingNumberOfExplosiveEntitiesToSpawnPerSecond=this.numberOfExplosiveEntitiesToSpawnPerSecond;const{Idle:A,Detaching:c,Attaching:m,Disappearing:S,Generating:h,Spawning:f}=InfoMirrorShield$1.Portal.Animations;this.AnimationsController.AddAnimation({animation:"idle",frames:A.Frames,framesLengthInTime:A.FrameLengthInTime}),this.AnimationsController.AddAnimation({animation:"attaching",frames:m.Frames,framesLengthInTime:m.FrameLengthInTime,afterPlayingAnimation:()=>{const{Width:u,Height:C}=InfoMirrorShield$1.Portal.Meta.RealDimension.Short;this.Width=u,this.Height=C,this.AnimationsController.PlayAnimation({animation:"idle"})}}),this.AnimationsController.AddAnimation({animation:"disappearing",frames:S.Frames,framesLengthInTime:S.FrameLengthInTime,afterPlayingAnimation:()=>{y.potentialMirrorPositions.push({X:this.X,Y:this.Y}),this.AnimationsController.PlayAnimation({animation:"attaching"})}}),this.AnimationsController.AddAnimation({animation:"generating",frames:h.Frames,framesLengthInTime:h.FrameLengthInTime,beforePlayingAnimation:()=>{const{Width:u,Height:C}=InfoMirrorShield$1.Portal.Meta.RealDimension.Long;this.Width=u,this.Height=C}}),this.AnimationsController.AddAnimation({animation:"spawning",frames:f.Frames,framesLengthInTime:f.FrameLengthInTime,afterPlayingAnimation:()=>{this.AnimationsController.PlayAnimation({animation:"generating",loop:!0})}}),this.AnimationsController.AddAnimation({animation:"detaching",frames:c.Frames,framesLengthInTime:c.FrameLengthInTime,afterPlayingAnimation:()=>{const{X:u,Y:C}=this.getRandomPotentialPortalPosition();this.X=u,this.Y=C,this.AnimationsController.PlayAnimation({animation:"spawning"})}}),this.AnimationsController.PlayAnimation({animation:"idle"})}Update(e){super.Update(e);const{x:t,y:i}=ServiceLocator.GetService("Player").Coordinate();this.AnimationsController.CurrentAnimationName==="idle"||this.AnimationsController.CurrentAnimationName==="attaching"?(this.X=t+this.offsetXOnPlayer,this.Y=i+this.offsetYOnPlayer):this.AnimationsController.CurrentAnimationName==="generating"&&(this.remainingNumberOfExplosiveEntitiesToSpawnPerSecond-=1,this.generatesExplosiveEntity(),this.remainingNumberOfExplosiveEntitiesToSpawnPerSecond<=0&&(this.AnimationsController.PlayAnimation({animation:"disappearing"}),this.remainingNumberOfExplosiveEntitiesToSpawnPerSecond=this.numberOfExplosiveEntitiesToSpawnPerSecond))}initializePotentialPositions(){if(y.potentialMirrorPositions.length===0){const t=Math.floor(canvas.width/3),i=canvas.height-120,a=t/3,o=i/5;for(let n=120;n<t;n+=a)for(let s=120;s<i;s+=o)y.potentialMirrorPositions.push({X:n,Y:s})}}getRandomPotentialPortalPosition(){const e=Math.floor(Math.random()*y.potentialMirrorPositions.length),t=y.potentialMirrorPositions[e];return y.potentialMirrorPositions.splice(e,1),t}generatesExplosiveEntity(){const e=this.Y+Math.floor(Math.random()*this.Height),t=new PortalExplosiveEntity({X:this.X+this.Width/2,Y:e});ServiceLocator.GetService("GeneratedSpritesManager").AddSprite(t)}};y.potentialMirrorPositions=[];let MirrorShieldPortal=y;class PortalExplosiveEntity extends Sprite{constructor(e){const{X:t,Y:i}=e;super(ServiceLocator.GetService("ImageLoader").GetImage("images/Skills/Mirror/ExplosiveEntity.png"),InfoMirrorShield$1.ExplosiveEntity.Meta.TileDimensions.Width,InfoMirrorShield$1.ExplosiveEntity.Meta.TileDimensions.Height,t,i,InfoMirrorShield$1.ExplosiveEntity.Meta.SpriteShiftPosition.X,InfoMirrorShield$1.ExplosiveEntity.Meta.SpriteShiftPosition.Y,CANVA_SCALEX,CANVA_SCALEY,InfoMirrorShield$1.ExplosiveEntity.Meta.RealDimension.Width,InfoMirrorShield$1.ExplosiveEntity.Meta.RealDimension.Height),this.BaseSpeed=ServiceLocator.GetService("UtilManager").GetSpeedItTakesToCoverHalfTheScreenWidth({framesItTakes:MirrorShieldExplosiveEntityConstant[0]["Projectile Speed"]}),this.Generator="player",this.Category="projectile";const a=MirrorShieldDamage$1[ServiceLocator.GetService("Player").NumberOfBoosts];this.Damage=a["Explosive Entity Damage"],this.DamageEffectsController=new PlayerProjectileDamageEffectController({baseDamage:this.Damage}),this.DamageEffectsController.AddDamageEffects({damageEffectName:MirrorShieldExplosiveEntityConstant[0]["Primary Skill"],damageEffectObject:new ExplosiveDamageEffect({explosiveEffectStat:a["Explosive Stat (%)"]})}),this.CurrentHitbox=CreateHitboxesWithInfoFile(this.X,this.Y,[...InfoMirrorShield$1.ExplosiveEntity.Hitbox]);const{Idle:o,Destroyed:n}=InfoMirrorShield$1.ExplosiveEntity.Animations;this.AnimationsController.AddAnimation({animation:"idle",frames:o.Frames,framesLengthInTime:o.FrameLengthInTime}),this.AnimationsController.AddAnimation({animation:"destroyed",frames:n.Frames,framesLengthInTime:n.FrameLengthInTime,afterPlayingAnimation:()=>{ServiceLocator.GetService("GeneratedSpritesManager").RemoveSprite(this)}}),this.Collide=new Map,this.Collide.set("WithEnemy",()=>{this.AnimationsController.PlayAnimation({animation:"destroyed"})}),this.target=ServiceLocator.GetService("WaveManager").GetARandomEnemy(),this.targetAngle=Math.PI;const{width:s}=canvas;this.screenLimitToFindTarget=2/3*s}UpdateHitboxes(e){this.CurrentHitbox.forEach(t=>{t.SpriteX=this.X,t.SpriteY=this.Y})}Update(e){super.Update(e),this.X-=this.XSpeed,this.Y-=this.YSpeed,this.AnimationsController.CurrentAnimationName!=="destroyed"&&ServiceLocator.GetService("CollideManager").HandleWhenPlayerProjectileCollideWithEnemies(this);const{width:t,height:i}=canvas;(this.X<0||this.X>t||this.Y<0||this.Y>i)&&ServiceLocator.GetService("GeneratedSpritesManager").RemoveSprite(this),this.UpdateHitboxes(e)}Draw(e){e.save(),e.translate(this.X+this.Width,this.Y+this.Height/2),e.rotate(this.TargetAngle-Math.PI),e.translate(-(this.X+this.Width),-(this.Y+this.Height/2)),super.Draw(e),e.restore()}get TargetAngle(){if(this.target&&this.target.AnimationsController.CurrentAnimationName!=="destroyed"){const{FrameXCenter:e,FrameYCenter:t}=this.target,i=this.X-e,a=this.Y-t;return this.targetAngle=Math.atan2(a,i),this.targetAngle}return this.X<=this.screenLimitToFindTarget&&(this.target=ServiceLocator.GetService("WaveManager").GetARandomEnemy()),this.targetAngle}get XSpeed(){return this.AnimationsController.CurrentAnimationName==="destroyed"?0:Math.cos(this.TargetAngle)*this.BaseSpeed}get YSpeed(){return this.AnimationsController.CurrentAnimationName==="destroyed"?0:Math.sin(this.TargetAngle)*this.BaseSpeed}}class MirrorShieldPortals{constructor(){this.portals=[],InfoMirrorShield$1.Portal.Meta.SpriteShiftPositionOnMirror.forEach(e=>{this.portals.push(new MirrorShieldPortal({spriteShiftPositionOnMirror:e}))}),this.baseTimeMirrorDetaching=MirrorShieldConstant$1[2]["Portal Detachment Cooldown (s)"],this.currentTimeMirrorDetaching=this.baseTimeMirrorDetaching}Update(e){this.currentTimeMirrorDetaching-=e,this.currentTimeMirrorDetaching<0&&this.portals.length>0&&(this.currentTimeMirrorDetaching=this.baseTimeMirrorDetaching,this.detachMirrors()),this.portals.forEach(t=>{t.Update(e)})}Draw(e){this.portals.forEach(t=>{t.Draw(e)})}detachMirrors(){const e=this.portals.filter(i=>i.AnimationsController.CurrentAnimationName==="idle"),t=Math.floor(Math.random()*e.length);for(let i=0;i<t;i++){const a=Math.floor(Math.random()*e.length),o=e[a];o&&o.AnimationsController.PlayAnimation({animation:"detaching"})}}}const MirrorShieldThunderBeamConstant=GetSpriteStaticInformation({sprite:"Mirror"}).constant.ThunderBeam,MirrorShieldDamage=GetSpriteStaticInformation({sprite:"Mirror"}).stats;class MirrorShieldThunderBeam{constructor(e){this.verticalRange=30,this.potentialPartitionNumbers=[1/2,1/4,1/5],this.lineWidth=3/4*CANVA_SCALEX,this.currentDisappearTimer=1/FRAME_RATE;const{startingPoint:t}=e;this.startingPoint=t;const i=ServiceLocator.GetService("WaveManager").GetARandomEnemy();this.endPoint=i?{x:i.FrameXCenter,y:i.FrameYCenter}:{x:canvas.width,y:canvas.height/2},this.setOfKeyPoints=[],this.generateKeyPoints();const a=MirrorShieldDamage[ServiceLocator.GetService("Player").NumberOfBoosts];this.Damage=a["Thunder Beam Damage"],this.DamageEffectsController=new PlayerProjectileDamageEffectController({baseDamage:this.Damage}),this.DamageEffectsController.AddDamageEffects({damageEffectName:MirrorShieldThunderBeamConstant[0]["Primary Skill"],damageEffectObject:new EnergyDamageEffect({probabilityOfCriticalHit:a["Energy Stat"]})}),this.Generator="player",this.Category="projectile",this.CurrentHitbox=[new RectangleHitbox(this.endPoint.x,this.endPoint.y,0,0,this.lineWidth,this.lineWidth)],this.Collide=new Map,this.Collide.set("WithEnemy",()=>{ServiceLocator.GetService("GeneratedSpritesManager").RemoveSprite(this)})}Update(e){this.currentDisappearTimer-=e,this.currentDisappearTimer<0&&ServiceLocator.GetService("GeneratedSpritesManager").RemoveSprite(this),ServiceLocator.GetService("CollideManager").HandleWhenPlayerProjectileCollideWithEnemies(this)}Draw(e){const{x:t,y:i}=this.startingPoint;e.lineWidth=this.lineWidth,e.beginPath(),e.moveTo(t,i),this.setOfKeyPoints.forEach(({x:a,y:o})=>{e.lineTo(a,o)}),e.stroke()}generateKeyPoints(){const e=this.endPoint.x-this.startingPoint.x,t=this.endPoint.y-this.startingPoint.y,i=this.potentialPartitionNumbers[Math.floor(Math.random()*this.potentialPartitionNumbers.length)];let a=i,o=Math.random()>.5?1:-1;for(;a<=1;){const n=Math.floor(e*a+this.startingPoint.x);let s=Math.floor(t*a+this.startingPoint.y);a<1&&(s+=o*Math.floor(Math.random()*this.verticalRange)),this.setOfKeyPoints.push({x:n,y:s}),a+=i,o=-o}}}const InfoMirrorShield=GetSpriteStaticInformation({sprite:"Mirror"}).spriteInfo,MirrorShieldConstant=GetSpriteStaticInformation({sprite:"Mirror"}).constant.Mirror;class MirrorShieldLevel1 extends Sprite{constructor(){super(ServiceLocator.GetService("ImageLoader").GetImage("images/Skills/Mirror/MirrorLevel1.png"),InfoMirrorShield.Level1.Meta.TileDimensions.Width,InfoMirrorShield.Level1.Meta.TileDimensions.Height,0,0,InfoMirrorShield.Level1.Meta.SpriteShiftPosition.X,InfoMirrorShield.Level1.Meta.SpriteShiftPosition.Y,CANVA_SCALEX,CANVA_SCALEY,InfoMirrorShield.Level1.Meta.RealDimension.Width,InfoMirrorShield.Level1.Meta.RealDimension.Height);const{x:e,y:t}=ServiceLocator.GetService("Player").Coordinate();this.X=e,this.Y=t,this.Generator="player",this.Category="nonProjectile",this.BaseHealth=ServiceLocator.GetService("Player").MaxHealth*MirrorShieldConstant[0]["Mirror Health Player Health Ratio"],this.CurrentHealth=this.BaseHealth;const i=CreateHitboxesWithInfoFile(this.X,this.Y,[...InfoMirrorShield.Level1.Hitbox]);this.CurrentHitbox=i,this.offsetXOnPlayer=InfoMirrorShield.Level1.Meta.SpriteShiftPositionOnPlayer.X,this.offsetYOnPlayer=InfoMirrorShield.Level1.Meta.SpriteShiftPositionOnPlayer.Y,this.baseTimeToRespawn=MirrorShieldConstant[0]["Respawn Time (s)"],this.currentTimeToRespawn=0;const{Destroyed:a,Spawning:o,Damaged:n}=InfoMirrorShield.Level1.Animations;this.AnimationsController.AddAnimation({animation:"destroyed",frames:a.Frames,framesLengthInTime:a.FrameLengthInTime,beforePlayingAnimation:()=>{this.CurrentHitbox=RectangleHitbox.NoHitbox,this.currentTimeToRespawn=this.baseTimeToRespawn}}),this.AnimationsController.AddAnimation({animation:"spawning",frames:o.Frames,framesLengthInTime:o.FrameLengthInTime,afterPlayingAnimation:()=>{this.CurrentHitbox=i,this.AnimationsController.PlayAnimation({animation:"damaged"})}}),this.AnimationsController.AddAnimation({animation:"damaged",frames:n.Frames,framesLengthInTime:n.FrameLengthInTime,afterPlayingAnimation:()=>{this.AnimationsController.PlayAnimation({animation:"destroyed"})}}),this.AnimationsController.PlayAnimation({animation:"damaged"}),this.Collide=new Map,this.Collide.set("WithProjectile",s=>{const l=s;if(l!=null&&l.Damage){const{floor:A}=Math,c=A(this.BaseHealth/n.Frames.length),m=A(this.BaseHealth/c),S=A(this.CurrentHealth/c);this.CurrentHealth-=l.Damage,A(this.CurrentHealth/c)<S&&S!=m&&this.AnimationsController.PlayManuallyNextFrame()}this.StatesController.PlayState({stateName:"onHit"})})}UpdateHitboxes(e){this.CurrentHitbox.forEach(t=>{t.SpriteX=this.X,t.SpriteY=this.Y})}Update(e){if(super.Update(e),this.AnimationsController.CurrentAnimationName==="destroyed")this.currentTimeToRespawn-=e,this.currentTimeToRespawn<=0&&this.AnimationsController.PlayAnimation({animation:"spawning"});else{const{x:t,y:i}=ServiceLocator.GetService("Player").Coordinate();this.X=t+this.offsetXOnPlayer,this.Y=i+this.offsetYOnPlayer,this.UpdateHitboxes(e),ServiceLocator.GetService("CollideManager").HandleWhenPlayerNonProjectileCollideWithEnemyProjectiles(this)}}}class MirrorShieldLevel2 extends Sprite{constructor(){super(ServiceLocator.GetService("ImageLoader").GetImage("images/Skills/Mirror/MirrorLevel2&3.png"),InfoMirrorShield.Level2.Meta.TileDimensions.Width,InfoMirrorShield.Level2.Meta.TileDimensions.Height,0,0,InfoMirrorShield.Level2.Meta.SpriteShiftPosition.X,InfoMirrorShield.Level2.Meta.SpriteShiftPosition.Y,CANVA_SCALEX,CANVA_SCALEY,InfoMirrorShield.Level2.Meta.RealDimension.Width,InfoMirrorShield.Level2.Meta.RealDimension.Height);const{x:e,y:t}=ServiceLocator.GetService("Player").Coordinate();this.X=e,this.Y=t,this.Generator="player",this.Category="nonProjectile",this.BaseHealth=this.BaseHealth=ServiceLocator.GetService("Player").MaxHealth*MirrorShieldConstant[1]["Mirror Health Player Health Ratio"],this.CurrentHealth=this.BaseHealth;const i=CreateHitboxesWithInfoFile(this.X,this.Y,[...InfoMirrorShield.Level2.Hitbox]);this.CurrentHitbox=i,this.offsetXOnPlayer=InfoMirrorShield.Level2.Meta.SpriteShiftPositionOnPlayer.X,this.offsetYOnPlayer=InfoMirrorShield.Level2.Meta.SpriteShiftPositionOnPlayer.Y,this.baseTimeToRespawn=MirrorShieldConstant[1]["Respawn Time (s)"],this.currentTimeToRespawn=0;const{Destroyed:a,Spawning:o,Damaged:n}=InfoMirrorShield.Level2.Animations;this.AnimationsController.AddAnimation({animation:"destroyed",frames:a.Frames,framesLengthInTime:a.FrameLengthInTime,beforePlayingAnimation:()=>{this.CurrentHitbox=RectangleHitbox.NoHitbox,this.currentTimeToRespawn=this.baseTimeToRespawn}}),this.AnimationsController.AddAnimation({animation:"spawning",frames:o.Frames,framesLengthInTime:o.FrameLengthInTime,afterPlayingAnimation:()=>{this.CurrentHitbox=i,this.AnimationsController.PlayAnimation({animation:"damaged"})}}),this.AnimationsController.AddAnimation({animation:"damaged",frames:n.Frames,framesLengthInTime:n.FrameLengthInTime,afterPlayingAnimation:()=>{this.AnimationsController.PlayAnimation({animation:"destroyed"})}}),this.AnimationsController.PlayAnimation({animation:"damaged"}),this.Collide=new Map,this.Collide.set("WithProjectile",s=>{const l=s;if(l!=null&&l.Damage){const{floor:A}=Math,c=A(this.BaseHealth/n.Frames.length),m=A(this.BaseHealth/c),S=A(this.CurrentHealth/c);this.CurrentHealth-=l.Damage,A(this.CurrentHealth/c)<S&&S!=m&&this.AnimationsController.PlayManuallyNextFrame()}this.StatesController.PlayState({stateName:"onHit"}),ServiceLocator.GetService("GeneratedSpritesManager").AddSprite(new MirrorShieldThunderBeam({startingPoint:{x:this.FrameXCenter,y:this.FrameYCenter}}))})}UpdateHitboxes(e){this.CurrentHitbox.forEach(t=>{t.SpriteX=this.X,t.SpriteY=this.Y})}Update(e){if(super.Update(e),this.AnimationsController.CurrentAnimationName==="destroyed")this.currentTimeToRespawn-=e,this.currentTimeToRespawn<=0&&this.AnimationsController.PlayAnimation({animation:"spawning"});else{const{x:t,y:i}=ServiceLocator.GetService("Player").Coordinate();this.X=t+this.offsetXOnPlayer,this.Y=i+this.offsetYOnPlayer,this.UpdateHitboxes(e),ServiceLocator.GetService("CollideManager").HandleWhenPlayerNonProjectileCollideWithEnemyProjectiles(this)}}}class MirrorShieldLevel3 extends Sprite{constructor(){super(ServiceLocator.GetService("ImageLoader").GetImage("images/Skills/Mirror/MirrorLevel2&3.png"),InfoMirrorShield.Level3.Meta.TileDimensions.Width,InfoMirrorShield.Level3.Meta.TileDimensions.Height,0,0,InfoMirrorShield.Level3.Meta.SpriteShiftPosition.X,InfoMirrorShield.Level3.Meta.SpriteShiftPosition.Y,CANVA_SCALEX,CANVA_SCALEY,InfoMirrorShield.Level3.Meta.RealDimension.Width,InfoMirrorShield.Level3.Meta.RealDimension.Height);const{x:e,y:t}=ServiceLocator.GetService("Player").Coordinate();this.X=e,this.Y=t,this.Generator="player",this.Category="nonProjectile",this.BaseHealth=this.BaseHealth=ServiceLocator.GetService("Player").MaxHealth*MirrorShieldConstant[2]["Mirror Health Player Health Ratio"],this.CurrentHealth=this.BaseHealth;const i=CreateHitboxesWithInfoFile(this.X,this.Y,[...InfoMirrorShield.Level3.Hitbox]);this.CurrentHitbox=i,this.offsetXOnPlayer=InfoMirrorShield.Level3.Meta.SpriteShiftPositionOnPlayer.X,this.offsetYOnPlayer=InfoMirrorShield.Level3.Meta.SpriteShiftPositionOnPlayer.Y,this.baseTimeToRespawn=MirrorShieldConstant[2]["Respawn Time (s)"],this.currentTimeToRespawn=0,this.portalsContainer=new MirrorShieldPortals;const{Destroyed:a,Spawning:o,Damaged:n}=InfoMirrorShield.Level3.Animations;this.AnimationsController.AddAnimation({animation:"destroyed",frames:a.Frames,framesLengthInTime:a.FrameLengthInTime,beforePlayingAnimation:()=>{this.CurrentHitbox=RectangleHitbox.NoHitbox,this.currentTimeToRespawn=this.baseTimeToRespawn}}),this.AnimationsController.AddAnimation({animation:"spawning",frames:o.Frames,framesLengthInTime:o.FrameLengthInTime,afterPlayingAnimation:()=>{this.CurrentHitbox=i,this.AnimationsController.PlayAnimation({animation:"damaged"})}}),this.AnimationsController.AddAnimation({animation:"damaged",frames:n.Frames,framesLengthInTime:n.FrameLengthInTime,afterPlayingAnimation:()=>{this.AnimationsController.PlayAnimation({animation:"destroyed"})}}),this.AnimationsController.PlayAnimation({animation:"damaged"}),this.Collide=new Map,this.Collide.set("WithProjectile",s=>{const l=s;if(l!=null&&l.Damage){const{floor:A}=Math,c=A(this.BaseHealth/n.Frames.length),m=A(this.BaseHealth/c),S=A(this.CurrentHealth/c);this.CurrentHealth-=l.Damage,A(this.CurrentHealth/c)<S&&S!=m&&this.AnimationsController.PlayManuallyNextFrame()}this.StatesController.PlayState({stateName:"onHit"}),ServiceLocator.GetService("GeneratedSpritesManager").AddSprite(new MirrorShieldThunderBeam({startingPoint:{x:this.FrameXCenter,y:this.FrameYCenter}}))})}UpdateHitboxes(e){this.CurrentHitbox.forEach(t=>{t.SpriteX=this.X,t.SpriteY=this.Y})}Update(e){if(super.Update(e),this.AnimationsController.CurrentAnimationName==="destroyed")this.currentTimeToRespawn-=e,this.currentTimeToRespawn<=0&&this.AnimationsController.PlayAnimation({animation:"spawning"});else{const{x:t,y:i}=ServiceLocator.GetService("Player").Coordinate();this.X=t+this.offsetXOnPlayer,this.Y=i+this.offsetYOnPlayer,this.UpdateHitboxes(e),ServiceLocator.GetService("CollideManager").HandleWhenPlayerNonProjectileCollideWithEnemyProjectiles(this)}this.portalsContainer.Update(e)}Draw(e){super.Draw(e),this.portalsContainer.Draw(e)}}class MirrorShieldSkill{constructor(){this.Type="support",this.SkillName="MirrorShield",this.refMirrorSprite=void 0}Effect(){const e=ServiceLocator.GetService("Player").SupportSkillLevel;let t;e===1?t=new MirrorShieldLevel1:e===2?t=new MirrorShieldLevel2:e===3&&(t=new MirrorShieldLevel3),t&&(this.refMirrorSprite=t,ServiceLocator.GetService("GeneratedSpritesManager").AddSprite(t))}ClearSkillSprite(){this.refMirrorSprite&&ServiceLocator.GetService("GeneratedSpritesManager").RemoveSprite(this.refMirrorSprite)}}class SkillFactory{constructor(){}GetSkill(e){var a;const{skillName:t,playerOldSkill:i}=e;switch(i&&((a=i.ClearSkillSprite)==null||a.call(i)),t){case"Rocket":return new RocketSkill;case"Blade":return new BladeExplosionSkill;case"MirrorShield":return new MirrorShieldSkill;case"FuelChargeShot":return new FuelChargeShotSkill}}}const InfoPlayer$3=GetSpriteStaticInformation({sprite:"Player"}).spriteInfo;class EffectCosmetic extends Sprite{constructor(e){const{X:t,Y:i,offsetXOnPlayer:a,offsetYOnPlayer:o}=e;super(ServiceLocator.GetService("ImageLoader").GetImage("images/Skills/Upgrade/EffectEvolution.png"),InfoPlayer$3.Meta.TileDimensions.Width,InfoPlayer$3.Meta.TileDimensions.Height,t,i,InfoPlayer$3.EffectCosmetic.Meta.SpriteShiftPosition.X,InfoPlayer$3.EffectCosmetic.Meta.SpriteShiftPosition.Y,CANVA_SCALEX,CANVA_SCALEY),this.offsetXOnPlayer=a,this.offsetYOnPlayer=o}Update(e){super.Update(e);const{x:t,y:i}=ServiceLocator.GetService("Player").Coordinate();this.X=t+this.offsetXOnPlayer,this.Y=i+this.offsetYOnPlayer}}class EffectConfiguration{constructor(e){this.effectConfiguration=e}Update(e){var t;(t=this.effectConfiguration)==null||t.forEach(i=>{i.Update(e)})}Draw(e){this.effectConfiguration.forEach(t=>{t.Draw(e)})}}class EffectConfigurationFactory{constructor(e){const{playerEffectSkillLevel:t,playerX:i,playerY:a}=e;this.playerEffectSkillLevel=t,this.playerX=i,this.playerY=a}GetConfig(){let e=[];return e=this.getEffectConfiguration(this.playerEffectSkillLevel),new EffectConfiguration(e)}getEffectConfiguration(e){const t=[],{Level1:i,Level2:a,Level3:o}=GetSpriteStaticInformation({sprite:"Player"}).spriteInfo.EffectCosmetic,n=[];return e==1?n.push(...i.SpriteShiftPositionOnPlayer):e==2?n.push(...a.SpriteShiftPositionOnPlayer):e==3&&n.push(...o.SpriteShiftPositionOnPlayer),n.forEach(s=>{const{X:l,Y:A}=s;t.push(new EffectCosmetic({X:this.playerX,Y:this.playerY,offsetXOnPlayer:l,offsetYOnPlayer:A}))}),t}}const InfoRocketCannon=GetSpriteStaticInformation({sprite:"RocketCannonCosmetic"}).spriteInfo,InfoPlayer$2=GetSpriteStaticInformation({sprite:"Player"}).spriteInfo;class RocketCannonLevel1 extends Sprite{constructor(e){const{X:t,Y:i,offsetXOnPlayer:a,offsetYOnPlayer:o}=e;super(ServiceLocator.GetService("ImageLoader").GetImage("images/Skills/Upgrade/Rocket/Level1.png"),InfoRocketCannon.Level1.Meta.TileDimensions.Width,InfoRocketCannon.Level1.Meta.TileDimensions.Height,t,i,InfoRocketCannon.Level1.Meta.SpriteShiftPosition.X,InfoRocketCannon.Level1.Meta.SpriteShiftPosition.Y,CANVA_SCALEX,CANVA_SCALEY,InfoRocketCannon.Level1.Meta.RealDimension.Width,InfoRocketCannon.Level1.Meta.RealDimension.Height),this.offsetXOnSprite=a,this.offsetYOnSprite=o,this.CurrentHitbox=CreateHitboxesWithInfoFile(this.X,this.Y,[...InfoRocketCannon.Level1.Hitbox]);const{Idle:n,Destroyed:s}=InfoRocketCannon.Level1.Animations,{Destroyed:l}=InfoPlayer$2.Animations;this.AnimationsController.AddAnimation({animation:"idle",frames:n.Frames,framesLengthInTime:n.FrameLengthInTime}),this.AnimationsController.AddAnimation({animation:"destroyed",frames:s.Frames,framesLengthInTime:l.FrameLengthInTime}),this.Collide=new Map,this.Collide.set("WithProjectile",()=>{this.StatesController.PlayState({stateName:"onHit"})}),this.Collide.set("WithEnemy",()=>{const A=ServiceLocator.GetService("Player").InvulnerabilityTimePeriod;this.StatesController.PlayState({stateName:"onInvulnerable",duration:A})}),this.AnimationsController.PlayAnimation({animation:"idle"})}UpdateHitboxes(e){}Update(e){super.Update(e);const{x:t,y:i}=ServiceLocator.GetService("Player").Coordinate();this.X=t+this.offsetXOnSprite,this.Y=i+this.offsetYOnSprite}Draw(e){super.Draw(e)}}class RocketCannonLevel2 extends Sprite{constructor(e){const{X:t,Y:i,offsetXOnPlayer:a,offsetYOnPlayer:o,direction:n}=e;super(ServiceLocator.GetService("ImageLoader").GetImage("images/Skills/Upgrade/Rocket/Level2.png"),InfoRocketCannon.Level2.Meta.TileDimensions.Width,InfoRocketCannon.Level2.Meta.TileDimensions.Height,t,i,InfoRocketCannon.Level2.Meta.SpriteShiftPosition.X,InfoRocketCannon.Level2.Meta.SpriteShiftPosition.Y,CANVA_SCALEX,CANVA_SCALEY,InfoRocketCannon.Level2.Meta.RealDimension.Width,InfoRocketCannon.Level2.Meta.RealDimension.Height),this.offsetXOnSprite=a,this.offsetYOnSprite=o,n==="up"?this.CurrentHitbox=CreateHitboxesWithInfoFile(this.X,this.Y,[...InfoRocketCannon.Level2.Hitbox.Cannon1]):this.CurrentHitbox=CreateHitboxesWithInfoFile(this.X,this.Y,[...InfoRocketCannon.Level2.Hitbox.Cannon2]);const{Idle:s,Destroyed:l}=InfoRocketCannon.Level2.Animations,{Destroyed:A}=InfoPlayer$2.Animations;this.AnimationsController.AddAnimation({animation:"idle",frames:s.Frames,framesLengthInTime:s.FrameLengthInTime}),this.AnimationsController.AddAnimation({animation:"destroyed",frames:l.Frames,framesLengthInTime:A.FrameLengthInTime}),this.Collide=new Map,this.Collide.set("WithProjectile",()=>{this.StatesController.PlayState({stateName:"onHit"})}),this.Collide.set("WithEnemy",()=>{const c=ServiceLocator.GetService("Player").InvulnerabilityTimePeriod;this.StatesController.PlayState({stateName:"onInvulnerable",duration:c})}),this.AnimationsController.PlayAnimation({animation:"idle"})}UpdateHitboxes(e){}Update(e){super.Update(e);const{x:t,y:i}=ServiceLocator.GetService("Player").Coordinate();this.X=t+this.offsetXOnSprite,this.Y=i+this.offsetYOnSprite}Draw(e){super.Draw(e)}}class RocketCannonLevel3 extends Sprite{constructor(e){const{X:t,Y:i,offsetXOnPlayer:a,offsetYOnPlayer:o,direction:n}=e;super(ServiceLocator.GetService("ImageLoader").GetImage("images/Skills/Upgrade/Rocket/Level3.png"),InfoRocketCannon.Level3.Meta.TileDimensions.Width,InfoRocketCannon.Level3.Meta.TileDimensions.Height,t,i,InfoRocketCannon.Level3.Meta.SpriteShiftPosition.X,InfoRocketCannon.Level3.Meta.SpriteShiftPosition.Y,CANVA_SCALEX,CANVA_SCALEY,InfoRocketCannon.Level3.Meta.RealDimension.Width,InfoRocketCannon.Level3.Meta.RealDimension.Height),this.offsetXOnSprite=a,this.offsetYOnSprite=o,this.direction=n,this.direction==="up"?this.CurrentHitbox=CreateHitboxesWithInfoFile(this.X,this.Y,[...InfoRocketCannon.Level3.Hitbox.Cannon1]):(this.offsetYOnSprite=o+InfoRocketCannon.Level3.Meta.RealDimension.Height,this.Y=-(i+this.offsetYOnSprite),this.CurrentHitbox=CreateHitboxesWithInfoFile(this.X,this.Y,[...InfoRocketCannon.Level3.Hitbox.Cannon2]));const{Idle:s,Destroyed:l}=InfoRocketCannon.Level3.Animations,{Destroyed:A}=InfoPlayer$2.Animations;this.AnimationsController.AddAnimation({animation:"idle",frames:s.Frames,framesLengthInTime:s.FrameLengthInTime}),this.AnimationsController.AddAnimation({animation:"destroyed",frames:l.Frames,framesLengthInTime:A.FrameLengthInTime}),this.Collide=new Map,this.Collide.set("WithProjectile",()=>{this.StatesController.PlayState({stateName:"onHit"})}),this.Collide.set("WithEnemy",()=>{const c=ServiceLocator.GetService("Player").InvulnerabilityTimePeriod;this.StatesController.PlayState({stateName:"onInvulnerable",duration:c})}),this.AnimationsController.PlayAnimation({animation:"idle"})}UpdateHitboxes(e){}Update(e){super.Update(e);const{x:t,y:i}=ServiceLocator.GetService("Player").Coordinate();this.X=t+this.offsetXOnSprite,this.Y=i+this.offsetYOnSprite,this.direction=="down"&&(this.Y=-this.Y)}Draw(e){this.direction=="up"?super.Draw(e):(e.save(),e.scale(1,-1),super.Draw(e),e.restore())}}class CannonConfiguration{constructor(e){this.cannonConfiguration=e}Update(e){var t;(t=this.cannonConfiguration)==null||t.forEach(i=>{i.Update(e)})}Draw(e){this.cannonConfiguration.forEach(t=>{t.Draw(e)})}PlayAnimation(e){this.cannonConfiguration.forEach(t=>{t.AnimationsController.PlayAnimation({animation:e})})}PlayCollisionMethod(e){const{collisionScenario:t}=e;this.cannonConfiguration.forEach(i=>{var a;(a=i.Collide.get(t))==null||a()})}get CurrentHitboxes(){const e=this.cannonConfiguration.reduce((t,i)=>(i.CurrentHitbox.forEach(a=>{t.push(a)}),t),[]);return e||[]}}class CannonConfigurationFactory{constructor(e){const{playerSpecialSkillName:t,playerSpecialSkillLevel:i,playerX:a,playerY:o}=e;this.playerSpecialSkillName=t,this.playerSpecialSkillLevel=i,this.playerX=a,this.playerY=o}GetConfig(){if(!this.playerSpecialSkillName||this.playerSpecialSkillLevel===0)return new CannonConfiguration([]);let e=[];return this.playerSpecialSkillName==="Rocket"?(e=this.getRocketCannonConfiguration(this.playerSpecialSkillLevel),new CannonConfiguration(e)):new CannonConfiguration([])}getRocketCannonConfiguration(e){const{Level1:t,Level2:i,Level3:a}=GetSpriteStaticInformation({sprite:"RocketCannonCosmetic"}).spriteInfo;if(e===1){const o=[],n=new RocketCannonLevel1({X:this.playerX,Y:this.playerY,offsetXOnPlayer:t.Meta.SpriteShiftPositionOnPlayer.Cannon1.X,offsetYOnPlayer:t.Meta.SpriteShiftPositionOnPlayer.Cannon1.Y});return o.push(n),o}else if(e==2){const o=[],n=new RocketCannonLevel2({X:this.playerX,Y:this.playerY,offsetXOnPlayer:i.Meta.SpriteShiftPositionOnPlayer.Cannon1.X,offsetYOnPlayer:i.Meta.SpriteShiftPositionOnPlayer.Cannon1.Y,direction:"up"}),s=new RocketCannonLevel2({X:this.playerX,Y:this.playerY,offsetXOnPlayer:i.Meta.SpriteShiftPositionOnPlayer.Cannon2.X,offsetYOnPlayer:i.Meta.SpriteShiftPositionOnPlayer.Cannon2.Y,direction:"down"});return o.push(n,s),o}else if(e==3){const o=[],n=new RocketCannonLevel3({X:this.playerX,Y:this.playerY,offsetXOnPlayer:a.Meta.SpriteShiftPositionOnPlayer.Cannon1.X,offsetYOnPlayer:a.Meta.SpriteShiftPositionOnPlayer.Cannon1.Y,direction:"up"}),s=new RocketCannonLevel3({X:this.playerX,Y:this.playerY,offsetXOnPlayer:a.Meta.SpriteShiftPositionOnPlayer.Cannon2.X,offsetYOnPlayer:a.Meta.SpriteShiftPositionOnPlayer.Cannon2.Y,direction:"down"});return o.push(n,s),o}return[]}}const InfoPlayer$1=GetSpriteStaticInformation({sprite:"Player"}).spriteInfo;class SupportCosmetic extends Sprite{constructor(e){const{X:t,Y:i,offsetXOnPlayer:a,offsetYOnPlayer:o}=e;super(ServiceLocator.GetService("ImageLoader").GetImage("images/Skills/Upgrade/SupportEvolution.png"),InfoPlayer$1.Meta.TileDimensions.Width,InfoPlayer$1.Meta.TileDimensions.Height,t,i,InfoPlayer$1.SupportCosmetic.Meta.SpriteShiftPosition.X,InfoPlayer$1.SupportCosmetic.Meta.SpriteShiftPosition.Y,CANVA_SCALEX,CANVA_SCALEY),this.offsetXOnPlayer=a,this.offsetYOnPlayer=o}Update(e){super.Update(e);const{x:t,y:i}=ServiceLocator.GetService("Player").Coordinate();this.X=t+this.offsetXOnPlayer,this.Y=i+this.offsetYOnPlayer}}class SupportConfiguration{constructor(e){this.supportConfiguration=e}Update(e){var t;(t=this.supportConfiguration)==null||t.forEach(i=>{i.Update(e)})}Draw(e){this.supportConfiguration.forEach(t=>{t.Draw(e)})}}class SupportConfigurationFactory{constructor(e){const{playerSupportSkillLevel:t,playerX:i,playerY:a}=e;this.playerSupportSkillLevel=t,this.playerX=i,this.playerY=a}GetConfig(){let e=[];return e=this.getSupportConfiguration(this.playerSupportSkillLevel),new SupportConfiguration(e)}getSupportConfiguration(e){const t=[],{Level1:i,Level2:a,Level3:o}=GetSpriteStaticInformation({sprite:"Player"}).spriteInfo.SupportCosmetic,n=[];return e==1?n.push(...i.SpriteShiftPositionOnPlayer):e==2?n.push(...a.SpriteShiftPositionOnPlayer):e==3&&n.push(...o.SpriteShiftPositionOnPlayer),n.forEach(s=>{const{X:l,Y:A}=s;t.push(new SupportCosmetic({X:this.playerX,Y:this.playerY,offsetXOnPlayer:l,offsetYOnPlayer:A}))}),t}}const InfoPlayer=GetSpriteStaticInformation({sprite:"Player"}).spriteInfo,PlayerStats=GetSpriteStaticInformation({sprite:"Player"}).stats;class Player extends Sprite{constructor(e,t=0,i=0){super(e,InfoPlayer.Meta.TileDimensions.Width,InfoPlayer.Meta.TileDimensions.Height,t,i,InfoPlayer.Meta.SpriteShiftPosition.X,InfoPlayer.Meta.SpriteShiftPosition.Y,CANVA_SCALEX,CANVA_SCALEY,InfoPlayer.Meta.RealDimension.Width,InfoPlayer.Meta.RealDimension.Height),ServiceLocator.AddService("Player",this),this.numberOfBoosts=0,this.baseSpeed=ServiceLocator.GetService("UtilManager").GetSpeedItTakesToCoverHalfTheScreenWidth({framesItTakes:PlayerStats[this.NumberOfBoosts]["Speed of the Player (Number Frames to HalfScreen Distance)"]}),this.BaseHealth=PlayerStats[this.NumberOfBoosts]["Base Health"],this.currentHealth=this.BaseHealth,this.moneyInWallet=1e4,this.specialSkillLevel=0,this.effectSkillLevel=0,this.supportSkillLevel=0,this.invulnerabilityTimePeriod=PlayerStats[this.NumberOfBoosts]["Invulnerability Time Period (Seconds)"],this.baseTimeBeforeNextShootInFrames=1,this.currentTimeBeforeNextRegularShoot=0,this.currentTimeBeforeNextSpecialShoot=0,this.currentSkill=new Map;const a=()=>{var s;(s=this.currentSkill.get("effect"))==null||s.Effect()};ServiceLocator.GetService("EventManager").Subscribe("enemy destroyed",a),this.playerFrameHitbox=CreateHitboxesWithInfoFile(this.X,this.Y,InfoPlayer.Hitbox),this.hitboxes=[...this.playerFrameHitbox];const{Idle:o,Destroyed:n}=InfoPlayer.Animations;this.AnimationsController.AddAnimation({animation:"idle",frames:o.Frames,framesLengthInTime:o.FrameLengthInTime}),this.AnimationsController.AddAnimation({animation:"destroyed",frames:n.Frames,framesLengthInTime:n.FrameLengthInTime,beforePlayingAnimation:()=>{this.removePlayerFromGameFlow(),ServiceLocator.GetService("EventManager").Unsubscribe("enemy destroyed",a)}}),this.Collide=new Map,this.Collide.set("WithProjectile",s=>{var A;this.StatesController.PlayState({stateName:"onHit"}),(A=this.cannonConfiguration)==null||A.PlayCollisionMethod({collisionScenario:"WithProjectile"});const l=s;this.CurrentHealth-=l.Damage}),this.Collide.set("WithEnemy",s=>{var l;this.StatesController.PlayState({stateName:"onInvulnerable",duration:this.invulnerabilityTimePeriod}),(l=this.cannonConfiguration)==null||l.PlayCollisionMethod({collisionScenario:"WithEnemy"}),this.CurrentHealth-=this.MaxHealth*.5}),this.AnimationsController.PlayAnimation({animation:"idle"})}UpdateHitboxes(e){this.CurrentHitbox.forEach(t=>{t.SpriteX=this.X,t.SpriteY=this.Y})}Update(e){var s,l,A,c,m,S;super.Update(e);let t=!1,i=!1,a=!1,o=!1;for(const h of this.CurrentHitbox)t=t||h.CheckIfBoxOverlap(this.getScreenLimit("left"),0,canvas.width,canvas.height),i=i||h.CheckIfBoxOverlap(0,this.getScreenLimit("top"),canvas.width,3/4*CANVA_SCALEX),a=a||h.CheckIfBoxOverlap(this.getScreenLimit("right"),0,canvas.width,canvas.height),o=o||h.CheckIfBoxOverlap(0,this.getScreenLimit("bottom"),canvas.width,canvas.height);const n=ServiceLocator.GetService("KeyboardManager");if(n.GetCommandState({command:"MoveLeft"}).IsDown&&(t?this.X=this.getResetPositionOnScreenLimit("left"):this.X-=this.BaseSpeed),n.GetCommandState({command:"MoveUp"}).IsDown&&(i?this.getResetPositionOnScreenLimit("top"):this.Y-=this.BaseSpeed),n.GetCommandState({command:"MoveRight"}).IsDown&&(a?this.X=this.getResetPositionOnScreenLimit("right"):this.X+=this.BaseSpeed),n.GetCommandState({command:"MoveDown"}).IsDown&&(o?this.Y=this.getResetPositionOnScreenLimit("bottom"):this.Y+=this.BaseSpeed),(s=this.cannonConfiguration)==null||s.Update(e),(l=this.effectConfiguration)==null||l.Update(e),(A=this.supportConfiguration)==null||A.Update(e),this.UpdateHitboxes(e),n.GetCommandState({command:"PlayerShoot"}).IsDown&&this.CanShootRegular){const h=new RegularPlayerBullet(this.X,this.Y);ServiceLocator.GetService("GeneratedSpritesManager").AddSprite(h)}else if(this.currentTimeBeforeNextRegularShoot>=0){const h=new RegularPlayerBullet(this.X,this.Y).AttackSpeed()*e;this.currentTimeBeforeNextRegularShoot-=h}if(n.GetCommandState({command:"PlayerShoot"}).IsDown&&this.CanShootSpecial)(c=this.currentSkill.get("special"))==null||c.Effect();else if(this.currentSkill.get("special")){const h=(S=(m=this.currentSkill.get("special"))==null?void 0:m.AttackSpeed)==null?void 0:S.call(m);this.currentTimeBeforeNextSpecialShoot>=0&&h&&(this.currentTimeBeforeNextSpecialShoot-=h*e)}}removePlayerFromGameFlow(){this.hitboxes=[]}Draw(e){var t,i,a;super.Draw(e),(t=this.cannonConfiguration)==null||t.Draw(e),(i=this.effectConfiguration)==null||i.Draw(e),(a=this.supportConfiguration)==null||a.Draw(e)}Coordinate(){return{x:this.X,y:this.Y}}PlayCollideMethod(e,t){const i=this.Collide.get(e);i&&i(t)}MakeTransactionOnWallet(e){this.moneyInWallet+=e,this.moneyInWallet=Math.round(this.moneyInWallet),this.moneyInWallet<0&&(this.moneyInWallet=0)}IsInvulnerable(){return this.StatesController.GetIfInTheStateOf({stateName:"onInvulnerable"})}SetSkill(e){const{skillType:t,skillName:i}=e;t==="effect"?this.effectSkillChosen=i:t==="special"?this.specialSkillChosen=i:t==="support"&&(this.supportSkillChosen=i)}setSpecialSkill(e){const{skill:t}=e;this.currentSkill.set("special",t);const i=new CannonConfigurationFactory({playerSpecialSkillName:this.SpecialSkillName,playerSpecialSkillLevel:this.SpecialSkillLevel,playerX:this.X,playerY:this.Y});this.cannonConfiguration=i.GetConfig(),this.hitboxes=[...this.playerFrameHitbox,...this.cannonConfiguration.CurrentHitboxes]}setEffectSkill(e){const{skill:t}=e;this.currentSkill.set("effect",t);const i=new EffectConfigurationFactory({playerEffectSkillLevel:this.EffectSkillLevel,playerX:this.X,playerY:this.Y});this.effectConfiguration=i.GetConfig()}setSupportSkill(e){var a;const{skill:t}=e;this.currentSkill.set("support",t),(a=this.currentSkill.get("support"))==null||a.Effect();const i=new SupportConfigurationFactory({playerSupportSkillLevel:this.SupportSkillLevel,playerX:this.X,playerY:this.Y});this.supportConfiguration=i.GetConfig()}UpdateSkill(){const e=new SkillFactory,t=e.GetSkill({skillName:this.specialSkillChosen,playerOldSkill:this.currentSkill.get("special")});this.setSpecialSkill({skill:t});const i=e.GetSkill({skillName:this.effectSkillChosen,playerOldSkill:this.currentSkill.get("effect")});this.setEffectSkill({skill:i});const a=e.GetSkill({skillName:this.supportSkillChosen,playerOldSkill:this.currentSkill.get("support")});this.setSupportSkill({skill:a})}GetSkillLevel(e){const{skillType:t}=e;return t==="special"?this.SpecialSkillLevel:t==="effect"?this.EffectSkillLevel:t==="support"?this.SupportSkillLevel:0}UpgradeSkillLevel(e){const{skillType:t}=e;t==="special"?this.specialSkillLevel++:t==="effect"?this.effectSkillLevel++:t==="support"&&this.supportSkillLevel++,this.UpdateSkill()}UpgradeBoost(){this.NumberOfBoosts++,this.updatePlayerStatsOnBoost()}GetIsMaxNumberBoostAttained(){return this.NumberOfBoosts>=GetSpriteStaticInformation({sprite:"PlayerBoost"}).constant["Max Number of Boosts"]}get CurrentHitbox(){return this.hitboxes}get BaseSpeed(){const e=ServiceLocator.GetService("KeyboardManager"),t=e.GetCommandState({command:"MoveLeft"}).IsDown,i=e.GetCommandState({command:"MoveRight"}).IsDown,a=e.GetCommandState({command:"MoveUp"}).IsDown,o=e.GetCommandState({command:"MoveDown"}).IsDown;return(t||i)&&(a||o)?this.baseSpeed/Math.sqrt(2):this.baseSpeed}set BaseSpeed(e){this.baseSpeed=e}get MoneyInWallet(){return this.moneyInWallet}get NumberOfBoosts(){const e=GetSpriteStaticInformation({sprite:"PlayerBoost"}).constant["Max Number of Boosts"];return this.numberOfBoosts>e?e:this.numberOfBoosts<0?0:this.numberOfBoosts}set NumberOfBoosts(e){this.numberOfBoosts=e,this.updatePlayerStatsOnBoost()}updatePlayerStatsOnBoost(){const e=this.NumberOfBoosts;this.BaseHealth=PlayerStats[e]["Base Health"],this.CurrentHealth=this.BaseHealth,this.BaseSpeed=ServiceLocator.GetService("UtilManager").GetSpeedItTakesToCoverHalfTheScreenWidth({framesItTakes:PlayerStats[e]["Speed of the Player (Number Frames to HalfScreen Distance)"]}),this.invulnerabilityTimePeriod=PlayerStats[e]["Invulnerability Time Period (Seconds)"]}getScreenLimit(e){const t=canvas.width,i=-(t-1),a=t-1,o=15*CANVA_SCALEX+3/4*CANVA_SCALEX/6,n=(155-1*CANVA_SCALEX/2)*CANVA_SCALEY;switch(e){case"left":return i;case"right":return a;case"top":return o;case"bottom":return n;default:return 0}}getResetPositionOnScreenLimit(e){let t=15*CANVA_SCALEX+.75*CANVA_SCALEX,i=canvas.width-this.Width,a=(155-1*CANVA_SCALEX/4)*CANVA_SCALEY-this.Height,o=0;switch(e){case"left":return o;case"right":return i;case"top":return t;case"bottom":return a;default:return 0}}get MaxHealth(){return this.BaseHealth}get CurrentHealth(){return this.currentHealth}set CurrentHealth(e){e>=this.MaxHealth?this.currentHealth=this.MaxHealth:this.currentHealth=e,this.currentHealth<=0&&(this.currentHealth=0,this.AnimationsController.PlayAnimation({animation:"destroyed"}),ServiceLocator.GetService("SceneManager").PlayMainScene("GameOver"))}get CanShootRegular(){return this.currentTimeBeforeNextRegularShoot<=0?(this.currentTimeBeforeNextRegularShoot=this.baseTimeBeforeNextShootInFrames,!0):!1}get CanShootSpecial(){return this.currentTimeBeforeNextSpecialShoot<=0?(this.currentTimeBeforeNextSpecialShoot=this.baseTimeBeforeNextShootInFrames,!0):!1}get SpecialSkillLevel(){return this.specialSkillLevel>3?3:this.specialSkillLevel}get SpecialSkillName(){var e;return(e=this.currentSkill.get("special"))==null?void 0:e.SkillName}get EffectSkillLevel(){return this.effectSkillLevel>3?3:this.effectSkillLevel}get EffectSkillName(){var e;return(e=this.currentSkill.get("effect"))==null?void 0:e.SkillName}get SupportSkillLevel(){return this.supportSkillLevel>3?3:this.supportSkillLevel}get SupportSkillName(){var e;return(e=this.currentSkill.get("support"))==null?void 0:e.SkillName}get InvulnerabilityTimePeriod(){return this.invulnerabilityTimePeriod}}let player;function LoadPlayer(){const r=ServiceLocator.GetService("ImageLoader").GetImage("images/Player/Player.png"),e=60*CANVA_SCALEX,t=60*CANVA_SCALEY;player=new Player(r,e,t)}function UpdatePlayer(r){player.Update(r)}function DrawPlayer(r){player.Draw(r)}class EnemyBullet extends Sprite{constructor(e,t){super(ServiceLocator.GetService("ImageLoader").GetImage("images/Enemies/EnemiesBullet.png"),8,8,e,t,-3*CANVA_SCALEX,-3*CANVA_SCALEY,CANVA_SCALEX,CANVA_SCALEY),this.Generator="enemy",this.Category="projectile",this.AnimationsController.AddAnimation({animation:"idle",frames:[0],framesLengthInTime:1}),this.AnimationsController.AddAnimation({animation:"destroyed",frames:[0,1,2,3,4],framesLengthInTime:.03,beforePlayingAnimation:()=>{this.CurrentHitbox=RectangleHitbox.NoHitbox},afterPlayingAnimation:()=>{ServiceLocator.GetService("GeneratedSpritesManager").RemoveSprite(this)}}),this.AnimationsController.PlayAnimation({animation:"idle"}),this.BaseSpeed=3,this.Damage=3,this.XSpeed=Math.cos(this.TargetAngle)*this.BaseSpeed,this.YSpeed=Math.sin(this.TargetAngle)*this.BaseSpeed,this.CurrentHitbox=CreateHitboxes(this.X,this.Y,[{offsetX:0,offsetY:0,width:2*CANVA_SCALEX,height:2*CANVA_SCALEY}]),this.Collide=new Map,this.Collide.set("WithPlayer",()=>{this.AnimationsController.PlayAnimation({animation:"destroyed"})}),this.Collide.set("WithNonProjectile",()=>{this.AnimationsController.PlayAnimation({animation:"destroyed"})})}UpdateHitboxes(e){this.CurrentHitbox.forEach(t=>{t.SpriteX=this.X,t.SpriteY=this.Y})}Update(e){super.Update(e),this.X-=this.XSpeed,this.Y-=this.YSpeed,this.UpdateHitboxes(e),(this.X>canvas.width||this.X<0||this.Y>canvas.height||this.Y<0)&&ServiceLocator.GetService("GeneratedSpritesManager").RemoveSprite(this),this.AnimationsController.CurrentAnimationName!=="destroyed"&&ServiceLocator.GetService("CollideManager").HandleWhenEnemyProjectileCollideWithPlayer(this)}get TargetAngle(){const{x:e,y:t}=ServiceLocator.GetService("Player").Coordinate(),i=this.X-e,a=this.Y-t;return Math.atan2(a,i)}}class SpriteDamageResistancesController{constructor(){this.damageResistances=new Map}AddDamageResistance(e){const{resistanceType:t,resistanceStat:i}=e,a=this.damageResistances.get(t);a?a.push(i):this.damageResistances.set(t,[i])}RemoveDamageResistance(e){const{resistanceType:t,resistanceStat:i}=e,a=this.damageResistances.get(t);if(a){const o=a.indexOf(i);o>-1&&a.splice(o,1)}}GetDamageResistance(e){const{resistanceType:t}=e,i=this.damageResistances.get(t);return i?i.reduce((a,o)=>a+o,0):0}}class BigDiamondEnemy extends Sprite{constructor(e=0,t=0,i){const a=ServiceLocator.GetService("ImageLoader").GetImage("images/Enemies/Diamond/BigDiamond/BigDiamond.png"),o=32,n=32,s=CANVA_SCALEX,l=CANVA_SCALEY;super(a,o,n,e,t,-8*CANVA_SCALEX,-9*CANVA_SCALEY,s,l),this.moneyValue=20,this.HorizontalShootingPosition=i,this.BaseSpeed=350,this.BaseAttackSpeed=2,this.DamageResistancesController=new SpriteDamageResistancesController,this.CurrentHitbox=CreateHitboxes(this.X,this.Y,[{offsetX:0,offsetY:4*CANVA_SCALEY,width:5*CANVA_SCALEX,height:6*CANVA_SCALEY},{offsetX:5*CANVA_SCALEX,offsetY:2*CANVA_SCALEY,width:1*CANVA_SCALEX,height:10*CANVA_SCALEY},{offsetX:6*CANVA_SCALEX,offsetY:0,width:4*CANVA_SCALEX,height:14*CANVA_SCALEY},{offsetX:10*CANVA_SCALEX,offsetY:2*CANVA_SCALEY,width:1*CANVA_SCALEX,height:10*CANVA_SCALEY},{offsetX:11*CANVA_SCALEX,offsetY:4*CANVA_SCALEY,width:1*CANVA_SCALEX,height:6*CANVA_SCALEY}]),this.AnimationsController.AddAnimation({animation:"idle",frames:[0],framesLengthInTime:1}),this.AnimationsController.AddAnimation({animation:"damaged",frames:[4],framesLengthInTime:1}),this.AnimationsController.AddAnimation({animation:"shooting",frames:[1,2,3],framesLengthInTime:3/this.AttackSpeed,afterPlayingAnimation:()=>{const A=new EnemyBullet(this.X-2*CANVA_SCALEX,this.Y+6*CANVA_SCALEY);ServiceLocator.GetService("GeneratedSpritesManager").AddSprite(A)}}),this.AnimationsController.AddAnimation({animation:"destroyed",frames:[5,6,7,8,9,10,11],framesLengthInTime:.05,beforePlayingAnimation:()=>{this.removeEnemyFromGameFlow(),ServiceLocator.GetService("EventManager").Notify("enemy destroyed",()=>{ServiceLocator.GetService("WaveManager").SetLastEnemyDestroyed(this)}),ServiceLocator.GetService("Player").MakeTransactionOnWallet(this.MoneyValue)},afterPlayingAnimation:()=>{ServiceLocator.GetService("WaveManager").RemoveEnemy(this)}}),this.Collide=new Map,this.Collide.set("WithProjectile",A=>{this.StatesController.PlayState({stateName:"onHit"}),this.AnimationsController.PlayAnimation({animation:"destroyed"})}),this.Collide.set("WithPlayer",()=>{this.AnimationsController.PlayAnimation({animation:"destroyed"}),ServiceLocator.GetService("Player").MakeTransactionOnWallet(this.MoneyValue)}),this.AnimationsController.PlayAnimation({animation:"idle",loop:!0})}UpdateHitboxes(e){this.CurrentHitbox.forEach(t=>{t.SpriteX=this.X,t.SpriteY=this.Y})}Update(e){if(super.Update(e),this.X>=this.HorizontalShootingPosition){this.X-=this.BaseSpeed*e;return}if(this.UpdateHitboxes(e),this.X<-this.Width){ServiceLocator.GetService("WaveManager").RemoveEnemy(this);return}this.AnimationsController.CurrentAnimationName!=="destroyed"&&(this.AnimationsController.PlayAnimation({animation:"shooting",loop:!0}),ServiceLocator.GetService("CollideManager").HandleWhenEnemyCollideWithPlayer(this))}get AttackSpeed(){return this.BaseAttackSpeed}removeEnemyFromGameFlow(){this.CurrentHitbox=[]}get MoneyValue(){return this.moneyValue}set MoneyValue(e){this.moneyValue=e}}const FuelChargeShotLaserConstant=GetSpriteStaticInformation({sprite:"FuelChargeShot"}).constant.FuelChargeShotLaser,I=class I{constructor(){this.listEnemiesState=new Map}Update(e){this.listEnemiesState.forEach((t,i)=>{t.forEach((a,o)=>{a.forEach(n=>{if(n.effect){const{isFinished:s}=n.effect(e);s&&this.RemoveState({target:i,effect:n,effectType:o})}})})})}AddState(e){const{target:t,effect:i,effectType:a}=e,o=this.listEnemiesState.get(t);if(o){const n=o.get(a);if(n){const s=I.damageEffectsMaximumStack.get(a);i.effect&&n.push(i),s&&n.length>s&&this.RemoveState({target:t,effect:n[0],effectType:a})}else o.set(a,[i])}else this.listEnemiesState.set(t,new Map([[a,[i]]]))}RemoveState(e){var n,s;const{target:t,effect:i,effectType:a}=e,o=this.listEnemiesState.get(t);if(o){const l=(n=o.get(a))==null?void 0:n.indexOf(i);if(l!==void 0&&l>-1){const A=(s=o.get(a))==null?void 0:s.splice(l,1);A&&A[0].clearStateMethod&&A[0].clearStateMethod()}}}RemoveEnemyStateTracker(e){const{enemy:t}=e;this.listEnemiesState.delete(t)}};I.damageEffectsMaximumStack=new Map([["Corrosive",2],["FuelChargeShotLaserLevel1",FuelChargeShotLaserConstant[0]["Maximum Number of Stack Effect"]],["FuelChargeShotLaserLevel2",FuelChargeShotLaserConstant[1]["Maximum Number of Stack Effect"]],["FuelChargeShotLaserLevel3",FuelChargeShotLaserConstant[2]["Maximum Number of Stack Effect"]]]);let WaveEnemiesDamageStateTracker=I;class WaveEnemies{constructor(e){this.numberSpawns=8,this.maxNumberEnemies=40,e>this.maxNumberEnemies&&(e=this.maxNumberEnemies),this.listEnemies=new Map,this.createWave(e),this.waveEnemiesStateTracker=new WaveEnemiesDamageStateTracker}createWave(e){const i=(canvas.height-this.numberSpawns*60)/2;let a=0,o=canvas.width,n=0;const s=canvas.width*(30/100),A=Math.floor(s/5);let c=canvas.width-s;for(;a<e;){for(let m=0;m<this.numberSpawns&&(a++,this.AddEnemy(this.generateEnemy(o,i+n%(this.numberSpawns*60),c)),n+=60,!(a>=e));m++);c+=A,o+=A,n=0}}generateEnemy(e,t,i){return new BigDiamondEnemy(e,t,i)}AddEnemy(e){this.listEnemies.set(e,e)}RemoveEnemy(e){this.listEnemies.delete(e),this.waveEnemiesStateTracker.RemoveEnemyStateTracker({enemy:e})}Update(e){this.listEnemies.forEach(t=>{t.Update(e)}),this.waveEnemiesStateTracker.Update(e)}Draw(e){this.listEnemies.forEach(t=>{t.Draw(e)})}get HasNoEnemyLeft(){return this.listEnemies.size===0}get ListEnemies(){return this.listEnemies}get RandomEnemy(){const{GetRandomObjectFromMap:e}=ServiceLocator.GetService("UtilManager");return e({theMap:this.listEnemies})}AddEnemyDamageState(e){this.waveEnemiesStateTracker.AddState(e)}RemoveEnemyDamageState(e){this.waveEnemiesStateTracker.RemoveState(e)}GetEnemyAnimation(e){var i;const{target:t}=e;return(i=this.listEnemies.get(t))==null?void 0:i.AnimationsController.CurrentAnimationName}PlayEnemyAnimation(e){var a;const{target:t,animationName:i}=e;(a=this.listEnemies.get(t))==null||a.AnimationsController.PlayAnimation({animation:i})}ParalyzeEnemy(e){const{target:t}=e;t.AnimationsController.PlayParalyzedAnimation()}RemoveParalyzeEnemy(e){const{target:t}=e;t.AnimationsController.StopParalyzedAnimation()}}class WaveManager{constructor(){this.round=1,this.listWaves=this.createWaves(),this.currentWave=this.listWaves.shift(),this.lastEnemyDestroyed=void 0,ServiceLocator.AddService("WaveManager",this)}Update(e){if(this.currentWave===void 0){this.Round+=1,this.listWaves=this.createWaves(),this.currentWave=this.listWaves.shift();return}this.currentWave.Update(e),this.currentWave.HasNoEnemyLeft&&(this.currentWave=this.listWaves.shift())}Draw(e){const{currentWave:t}=this;t!==void 0&&t.Draw(e)}RemoveEnemy(e){this.currentWave&&this.currentWave.RemoveEnemy(e)}get Round(){return this.round}set Round(e){this.round=e}createWaves(){const e=[{minNumberWaves:1,maxNumberWaves:3,minNumberEnemies:12,maxNumberEnemies:20},{minNumberWaves:3,maxNumberWaves:6,minNumberEnemies:15,maxNumberEnemies:25},{minNumberWaves:5,maxNumberWaves:8,minNumberEnemies:20,maxNumberEnemies:28},{minNumberWaves:6,maxNumberWaves:7,minNumberEnemies:25,maxNumberEnemies:32},{minNumberWaves:7,maxNumberWaves:8,minNumberEnemies:31,maxNumberEnemies:35},{minNumberWaves:9,maxNumberWaves:10,minNumberEnemies:40,maxNumberEnemies:40}];let t=0,a=Math.floor(this.round/10);a>e.length-1&&(a=e.length-1);const{minNumberWaves:o,maxNumberWaves:n}=e[a];t=Math.round(Math.random()*(n-o))+o;const s=[];for(let l=0;l<t;l++){const{minNumberEnemies:A,maxNumberEnemies:c}=e[a],m=Math.round((c-A)*Math.random())+A;s.push(new WaveEnemies(m))}return s}GetListEnemies(){return this.currentWave?this.currentWave.ListEnemies:new Map}SetLastEnemyDestroyed(e){this.lastEnemyDestroyed=e}GetLastEnemyCenterCoordinate(){var e,t;return this.lastEnemyDestroyed?{x:(e=this.lastEnemyDestroyed)==null?void 0:e.FrameXCenter,y:(t=this.lastEnemyDestroyed)==null?void 0:t.FrameYCenter}:{x:0,y:0}}GetARandomEnemy(){var e;return(e=this.currentWave)==null?void 0:e.RandomEnemy}GetIfListHasNoEnemyLeft(){var e;return this.currentWave?(e=this.currentWave)==null?void 0:e.HasNoEnemyLeft:!0}AddEnemyDamageState(e){var t;(t=this.currentWave)==null||t.AddEnemyDamageState(e)}RemoveEnemyDamageState(e){var t;(t=this.currentWave)==null||t.RemoveEnemyDamageState(e)}GetEnemyAnimation(e){var t;return(t=this.currentWave)==null?void 0:t.GetEnemyAnimation(e)}PlayEnemyAnimation(e){var t;(t=this.currentWave)==null||t.PlayEnemyAnimation(e)}ParalyzeEnemy(e){var t;(t=this.currentWave)==null||t.ParalyzeEnemy(e)}StopParalyzeEnemy(e){var t;(t=this.currentWave)==null||t.RemoveParalyzeEnemy(e)}testQuantity(){console.log("Wave Manager size: ",this.listWaves.length)}}let waveManager;function LoadWaveManager(){waveManager=new WaveManager}function UpdateWaveManager(r){waveManager.Update(r)}function DrawWaveManager(r){waveManager.Draw(r)}const M=class M{static get X(){return this.x}static set X(e){this.x=e}static get Y(){return this.y}static set Y(e){this.y=e}static get IsPressed(){return this.isPressed?(this.isPressed=!1,!0):this.isPressed}static set IsPressed(e){this.isPressed=e}};M.x=0,M.y=0,M.isPressed=!1;let Mouse=M;canvas.addEventListener("mousemove",r=>{const{clientX:e,clientY:t}=r;Mouse.X=e-canvas.offsetLeft,Mouse.Y=t-canvas.offsetTop,Mouse.IsPressed=!1});canvas.addEventListener("mouseup",r=>{r.button===0&&(Mouse.IsPressed=!1)});canvas.addEventListener("mousedown",r=>{r.button===0&&(Mouse.IsPressed=!0)});class BaseField{constructor(e,t,i,a,o=!1,n){this.LineWidth=3/4*CANVA_SCALEX,this.HasBorderOnAllSide=!0,this.X=e,this.Y=t,this.Width=i,this.Height=a,this.HasHover=o,this.onClick=n,this.isVisible=!0,this.isActive=!1,this.isDisabled=!1}get IsHovered(){const e=Mouse.X>=this.X&&Mouse.X<=this.X+this.Width,t=Mouse.Y>=this.Y&&Mouse.Y<=this.Y+this.Height;return!!(e&&t)}Update(e){this.IsHovered&&this.onClick&&Mouse.IsPressed&&this.onClick()}Draw(e){e.lineWidth=this.LineWidth,e.fillStyle="black",this.HasBorderOnAllSide?e.strokeRect(this.X,this.Y,this.Width,this.Height):(e.beginPath(),this.HasTopBorder&&(e.moveTo(this.X,this.Y),e.lineTo(this.X+this.Width,this.Y),e.stroke()),this.HasRightBorder&&(e.moveTo(this.X+this.Width,this.Y),e.lineTo(this.X+this.Width,this.Y+this.Height),e.stroke()),this.HasBottomBorder&&(e.moveTo(this.X,this.Y+this.Height),e.lineTo(this.X+this.Width,this.Y+this.Height),e.stroke()),this.HasLeftBorder&&(e.moveTo(this.X,this.Y),e.lineTo(this.X,this.Y+this.Height),e.stroke())),this.IsHovered&&this.HasHover||this.HasHover&&this.GetActive()?(e.strokeStyle="#B09F9E",e.strokeRect(this.X,this.Y,this.Width,this.Height)):e.strokeStyle="black",this.isDisabled&&(e.fillStyle="rgba(0, 0, 0, 0.4)",e.fillRect(this.X,this.Y,this.Width,this.Height))}SetVisibility(e){this.isVisible=e}GetVisibility(){return this.isVisible}SetActive(e){this.isActive=e}GetActive(){return this.isActive}SetDisabled(e){this.isDisabled=e}GetDisabled(){return this.isDisabled}GetWidth(){return this.Width}GetHeight(){return this.Height}GetX(){return this.X}GetY(){return this.Y}}class FieldWithText extends BaseField{constructor(e){const{x:t,y:i,width:a,height:o,text:n,fontSize:s,fontFamily:l,HasHovered:A,onClick:c,leftAlign:m}=e;super(t,i,a,o,A,c),this.text=n,this.fontSize=s||8*CANVA_SCALEX,this.fontFamily=l||"serif",this.leftAlign=m||!1}Draw(e){super.Draw(e),this.IsHovered&&this.HasHover?(e.fillStyle="black",e.fillRect(this.X,this.Y,this.Width,this.Height),e.fillStyle="white"):e.fillStyle="black";const t=this.fontSize;e.font=`${t}px ${this.fontFamily}`;const i=e.measureText(this.text),a=i.width,o=i.actualBoundingBoxAscent-i.actualBoundingBoxDescent;if(this.leftAlign){const n=this.wrapTextInContainer({ctx:e}),s=this.fontSize*1.5;n.forEach((l,A)=>{e.fillText(l,this.X,this.Y+o+A*s)})}else e.fillText(this.text,this.X+(this.Width-a)/2,this.Y+this.Height/2+o/2)}wrapTextInContainer(e){const t=this.text.split(" ");let i="",a=[];a.push(i);for(const o of t){let n=a[a.length-1]+" "+o;n=n.trim(),e.ctx.measureText(n).width<this.Width?a[a.length-1]=n:(i=o,a.push(i))}return a}SetText(e){this.text=e}}const V=class V{constructor(){this.components=[]}AddComponent(e){this.components.push(e)}AddComponents(e){this.components.push(...e)}RemoveComponent(e){const t=this.components.indexOf(e);t>-1&&this.components.splice(t,1)}RemoveComponents(e){e.forEach(t=>{const i=this.components.indexOf(t);i>-1&&this.components.splice(i,1)})}ShowComponents(e){e.forEach(t=>{t.SetVisibility(!0)})}HideComponents(e){e.forEach(t=>{t.SetVisibility(!1)})}Update(e){this.components.forEach(t=>{t.GetVisibility()&&t.Update(e)})}Draw(e){this.components.forEach(t=>{t.GetVisibility()&&(e.save(),t.Draw(e),e.restore())})}};V.Typography={title:{fontSize:9*CANVA_SCALEX,fontFamily:"pixel"},button:{fontSize:6*CANVA_SCALEX,fontFamily:"pixel"},description:{fontSize:3.2*CANVA_SCALEX,fontFamily:"pixel"},InGameUI:{fontSize:12*CANVA_SCALEX,fontFamily:"pixel"}};let UIManager=V;class MainMenuScene{Load(){LoadEventManager(),LoadGeneratedSpritesManager(),LoadWaveManager(),LoadGameStatManager(),LoadPlayer(),this.loadUI()}Update(e){this.mainMenuUiManager.Update(e)}Draw(e){this.mainMenuUiManager.Draw(e)}Unload(){}loadUI(){this.mainMenuUiManager=new UIManager;const e=ServiceLocator.GetService("SceneManager"),t=136*CANVA_SCALEX,i=9*CANVA_SCALEY,a=92*CANVA_SCALEX,o=18*CANVA_SCALEY,n=new FieldWithText({x:a,y:o,width:t,height:i,text:"WEB SHOOT'EM UP",fontSize:UIManager.Typography.title.fontSize,fontFamily:UIManager.Typography.title.fontFamily});n.HasBorderOnAllSide=!1,n.HasBottomBorder=!0,this.mainMenuUiManager.AddComponent(n);const s=41*CANVA_SCALEX,l=11*CANVA_SCALEY,A=139*CANVA_SCALEX,c=84*CANVA_SCALEY,m=new FieldWithText({x:A,y:c,width:s,height:l,text:"PLAY",fontSize:UIManager.Typography.button.fontSize,fontFamily:UIManager.Typography.button.fontFamily,HasHovered:!0,onClick:()=>{e.PlayMainScene("SelectSkill")}});this.mainMenuUiManager.AddComponent(m)}}class StaticImage extends Sprite{constructor(e){const{image:t,x:i,y:a,frameWidth:o,frameHeight:n,spriteXOffset:s,spriteYOffset:l,realWidth:A,realHeight:c,spriteOffsetInContainerX:m,spriteOffsetInContainerY:S,scaleX:h=CANVA_SCALEX,scaleY:f=CANVA_SCALEY}=e;super(t,o,n,i,a,s,l,h,f,A,c),this.X+=m,this.Y+=S}}class FieldSkillImage extends BaseField{constructor(e){const{x:t,y:i,HasHover:a=!0,imagePath:o,onClick:n,spriteXOffset:s,spriteYOffset:l,frameWidth:A,frameHeight:c,realWidth:m,realHeight:S}=e;super(t,i,22*CANVA_SCALEX,20*CANVA_SCALEY,a,n),this.image=new StaticImage({image:ServiceLocator.GetService("ImageLoader").GetImage(o),x:t,y:i,frameWidth:A,frameHeight:c,spriteXOffset:s,spriteYOffset:l,realWidth:m,realHeight:S,spriteOffsetInContainerX:this.Width/2-(m||A)/2,spriteOffsetInContainerY:this.Height/2-(S||c)/2})}Draw(e){super.Draw(e),this.image.Draw(e)}}class BoostField extends BaseField{constructor(e){const{x:t,y:i,HasHover:a=!0,onClick:o}=e;super(t,i,22*CANVA_SCALEX,20*CANVA_SCALEY,a,o),this.boostWidth=4*CANVA_SCALEX,this.boostHeight=4*CANVA_SCALEY}Draw(e){super.Draw(e),e.fillStyle="black",e.fillRect(this.X+this.Width/2-this.boostWidth/2,this.Y+this.Height/2-this.boostHeight/2,this.boostWidth,this.boostHeight)}}class FieldDamageEffectType extends BaseField{constructor(e){const{x:t,y:i,imagePath:a}=e,o=Math.floor(CANVA_SCALEX/2),n=Math.floor(CANVA_SCALEY/2);super(t,i,8*o,8*n);const s=8*o,l=8*n;this.image=new StaticImage({image:ServiceLocator.GetService("ImageLoader").GetImage(a),x:t,y:i,frameWidth:8,frameHeight:8,spriteXOffset:0,spriteYOffset:0,realWidth:s,realHeight:l,spriteOffsetInContainerX:this.Width/2-s/2,spriteOffsetInContainerY:this.Height/2-l/2,scaleX:o,scaleY:n}),this.HasBorderOnAllSide=!1}Draw(e){super.Draw(e),this.image.Draw(e)}}class FieldDamageEffectTypeWithText{constructor(e){const{x:t,y:i,imagePath:a,effectRank:o}=e,n=o==="primaryEffect"?"Primary Effect:":"Secondary Effect:",s=o==="primaryEffect"?48*CANVA_SCALEX:56*CANVA_SCALEX;this.text=new FieldWithText({x:t,y:i,width:s,height:4*CANVA_SCALEY,text:n,fontSize:UIManager.Typography.description.fontSize,fontFamily:UIManager.Typography.description.fontFamily,leftAlign:!0}),this.text.HasBorderOnAllSide=!1,this.image=new FieldDamageEffectType({imagePath:a,x:t+s,y:i-.5*CANVA_SCALEY})}GetVisibility(){return this.image.GetVisibility()&&this.text.GetVisibility()}SetVisibility(e){this.image.SetVisibility(e),this.text.SetVisibility(e)}SetActive(e){this.image.SetActive(e),this.text.SetActive(e)}Update(e){this.image.Update(e),this.text.Update(e)}Draw(e){this.image.Draw(e),this.text.Draw(e)}}class FieldSkillImageAndText{constructor(e){const{x:t,y:i,HasHover:a,imagePath:o,spriteXOffset:n,spriteYOffset:s,frameWidth:l,frameHeight:A,realWidth:c,realHeight:m,onClick:S,text:h}=e;this.image=new FieldSkillImage({x:t,y:i,HasHover:a,imagePath:o,spriteXOffset:n,spriteYOffset:s,frameWidth:l,frameHeight:A,realWidth:c,realHeight:m,onClick:S}),this.text=new FieldWithText({x:this.image.GetX()+28*CANVA_SCALEX,y:i,width:66*CANVA_SCALEX,height:this.image.GetHeight(),text:h,fontSize:UIManager.Typography.description.fontSize,fontFamily:UIManager.Typography.description.fontFamily,leftAlign:!0}),this.text.HasBorderOnAllSide=!1}GetVisibility(){return this.image.GetVisibility()&&this.text.GetVisibility()}SetVisibility(e){this.image.SetVisibility(e),this.text.SetVisibility(e)}SetActive(e){this.image.SetActive(e),this.text.SetActive(e)}Update(e){this.image.Update(e),this.text.Update(e)}Draw(e){this.image.Draw(e),this.text.Draw(e)}}class FieldSkillFactory{constructor(){const e=GetSpriteStaticInformation({sprite:"Rocket"}).spriteInfo,t=GetSpriteStaticInformation({sprite:"Rocket"}).constant,i=GetSpriteStaticInformation({sprite:"Blade"}).spriteInfo,a=GetSpriteStaticInformation({sprite:"Blade"}).constant,o=GetSpriteStaticInformation({sprite:"Mirror"}).spriteInfo,n=GetSpriteStaticInformation({sprite:"Mirror"}).constant,s=GetSpriteStaticInformation({sprite:"FuelChargeShot"}).spriteInfo,l=GetSpriteStaticInformation({sprite:"FuelChargeShot"}).constant;this.skillMetadata={Rocket:{1:{imagePath:"images/Skills/Rocket/RocketLevel1.png",spriteXOffset:e.SelectSkill.Level1.Meta.SpriteShiftPosition.X,spriteYOffset:e.SelectSkill.Level1.Meta.SpriteShiftPosition.Y,frameWidth:e.SelectSkill.Level1.Meta.TileDimensions.Width,frameHeight:e.SelectSkill.Level1.Meta.TileDimensions.Height,realWidth:e.SelectSkill.Level1.Meta.RealDimension.Width,realHeight:e.SelectSkill.Level1.Meta.RealDimension.Height,description:e.SelectSkill.Level1.Meta.Description,moreDescription:e.SelectSkill.Level1.Meta.MoreDescription,price:t[0]["Skill Price"],primaryEffect:t[0]["Primary Skill"],secondaryEffect:t[0]["Secondary Skill"]},2:{imagePath:"images/Skills/Rocket/RocketLevel2.png",spriteXOffset:e.SelectSkill.Level2.Meta.SpriteShiftPosition.X,spriteYOffset:e.SelectSkill.Level2.Meta.SpriteShiftPosition.Y,frameWidth:e.SelectSkill.Level2.Meta.TileDimensions.Width,frameHeight:e.SelectSkill.Level2.Meta.TileDimensions.Height,realWidth:e.SelectSkill.Level2.Meta.RealDimension.Width,realHeight:e.SelectSkill.Level2.Meta.RealDimension.Height,description:e.SelectSkill.Level2.Meta.Description,moreDescription:e.SelectSkill.Level2.Meta.MoreDescription,price:t[1]["Skill Price"],primaryEffect:t[1]["Primary Skill"],secondaryEffect:t[1]["Secondary Skill"]},3:{imagePath:"images/Skills/Rocket/RocketLevel3.png",spriteXOffset:e.SelectSkill.Level3.Meta.SpriteShiftPosition.X,spriteYOffset:e.SelectSkill.Level3.Meta.SpriteShiftPosition.Y,frameWidth:e.SelectSkill.Level3.Meta.TileDimensions.Width,frameHeight:e.SelectSkill.Level3.Meta.TileDimensions.Height,realWidth:e.SelectSkill.Level3.Meta.RealDimension.Width,realHeight:e.SelectSkill.Level3.Meta.RealDimension.Height,description:e.SelectSkill.Level3.Meta.Description,moreDescription:e.SelectSkill.Level3.Meta.MoreDescription,price:t[2]["Skill Price"],primaryEffect:t[2]["Primary Skill"],secondaryEffect:t[2]["Secondary Skill"]}},Blade:{1:{imagePath:"images/Skills/Blade/Blade-Level1.png",spriteXOffset:i.SelectSkill.Level1.Meta.SpriteShiftPosition.X,spriteYOffset:i.SelectSkill.Level1.Meta.SpriteShiftPosition.Y,frameWidth:i.SelectSkill.Level1.Meta.TileDimensions.Width,frameHeight:i.SelectSkill.Level1.Meta.TileDimensions.Height,realWidth:i.SelectSkill.Level1.Meta.RealDimension.Width,realHeight:i.SelectSkill.Level1.Meta.RealDimension.Height,description:i.SelectSkill.Level1.Meta.Description,moreDescription:i.SelectSkill.Level1.Meta.MoreDescription,price:a[0]["Skill Price"],primaryEffect:a[0]["Primary Skill"],secondaryEffect:a[0]["Secondary Skill"]},2:{imagePath:"images/Skills/Blade/Blade-Level2.png",spriteXOffset:i.SelectSkill.Level2.Meta.SpriteShiftPosition.X,spriteYOffset:i.SelectSkill.Level2.Meta.SpriteShiftPosition.Y,frameWidth:i.SelectSkill.Level2.Meta.TileDimensions.Width,frameHeight:i.SelectSkill.Level2.Meta.TileDimensions.Height,realWidth:i.SelectSkill.Level2.Meta.RealDimension.Width,realHeight:i.SelectSkill.Level2.Meta.RealDimension.Height,description:i.SelectSkill.Level2.Meta.Description,moreDescription:i.SelectSkill.Level2.Meta.MoreDescription,price:a[1]["Skill Price"],primaryEffect:a[1]["Primary Skill"],secondaryEffect:a[1]["Secondary Skill"]},3:{imagePath:"images/Skills/Blade/Blade-Level3.png",spriteXOffset:i.SelectSkill.Level3.Meta.SpriteShiftPosition.X,spriteYOffset:i.SelectSkill.Level3.Meta.SpriteShiftPosition.Y,frameWidth:i.SelectSkill.Level3.Meta.TileDimensions.Width,frameHeight:i.SelectSkill.Level3.Meta.TileDimensions.Height,realWidth:i.SelectSkill.Level3.Meta.RealDimension.Width,realHeight:i.SelectSkill.Level3.Meta.RealDimension.Height,description:i.SelectSkill.Level3.Meta.Description,moreDescription:i.SelectSkill.Level3.Meta.MoreDescription,price:a[2]["Skill Price"],primaryEffect:a[2]["Primary Skill"],secondaryEffect:a[2]["Secondary Skill"]}},MirrorShield:{1:{imagePath:"images/Skills/Mirror/Mirror-1.png",spriteXOffset:o.SelectSkill.Level1.Meta.SpriteShiftPosition.X,spriteYOffset:o.SelectSkill.Level1.Meta.SpriteShiftPosition.Y,frameWidth:o.SelectSkill.Level1.Meta.TileDimensions.Width,frameHeight:o.SelectSkill.Level1.Meta.TileDimensions.Height,realWidth:o.SelectSkill.Level1.Meta.RealDimension.Width,realHeight:o.SelectSkill.Level1.Meta.RealDimension.Height,description:o.SelectSkill.Level1.Meta.Description,moreDescription:o.SelectSkill.Level1.Meta.MoreDescription,price:n.Mirror[0]["Skill Price"],primaryEffect:n.Mirror[0]["Primary Skill"],secondaryEffect:n.Mirror[0]["Secondary Skill"]},2:{imagePath:"images/Skills/Mirror/Mirror-2.png",spriteXOffset:o.SelectSkill.Level2.Meta.SpriteShiftPosition.X,spriteYOffset:o.SelectSkill.Level2.Meta.SpriteShiftPosition.Y,frameWidth:o.SelectSkill.Level2.Meta.TileDimensions.Width,frameHeight:o.SelectSkill.Level2.Meta.TileDimensions.Height,realWidth:o.SelectSkill.Level2.Meta.RealDimension.Width,realHeight:o.SelectSkill.Level2.Meta.RealDimension.Height,description:o.SelectSkill.Level2.Meta.Description,moreDescription:o.SelectSkill.Level2.Meta.MoreDescription,price:n.Mirror[1]["Skill Price"],primaryEffect:n.Mirror[1]["Primary Skill"],secondaryEffect:n.Mirror[1]["Secondary Skill"]},3:{imagePath:"images/Skills/Mirror/Mirror-3.png",spriteXOffset:o.SelectSkill.Level3.Meta.SpriteShiftPosition.X,spriteYOffset:o.SelectSkill.Level3.Meta.SpriteShiftPosition.Y,frameWidth:o.SelectSkill.Level3.Meta.TileDimensions.Width,frameHeight:o.SelectSkill.Level3.Meta.TileDimensions.Height,realWidth:o.SelectSkill.Level3.Meta.RealDimension.Width,realHeight:o.SelectSkill.Level3.Meta.RealDimension.Height,description:o.SelectSkill.Level3.Meta.Description,moreDescription:o.SelectSkill.Level3.Meta.MoreDescription,price:n.Mirror[2]["Skill Price"],primaryEffect:n.Mirror[2]["Primary Skill"],secondaryEffect:n.Mirror[2]["Secondary Skill"]}},FuelChargeShot:{1:{imagePath:"images/Skills/FuelChargeShot/FuelChargeShotLevel1.png",spriteXOffset:s.SelectSkill.Level1.Meta.SpriteShiftPosition.X,spriteYOffset:s.SelectSkill.Level1.Meta.SpriteShiftPosition.Y,frameWidth:s.SelectSkill.Level1.Meta.TileDimensions.Width,frameHeight:s.SelectSkill.Level1.Meta.TileDimensions.Height,realWidth:s.SelectSkill.Level1.Meta.RealDimension.Width,realHeight:s.SelectSkill.Level1.Meta.RealDimension.Height,description:s.SelectSkill.Level1.Meta.Description,moreDescription:s.SelectSkill.Level1.Meta.MoreDescription,price:l.FuelChargeShotFrame[0]["Skill Price"],primaryEffect:l.FuelChargeShotLaser[0]["Primary Skill"],secondaryEffect:l.FuelChargeShotLaser[0]["Secondary Skill"]},2:{imagePath:"images/Skills/FuelChargeShot/FuelChargeShotLevel2.png",spriteXOffset:s.SelectSkill.Level2.Meta.SpriteShiftPosition.X,spriteYOffset:s.SelectSkill.Level2.Meta.SpriteShiftPosition.Y,frameWidth:s.SelectSkill.Level2.Meta.TileDimensions.Width,frameHeight:s.SelectSkill.Level2.Meta.TileDimensions.Height,realWidth:s.SelectSkill.Level2.Meta.RealDimension.Width,realHeight:s.SelectSkill.Level2.Meta.RealDimension.Height,description:s.SelectSkill.Level2.Meta.Description,moreDescription:s.SelectSkill.Level2.Meta.MoreDescription,price:l.FuelChargeShotFrame[1]["Skill Price"],primaryEffect:l.FuelChargeShotLaser[1]["Primary Skill"],secondaryEffect:l.FuelChargeShotLaser[1]["Secondary Skill"]},3:{imagePath:"images/Skills/FuelChargeShot/FuelChargeShotLevel3.png",spriteXOffset:s.SelectSkill.Level3.Meta.SpriteShiftPosition.X,spriteYOffset:s.SelectSkill.Level3.Meta.SpriteShiftPosition.Y,frameWidth:s.SelectSkill.Level3.Meta.TileDimensions.Width,frameHeight:s.SelectSkill.Level3.Meta.TileDimensions.Height,realWidth:s.SelectSkill.Level3.Meta.RealDimension.Width,realHeight:s.SelectSkill.Level3.Meta.RealDimension.Height,description:s.SelectSkill.Level3.Meta.Description,moreDescription:s.SelectSkill.Level3.Meta.MoreDescription,price:l.FuelChargeShotFrame[2]["Skill Price"],primaryEffect:l.FuelChargeShotLaser[2]["Primary Skill"],secondaryEffect:l.FuelChargeShotLaser[2]["Secondary Skill"]}}}}CreateFieldSkill(e){const{x:t,y:i,HasHover:a,skillName:o,skillLevel:n,onClick:s}=e,l=this.skillMetadata[o][n];return new FieldSkillImage({imagePath:l.imagePath,x:t,y:i,frameWidth:l.frameWidth,frameHeight:l.frameHeight,spriteXOffset:l.spriteXOffset,spriteYOffset:l.spriteYOffset,realWidth:l.realWidth,realHeight:l.realHeight,HasHover:a,onClick:s})}CreateFieldSkillWithText(e){const{x:t,y:i,HasHover:a,skillName:o,skillLevel:n,onClick:s}=e,l=this.skillMetadata[o][n];return new FieldSkillImageAndText({x:t,y:i,HasHover:a,imagePath:l.imagePath,spriteXOffset:l.spriteXOffset,spriteYOffset:l.spriteYOffset,realWidth:l.realWidth,realHeight:l.realHeight,frameWidth:l.frameWidth,frameHeight:l.frameHeight,onClick:s,text:l.description})}CreateFieldSkillType(e){const t=["primaryEffect","secondaryEffect"],{skillName:i,skillLevel:a,x:o,direction:n}=e,s=[];for(const[l,A]of t.entries()){const c=this.skillMetadata[i][a][A];let m="";c&&(c==="Explosive"?m="images/Skills/EffectIcons/ExplosiveIcon.png":c==="Corrosive"?m="images/Skills/EffectIcons/CorrosiveIcon.png":c==="Energy"?m="images/Skills/EffectIcons/EnergyIcon.png":m="images/Skills/EffectIcons/SpecialIcon.png",n==="horizontal"?s.push(new FieldDamageEffectTypeWithText({imagePath:m,x:o+l*56*CANVA_SCALEX,y:131*CANVA_SCALEY,effectRank:A})):s.push(new FieldDamageEffectTypeWithText({imagePath:m,x:o,y:166*CANVA_SCALEY+l*8*CANVA_SCALEY,effectRank:A})))}return s}CreateColumnFieldSkillWithText(e){const i=[1,2,3].map((o,n)=>this.CreateFieldSkillWithText({x:e.columnX,y:e.columnY+n*23*CANVA_SCALEY,skillName:e.skillName,skillLevel:o,HasHover:!1})),a=this.CreateFieldSkillType({skillName:e.skillName,skillLevel:3,x:e.columnX});return[...i,...a]}CreateShoppingFieldSkill(e){const{skillName:t,skillLevel:i,x:a,y:o,onClick:n}=e,s=[],l=this.CreateFieldSkill({x:a,y:o,skillName:t,skillLevel:i,HasHover:!0,onClick:n}),A=new FieldWithText({x:174*CANVA_SCALEX,y:23*CANVA_SCALEY,width:116*CANVA_SCALEX,height:50*CANVA_SCALEY,text:this.skillMetadata[e.skillName][i].moreDescription,fontSize:UIManager.Typography.button.fontSize,fontFamily:UIManager.Typography.button.fontFamily,leftAlign:!0});A.HasBorderOnAllSide=!1;const c=new FieldWithText({x:68*CANVA_SCALEX,y:158*CANVA_SCALEY,width:56*CANVA_SCALEX,height:6*CANVA_SCALEY,text:`${this.skillMetadata[e.skillName][i].price}$`,fontSize:UIManager.Typography.button.fontSize,fontFamily:UIManager.Typography.button.fontFamily,leftAlign:!0});c.HasBorderOnAllSide=!1;const m=this.CreateFieldSkillType({skillName:e.skillName,skillLevel:i,x:174*CANVA_SCALEX,direction:"horizontal"});return s.push(A,c,...m),{skillImage:l,skillText:s,price:this.skillMetadata[e.skillName][i].price}}CreateShoppingBoostFieldSkill(e){const{x:t,y:i,onClick:a}=e,o=[],n=new BoostField({x:t,y:i,HasHover:!0,onClick:a}),s=GetSpriteStaticInformation({sprite:"PlayerBoost"}).constant["Boost Description"],l=new FieldWithText({x:174*CANVA_SCALEX,y:23*CANVA_SCALEY,width:116*CANVA_SCALEX,height:50*CANVA_SCALEY,text:s,fontSize:UIManager.Typography.button.fontSize,fontFamily:UIManager.Typography.button.fontFamily,leftAlign:!0});l.HasBorderOnAllSide=!1;const A=GetSpriteStaticInformation({sprite:"PlayerBoost"}).constant["Boost Price"],c=new FieldWithText({x:68*CANVA_SCALEX,y:158*CANVA_SCALEY,width:56*CANVA_SCALEX,height:6*CANVA_SCALEY,text:`${A}$`,fontSize:UIManager.Typography.button.fontSize,fontFamily:UIManager.Typography.button.fontFamily,leftAlign:!0});return c.HasBorderOnAllSide=!1,o.push(l,c),{skillImage:n,skillText:o,price:A}}}class CityBackground extends Sprite{constructor(e){const{image:t,x:i,y:a,speed:o}=e;super(t,155,15,i,a,0,0,CANVA_SCALEX,CANVA_SCALEY),this.speed=o}Update(e){this.X-=this.speed}setX(e){this.X=e}}class CityBackgroundManager{constructor(){this.cityPadding=3*CANVA_SCALEX,this.citiesImages=[];const e=this.cityPadding;let t=e;for(let i=0;i<4;i++){let a;i%2===0?a=ServiceLocator.GetService("ImageLoader").GetImage("images/GameScene/BackgroundBuilding_1.png"):a=ServiceLocator.GetService("ImageLoader").GetImage("images/GameScene/BackgroundBuilding_2.png"),this.citiesImages.push(new CityBackground({image:a,x:t,y:0,speed:ServiceLocator.GetService("UtilManager").GetSpeedItTakesToCoverHalfTheScreenWidth({framesItTakes:300})})),t=e+(i+1)*158*CANVA_SCALEX}}Update(e){let t=!1;for(let i=0;i<this.citiesImages.length;i++)this.citiesImages[i].Update(e),i===0&&this.citiesImages[i].X<-this.citiesImages[i].Width&&(t=!0);if(t){const i=this.citiesImages[this.citiesImages.length-1];this.citiesImages[0].setX(i.X+i.Width+this.cityPadding);const a=this.citiesImages.shift();this.citiesImages.push(a)}}Draw(e){this.drawBackground(e),this.citiesImages.forEach(t=>{t.Draw(e)})}drawBackground(e){e.fillStyle="#B09F9E",e.fillRect(0,0,canvas.width,16*CANVA_SCALEY);const t=3/4*CANVA_SCALEX;e.lineWidth=t,e.fillStyle="black",e.beginPath(),e.moveTo(0,(15+t/6)*CANVA_SCALEY),e.lineTo(canvas.width,(15+t/6)*CANVA_SCALEY),e.stroke()}}class UserStateUI{constructor(){const e=ServiceLocator.GetService("WaveManager").Round;this.roundNumber=new FieldWithText({x:189*CANVA_SCALEX,y:161*CANVA_SCALEY,width:36*CANVA_SCALEX,height:12*CANVA_SCALEY,text:e.toString(),fontSize:UIManager.Typography.InGameUI.fontSize,fontFamily:UIManager.Typography.InGameUI.fontFamily}),this.roundNumber.HasBorderOnAllSide=!1,this.money=new FieldWithText({x:234*CANVA_SCALEX,y:161*CANVA_SCALEY,width:85*CANVA_SCALEX,height:12*CANVA_SCALEY,text:"0$",fontSize:UIManager.Typography.InGameUI.fontSize,fontFamily:UIManager.Typography.InGameUI.fontFamily,leftAlign:!0}),this.money.HasBorderOnAllSide=!1,this.playerSpecialSkillLevel=0,this.playerEffectSkillLevel=0,this.playerSupportSkillLevel=0,this.specialSkillFrame=void 0,this.effectSkillFrame=void 0,this.supportSkillFrame=void 0}Update(e){this.updateSkillFrame()}updateSkillFrame(){const e=ServiceLocator.GetService("Player").SpecialSkillLevel,t=ServiceLocator.GetService("Player").EffectSkillLevel,i=ServiceLocator.GetService("Player").SupportSkillLevel;if(e>0&&this.playerSpecialSkillLevel!==e){const a=ServiceLocator.GetService("Player").SpecialSkillName;this.playerSpecialSkillLevel=e;const o=new FieldSkillFactory;this.specialSkillFrame=o.CreateFieldSkill({skillName:a,skillLevel:e,x:61*CANVA_SCALEX,y:158*CANVA_SCALEY,HasHover:!1})}if(t>0&&this.playerEffectSkillLevel!==t){const a=ServiceLocator.GetService("Player").EffectSkillName;this.playerEffectSkillLevel=t;const o=new FieldSkillFactory;this.effectSkillFrame=o.CreateFieldSkill({skillName:a,skillLevel:t,x:91*CANVA_SCALEX,y:158*CANVA_SCALEY,HasHover:!1})}if(i>0&&this.playerSupportSkillLevel!==i){const a=ServiceLocator.GetService("Player").SupportSkillName;this.playerSupportSkillLevel=i;const o=new FieldSkillFactory;this.supportSkillFrame=o.CreateFieldSkill({skillName:a,skillLevel:i,x:122*CANVA_SCALEX,y:158*CANVA_SCALEY,HasHover:!1})}}Draw(e){e.fillStyle="#B09F9E",e.fillRect(0,155*CANVA_SCALEY,canvas.width,25*CANVA_SCALEY);const t=1*CANVA_SCALEX;e.beginPath(),this.drawFrame({ctx:e,lineWidth:t}),this.drawHealthBar({ctx:e,lineWidth:t}),this.drawSkillFrame({ctx:e,lineWidth:t}),this.drawBoost({ctx:e,lineWidth:t}),e.stroke(),this.drawRoundAndMoney({ctx:e,lineWidth:t})}drawFrame(e){const{ctx:t,lineWidth:i}=e,a=i/8,o=(155-a)*CANVA_SCALEY;t.lineWidth=i,t.fillStyle="black",t.moveTo(0,o),t.lineTo(canvas.width,o),t.moveTo(a*CANVA_SCALEX,o),t.lineTo(a*CANVA_SCALEX,canvas.height),t.moveTo((55-a)*CANVA_SCALEX,o),t.lineTo((55-a)*CANVA_SCALEX,canvas.height),t.moveTo((147-a)*CANVA_SCALEX,o),t.lineTo((147-a)*CANVA_SCALEX,canvas.height),t.moveTo((185-a)*CANVA_SCALEX,o),t.lineTo((185-a)*CANVA_SCALEX,canvas.height),t.moveTo((230-a)*CANVA_SCALEX,o),t.lineTo((230-a)*CANVA_SCALEX,canvas.height),t.moveTo(canvas.width-a*CANVA_SCALEX,o),t.lineTo(canvas.width-a*CANVA_SCALEX,canvas.height)}drawHealthBar(e){const{ctx:t,lineWidth:i}=e;t.lineWidth=i;const a=i/8;t.fillStyle="black";const o=ServiceLocator.GetService("Player").CurrentHealth/ServiceLocator.GetService("Player").MaxHealth;t.fillStyle="#BE2633",t.fillRect((4-a)*CANVA_SCALEX,(158-a)*CANVA_SCALEY,48*CANVA_SCALEX*o,8*CANVA_SCALEY),t.strokeRect((3.8-a)*CANVA_SCALEX,(158-a)*CANVA_SCALEY,48*CANVA_SCALEX,8*CANVA_SCALEY)}drawSkillFrame(e){var a,o,n;const{ctx:t,lineWidth:i}=e;(a=this.specialSkillFrame)==null||a.Draw(t),(o=this.effectSkillFrame)==null||o.Draw(t),(n=this.supportSkillFrame)==null||n.Draw(t)}drawBoost(e){const t=ServiceLocator.GetService("Player").NumberOfBoosts,{ctx:i,lineWidth:a}=e,o=Math.ceil(t/5);let n=0;for(let s=0;s<o&&!(n>=t);++s){const l=(157+s*4)*CANVA_SCALEY;for(let A=0;A<5&&!(n>=t);++A)i.fillStyle="black",i.fillRect((150+A*7)*CANVA_SCALEX,l,3*CANVA_SCALEX,3*CANVA_SCALEY),n++}}drawRoundAndMoney(e){const{ctx:t,lineWidth:i}=e,a=ServiceLocator.GetService("WaveManager").Round;this.roundNumber.SetText(a.toString()),this.money.SetText(`${ServiceLocator.GetService("Player").MoneyInWallet}$`),this.money.Draw(t),this.roundNumber.Draw(t)}}class InGameTimer{constructor(){const t=ServiceLocator.GetService("GameStatManager").GetTimePlayerHasSurvived();this.timerField=new FieldWithText({x:3*CANVA_SCALEX,y:20*CANVA_SCALEY,width:75*CANVA_SCALEX,height:10*CANVA_SCALEY,text:t,leftAlign:!0,fontSize:UIManager.Typography.title.fontSize,fontFamily:UIManager.Typography.title.fontFamily}),this.timerField.HasBorderOnAllSide=!1}Update(e){const i=ServiceLocator.GetService("GameStatManager").GetTimePlayerHasSurvived();this.timerField.SetText(i)}Draw(e){this.timerField.Draw(e)}}class GameScene{Load(){this.timerIsToggled=!1,this.loadUI()}Update(e){UpdateGameStatManager(e),UpdateWaveManager(e),UpdatePlayer(e),UpdateGeneratedSpritesManager(e),this.updateUI(e);const t=ServiceLocator.GetService("KeyboardManager");t.GetCommandState({command:"OpenInGameMenu"}).IsPressed&&ServiceLocator.GetService("SceneManager").PlaySecondaryScene("InGameMenu"),t.GetCommandState({command:"OpenShopMenu"}).IsPressed&&ServiceLocator.GetService("SceneManager").PlaySecondaryScene("ShoppingMenu"),t.GetCommandState({command:"ToggleInGameTimer"}).IsPressed&&(this.timerIsToggled=!this.timerIsToggled)}Draw(e){this.drawUI(e),DrawGeneratedSpritesManager(e),DrawPlayer(e),DrawWaveManager(e),this.timerIsToggled&&this.inGameTimer.Draw(e)}Unload(){}loadUI(){this.cityBackgroundManager=new CityBackgroundManager,this.userStateUI=new UserStateUI,this.inGameTimer=new InGameTimer}updateUI(e){this.cityBackgroundManager.Update(e),this.userStateUI.Update(e),this.inGameTimer.Update(e)}drawUI(e){this.cityBackgroundManager.Draw(e),this.userStateUI.Draw(e)}}class SelectSkillScene{constructor(){this.selectSkillSceneUIManager=new UIManager,this.selectedSkill={special:{chosenSkill:void 0,skillTree:void 0},effect:{chosenSkill:void 0,skillTree:void 0},support:{chosenSkill:void 0,skillTree:void 0}}}Load(){this.loadUI()}Update(e){this.selectSkillSceneUIManager.Update(e)}Draw(e){this.selectSkillSceneUIManager.Draw(e)}Unload(){this.selectSkillSceneUIManager=new UIManager}focusASkill(e){var t,i;(t=this.selectedSkill[e.skillType].chosenSkill)==null||t.SetActive(!1),this.selectedSkill[e.skillType].skillTree&&this.selectSkillSceneUIManager.HideComponents(this.selectedSkill[e.skillType].skillTree),this.selectedSkill[e.skillType].chosenSkill=e.chosenSkill,(i=this.selectedSkill[e.skillType].chosenSkill)==null||i.SetActive(!0),this.selectedSkill[e.skillType].skillTree=e.skillTree,this.selectSkillSceneUIManager.ShowComponents(e.skillTree),ServiceLocator.GetService("Player").SetSkill({skillType:e.skillType,skillName:e.skillName})}loadUI(){const e=ServiceLocator.GetService("SceneManager"),t=new FieldSkillFactory,i=120*CANVA_SCALEX,a=9*CANVA_SCALEY,o=6*CANVA_SCALEX,n=10*CANVA_SCALEY,s=new FieldWithText({x:o,y:n,width:i,height:a,text:"Choose Skills",fontSize:UIManager.Typography.title.fontSize,fontFamily:UIManager.Typography.title.fontFamily});s.HasBorderOnAllSide=!1,s.HasBottomBorder=!0,this.selectSkillSceneUIManager.AddComponent(s);const l=88*CANVA_SCALEX,A=9*CANVA_SCALEY,c=6*CANVA_SCALEX,m=77*CANVA_SCALEY,S=new FieldWithText({x:c,y:m,width:l,height:A,text:"Evolution",fontSize:UIManager.Typography.title.fontSize,fontFamily:UIManager.Typography.title.fontFamily});S.HasBorderOnAllSide=!1,S.HasBottomBorder=!0,this.selectSkillSceneUIManager.AddComponent(S);const h=41*CANVA_SCALEX,f=11*CANVA_SCALEY,u=273*CANVA_SCALEX,C=10*CANVA_SCALEY,_=new FieldWithText({x:u,y:C,width:h,height:f,text:"PLAY",fontSize:UIManager.Typography.button.fontSize,fontFamily:UIManager.Typography.button.fontFamily,HasHovered:!0,onClick:()=>{ServiceLocator.GetService("Player").UpdateSkill(),e.PlayMainScene("Game")}});this.selectSkillSceneUIManager.AddComponent(_);const g=t.CreateColumnFieldSkillWithText({skillName:"Rocket",columnX:6*CANVA_SCALEX,columnY:98*CANVA_SCALEY});this.selectSkillSceneUIManager.HideComponents(g),this.selectSkillSceneUIManager.AddComponents(g);const d=t.CreateColumnFieldSkillWithText({skillName:"Blade",columnX:113*CANVA_SCALEX,columnY:98*CANVA_SCALEY});this.selectSkillSceneUIManager.HideComponents(d),this.selectSkillSceneUIManager.AddComponents(d);const L=t.CreateColumnFieldSkillWithText({skillName:"MirrorShield",columnX:228*CANVA_SCALEX,columnY:98*CANVA_SCALEY});this.selectSkillSceneUIManager.HideComponents(L),this.selectSkillSceneUIManager.AddComponents(L);const p=t.CreateColumnFieldSkillWithText({skillName:"FuelChargeShot",columnX:228*CANVA_SCALEX,columnY:98*CANVA_SCALEY});this.selectSkillSceneUIManager.HideComponents(p),this.selectSkillSceneUIManager.AddComponents(p);const R=t.CreateFieldSkill({x:6*CANVA_SCALEX,y:28*CANVA_SCALEY,skillName:"Rocket",skillLevel:1,onClick:()=>{this.focusASkill({skillType:"special",skillName:"Rocket",chosenSkill:R,skillTree:g})}}),T=t.CreateFieldSkill({x:113*CANVA_SCALEX,y:28*CANVA_SCALEY,skillName:"Blade",skillLevel:1,onClick:()=>{this.focusASkill({skillType:"effect",skillName:"Blade",chosenSkill:T,skillTree:d})}}),Y=t.CreateFieldSkill({x:228*CANVA_SCALEX,y:28*CANVA_SCALEY,skillName:"MirrorShield",skillLevel:1,onClick:()=>{this.focusASkill({skillType:"support",skillName:"MirrorShield",chosenSkill:Y,skillTree:L})}}),F=t.CreateFieldSkill({x:256*CANVA_SCALEX,y:28*CANVA_SCALEY,skillName:"FuelChargeShot",skillLevel:1,onClick:()=>{this.focusASkill({skillType:"support",skillName:"FuelChargeShot",chosenSkill:F,skillTree:p})}});this.selectSkillSceneUIManager.AddComponent(T),this.selectSkillSceneUIManager.AddComponent(R),this.selectSkillSceneUIManager.AddComponent(Y),this.selectSkillSceneUIManager.AddComponent(F),this.focusASkill({skillType:"special",skillName:"Rocket",chosenSkill:R,skillTree:g}),this.focusASkill({skillType:"effect",skillName:"Blade",chosenSkill:T,skillTree:d}),this.focusASkill({skillType:"support",skillName:"MirrorShield",chosenSkill:Y,skillTree:L})}}class InGameMenuScene{Load(){this.loadUI()}Update(e){ServiceLocator.GetService("KeyboardManager").GetCommandState({command:"CloseInGameMenu"}).IsPressed&&ServiceLocator.GetService("SceneManager").PlaySecondaryScene("None"),this.inGameMenuUiManager.Update(e)}Draw(e){this.inGameMenuUiManager.Draw(e)}Unload(){this.inGameMenuUiManager=new UIManager}loadUI(){this.inGameMenuUiManager=new UIManager;const e=ServiceLocator.GetService("SceneManager"),t=41*CANVA_SCALEX,i=11*CANVA_SCALEY,a=139*CANVA_SCALEX,o=64*CANVA_SCALEY,n=new FieldWithText({x:a,y:o,width:t,height:i,text:"RESUME",fontSize:UIManager.Typography.button.fontSize,fontFamily:UIManager.Typography.button.fontFamily,HasHovered:!0,onClick:()=>{e.PlaySecondaryScene("None")}});this.inGameMenuUiManager.AddComponent(n);const s=139*CANVA_SCALEX,l=85*CANVA_SCALEY,A=new FieldWithText({x:s,y:l,width:t,height:i,text:"QUIT",fontSize:UIManager.Typography.button.fontSize,fontFamily:UIManager.Typography.button.fontFamily,HasHovered:!0,onClick:()=>{e.PlayMainScene("MainMenu")}});this.inGameMenuUiManager.AddComponent(A)}}class BuySkillSection{constructor(){this.skillUIManager=new UIManager;const e=new FieldSkillFactory,t=ServiceLocator.GetService("Player"),i=t.SpecialSkillName,a=t.EffectSkillName,o=t.SupportSkillName,n=new FieldWithText({x:28*CANVA_SCALEX,y:23*CANVA_SCALEY,width:64*CANVA_SCALEX,height:8*CANVA_SCALEY,text:"SPECIAL",fontSize:UIManager.Typography.title.fontSize,fontFamily:UIManager.Typography.title.fontFamily,leftAlign:!0});n.HasBorderOnAllSide=!1,this.skillUIManager.AddComponent(n);const s=new FieldWithText({x:28*CANVA_SCALEX,y:48*CANVA_SCALEY,width:64*CANVA_SCALEX,height:8*CANVA_SCALEY,text:"EFFECT",fontSize:UIManager.Typography.title.fontSize,fontFamily:UIManager.Typography.title.fontFamily,leftAlign:!0});s.HasBorderOnAllSide=!1,this.skillUIManager.AddComponent(s);const l=new FieldWithText({x:28*CANVA_SCALEX,y:70*CANVA_SCALEY,width:64*CANVA_SCALEX,height:8*CANVA_SCALEY,text:"SUPPORT",fontSize:UIManager.Typography.title.fontSize,fontFamily:UIManager.Typography.title.fontFamily,leftAlign:!0});l.HasBorderOnAllSide=!1,this.skillUIManager.AddComponent(l);const A=[1,2,3];for(const g of A){const d=e.CreateShoppingFieldSkill({skillName:i,skillLevel:g,x:95*CANVA_SCALEX+(g-1)*26*CANVA_SCALEX,y:19*CANVA_SCALEY,onClick:()=>{this.focusField({fieldImage:d.skillImage,fieldText:d.skillText,price:d.price,type:"special",level:g})}});t.GetSkillLevel({skillType:"special"})<g&&d.skillImage.SetDisabled(!0),this.skillUIManager.AddComponent(d.skillImage),this.skillUIManager.AddComponents(d.skillText),this.skillUIManager.HideComponents(d.skillText),g===1&&(this.currentFocusedField={fieldImage:d.skillImage,fieldText:d.skillText,price:d.price,type:"special",level:g},this.focusField({fieldImage:d.skillImage,fieldText:d.skillText,price:d.price,type:"special",level:g}));const L=e.CreateShoppingFieldSkill({skillName:a,skillLevel:g,x:95*CANVA_SCALEX+(g-1)*26*CANVA_SCALEX,y:43*CANVA_SCALEY,onClick:()=>{this.focusField({fieldImage:L.skillImage,fieldText:L.skillText,price:L.price,type:"effect",level:g})}});t.GetSkillLevel({skillType:"effect"})<g&&L.skillImage.SetDisabled(!0),this.skillUIManager.AddComponent(L.skillImage),this.skillUIManager.AddComponents(L.skillText),this.skillUIManager.HideComponents(L.skillText);const p=e.CreateShoppingFieldSkill({skillName:o,skillLevel:g,x:95*CANVA_SCALEX+(g-1)*26*CANVA_SCALEX,y:66*CANVA_SCALEY,onClick:()=>{this.focusField({fieldImage:p.skillImage,fieldText:p.skillText,price:p.price,type:"support",level:g})}});t.GetSkillLevel({skillType:"support"})<g&&p.skillImage.SetDisabled(!0),this.skillUIManager.AddComponent(p.skillImage),this.skillUIManager.AddComponents(p.skillText),this.skillUIManager.HideComponents(p.skillText)}const c=new FieldWithText({x:28*CANVA_SCALEX,y:96*CANVA_SCALEY,width:64*CANVA_SCALEX,height:8*CANVA_SCALEY,text:"BOOST",fontSize:UIManager.Typography.title.fontSize,fontFamily:UIManager.Typography.title.fontFamily,leftAlign:!0});c.HasBorderOnAllSide=!1,this.skillUIManager.AddComponent(c);const m=e.CreateShoppingBoostFieldSkill({x:95*CANVA_SCALEX,y:90*CANVA_SCALEY,onClick:()=>{this.focusField({fieldImage:m.skillImage,fieldText:m.skillText,price:m.price,type:"boost"})}});t.GetIsMaxNumberBoostAttained()&&m.skillImage.SetDisabled(!0),this.skillUIManager.AddComponent(m.skillImage),this.skillUIManager.AddComponents(m.skillText),this.skillUIManager.HideComponents(m.skillText);const S=new FieldWithText({x:28*CANVA_SCALEX,y:132*CANVA_SCALEY,width:50*CANVA_SCALEX,height:6*CANVA_SCALEY,leftAlign:!0,text:"BALANCE:",fontSize:UIManager.Typography.button.fontSize,fontFamily:UIManager.Typography.button.fontFamily});S.HasBorderOnAllSide=!1,this.skillUIManager.AddComponent(S);const h=ServiceLocator.GetService("Player").MoneyInWallet,f=new FieldWithText({x:79*CANVA_SCALEX,y:132*CANVA_SCALEY,width:50*CANVA_SCALEX,height:6*CANVA_SCALEY,leftAlign:!0,text:`${h}$`,fontSize:UIManager.Typography.button.fontSize,fontFamily:UIManager.Typography.button.fontFamily});f.HasBorderOnAllSide=!1,this.skillUIManager.AddComponent(f);const u=new FieldWithText({x:28*CANVA_SCALEX,y:158*CANVA_SCALEY,width:37*CANVA_SCALEX,height:6*CANVA_SCALEY,leftAlign:!0,text:"PRICE:",fontSize:UIManager.Typography.button.fontSize,fontFamily:UIManager.Typography.button.fontFamily});u.HasBorderOnAllSide=!1,this.skillUIManager.AddComponent(u);const C=new FieldWithText({x:124*CANVA_SCALEX,y:156*CANVA_SCALEY,width:45*CANVA_SCALEX,height:10*CANVA_SCALEY,text:"BUY",fontSize:UIManager.Typography.button.fontSize,fontFamily:UIManager.Typography.button.fontFamily,HasHovered:!0,onClick:()=>{this.buyField();const g=ServiceLocator.GetService("Player").MoneyInWallet;f.SetText(`${g}$`)}});this.skillUIManager.AddComponent(C);const _=new FieldWithText({x:248*CANVA_SCALEX,y:156*CANVA_SCALEY,width:44*CANVA_SCALEX,height:10*CANVA_SCALEY,text:"RESUME",fontSize:UIManager.Typography.button.fontSize,fontFamily:UIManager.Typography.button.fontFamily,HasHovered:!0,onClick:()=>{ServiceLocator.GetService("SceneManager").PlaySecondaryScene("None")}});this.skillUIManager.AddComponent(_)}Update(e){this.skillUIManager.Update(e)}Draw(e){this.skillUIManager.Draw(e)}focusField(e){this.currentFocusedField.fieldImage.SetActive(!1),this.skillUIManager.HideComponents(this.currentFocusedField.fieldText),this.skillUIManager.ShowComponents(e.fieldText),e.fieldImage.SetActive(!0),this.currentFocusedField=e}buySkill(e){const{selectedSkillLevel:t,selectedSkillType:i,selectedSkillPrice:a}=e,o=ServiceLocator.GetService("Player");let n=o.MoneyInWallet;const s=o.GetSkillLevel({skillType:i});t-s===1&&(n-a<0||(o.MakeTransactionOnWallet(-a),o.UpgradeSkillLevel({skillType:i})))}buyBoost(e){const{boostPrice:t}=e,i=ServiceLocator.GetService("Player");let a=i.MoneyInWallet;i.GetIsMaxNumberBoostAttained()||a-t<0||(i.MakeTransactionOnWallet(-t),i.UpgradeBoost(),i.GetIsMaxNumberBoostAttained())}buyField(){const{type:e,level:t,price:i}=this.currentFocusedField,a=ServiceLocator.GetService("Player"),o=a.MoneyInWallet;e==="boost"?this.buyBoost({boostPrice:i}):this.buySkill({selectedSkillLevel:t,selectedSkillPrice:i,selectedSkillType:e});const n=a.MoneyInWallet;o!==n&&this.currentFocusedField.fieldImage.SetDisabled(!1),e==="boost"&&a.GetIsMaxNumberBoostAttained()&&this.currentFocusedField.fieldImage.SetDisabled(!0)}}class ShoppingMenuFrame{constructor(){this.lineWidth=1*CANVA_SCALEX}Draw(e){this.drawFrame(e)}drawFrame(e){const t=20*CANVA_SCALEX,i=2*CANVA_SCALEY,a=280*CANVA_SCALEX,o=168*CANVA_SCALEY;e.fillStyle="#B09F9E",e.fillRect(t,i,a,o),e.strokeStyle="black",e.lineWidth=this.lineWidth,e.strokeRect(t,i,a,o);const n=10*CANVA_SCALEY;e.beginPath(),e.moveTo(t,n),e.lineTo(t+a,n),e.strokeStyle="black",e.lineWidth=this.lineWidth,e.stroke();const s=172*CANVA_SCALEX,l=19*CANVA_SCALEY,A=120*CANVA_SCALEX,c=119*CANVA_SCALEY;e.strokeRect(s,l,A,c)}}class ShoppingMenuScene{constructor(){}Load(){this.shoppingMenuFrame=new ShoppingMenuFrame,this.buySkillSection=new BuySkillSection}Update(e){this.buySkillSection.Update(e),ServiceLocator.GetService("KeyboardManager").GetCommandState({command:"CloseShopMenu"}).IsPressed&&ServiceLocator.GetService("SceneManager").PlaySecondaryScene("None")}Draw(e){this.shoppingMenuFrame.Draw(e),this.buySkillSection.Draw(e)}Unload(){}}class GameOverScene{Load(){this.loadUI()}Update(e){this.gameOverUiManager.Update(e)}Draw(e){this.gameOverUiManager.Draw(e)}Unload(){}loadUI(){this.gameOverUiManager=new UIManager;const e=62*CANVA_SCALEX,t=10*CANVA_SCALEY,i=235*CANVA_SCALEX,a=165*CANVA_SCALEY,o=new FieldWithText({x:i,y:a,width:e,height:t,text:"MAIN-MENU",fontSize:UIManager.Typography.button.fontSize,fontFamily:UIManager.Typography.button.fontFamily,HasHovered:!0,onClick:()=>{ServiceLocator.GetService("SceneManager").PlayMainScene("MainMenu")}});this.gameOverUiManager.AddComponent(o);const n=ServiceLocator.GetService("GameStatManager"),{hasWon:s,round:l}=n.HasPlayerWon(),A=n.GetTimePlayerHasSurvived();s?this.UIToShowIfPlayerWin({uiManager:this.gameOverUiManager,round:l,timePlayerSurvived:A}):this.UIToShowIfPlayerLose({uiManager:this.gameOverUiManager,round:l,timePlayerSurvived:A})}UIToShowIfPlayerWin(e){const t=255*CANVA_SCALEX,i=6*CANVA_SCALEY,a=21*CANVA_SCALEX,o=19*CANVA_SCALEY,n=new FieldWithText({x:a,y:o,width:t,height:i,text:`YOU WON, YOU DID A 100 ROUNDS IN: ${e.timePlayerSurvived}`,fontSize:UIManager.Typography.button.fontSize,fontFamily:UIManager.Typography.button.fontFamily,leftAlign:!0});n.HasBorderOnAllSide=!1,e.uiManager.AddComponent(n)}UIToShowIfPlayerLose(e){const t=215*CANVA_SCALEX,i=6*CANVA_SCALEY,a=21*CANVA_SCALEX,o=19*CANVA_SCALEY,n=new FieldWithText({x:a,y:o,width:t,height:i,text:`YOU LOST, YOU REACHED ROUND: ${e.round}`,fontSize:UIManager.Typography.button.fontSize,fontFamily:UIManager.Typography.button.fontFamily,leftAlign:!0});n.HasBorderOnAllSide=!1,e.uiManager.AddComponent(n);const s=215*CANVA_SCALEX,l=6*CANVA_SCALEY,A=21*CANVA_SCALEX,c=29*CANVA_SCALEY,m=new FieldWithText({x:A,y:c,width:s,height:l,text:`YOU SURVIVED FOR: ${e.timePlayerSurvived}`,fontSize:UIManager.Typography.button.fontSize,fontFamily:UIManager.Typography.button.fontFamily,leftAlign:!0});m.HasBorderOnAllSide=!1,e.uiManager.AddComponent(m)}}class SceneManager{constructor(){ServiceLocator.AddService("SceneManager",this)}PlayMainScene(e){var t,i;this.PlaySecondaryScene("None"),(t=this.currentMainScene)==null||t.Unload(),this.currentMainScene=this.createMainScene(e),(i=this.currentMainScene)==null||i.Load()}PlaySecondaryScene(e){var t,i;(t=this.currentSecondaryScene)==null||t.Unload(),this.currentSecondaryScene=this.createSecondaryScene(e),(i=this.currentSecondaryScene)==null||i.Load()}Update(e){var t,i;this.currentSecondaryScene||(t=this.currentMainScene)==null||t.Update(e),(i=this.currentSecondaryScene)==null||i.Update(e)}Draw(e){var t,i;this.currentSecondaryScene?this.applyBlurToScene(a=>{var o;(o=this.currentMainScene)==null||o.Draw(a)},e):(t=this.currentMainScene)==null||t.Draw(e),(i=this.currentSecondaryScene)==null||i.Draw(e)}createMainScene(e){switch(e){case"Game":return new GameScene;case"MainMenu":return new MainMenuScene;case"SelectSkill":return new SelectSkillScene;case"GameOver":return new GameOverScene;default:return new MainMenuScene}}createSecondaryScene(e){switch(e){case"InGameMenu":return new InGameMenuScene;case"ShoppingMenu":return new ShoppingMenuScene;case"None":default:return}}applyBlurToScene(e,t){t.filter="blur(2px)",e(t),t.filter="none"}}let sceneManager;function LoadSceneManager(){sceneManager=new SceneManager,sceneManager.PlayMainScene("MainMenu")}function UpdateSceneManager(r){sceneManager.Update(r)}function DrawSceneManager(r){sceneManager.Draw(r)}class CollideManager{constructor(){ServiceLocator.AddService("CollideManager",this)}HandleWhenPlayerNonProjectileCollideWithEnemyProjectiles(e){const t=ServiceLocator.GetService("GeneratedSpritesManager").EnemyProjectiles;let i=!1;for(const[a,o]of t)for(const n of o.CurrentHitbox)if(i=n.CheckCollision(e),i){const s=e.Collide.get("WithProjectile");s&&s(o);const l=o.Collide.get("WithNonProjectile");l&&l(e);break}}HandleWhenPlayerProjectileCollideWithEnemies(e){const t=ServiceLocator.GetService("WaveManager");let i=!1;for(const[a,o]of t.GetListEnemies())for(const n of o.CurrentHitbox)if(i=n.CheckCollision(e),i){const s=e.Collide.get("WithEnemy");s&&s();const l=e.DamageEffectsController.ApplyShortAndLongTermDamageEffect({target:o}),A=o.Collide.get("WithProjectile");A&&A(l);break}}HandleWhenEnemyProjectileCollideWithPlayer(e){const t=ServiceLocator.GetService("Player");if(!t.IsInvulnerable()){for(const i of t.CurrentHitbox)if(i.CheckCollision(e)){const a=e.Collide.get("WithPlayer");a&&a(),t.PlayCollideMethod("WithProjectile",e);break}}}HandleWhenEnemyCollideWithPlayer(e){const t=ServiceLocator.GetService("Player");if(!t.IsInvulnerable()){for(const i of t.CurrentHitbox)if(i.CheckCollision(e)){const a=e.Collide.get("WithPlayer");a&&a(),t.PlayCollideMethod("WithEnemy",e);break}}}}function LoadCollideManager(){new CollideManager}class UtilManager{constructor(){ServiceLocator.AddService("UtilManager",this)}GetRandomObjectFromMap(e){const{theMap:t}=e,i=Math.floor(t.size*Math.random());let a=0;for(const[o,n]of t){if(a===i)return n;a++}}GetSpeedItTakesToCoverHalfTheScreenWidth(e){const{framesItTakes:t}=e;return t>0?canvas.width/2/t:0}DrawCenterOfCanvas(e){e.beginPath(),e.moveTo(canvas.width/2,0),e.lineTo(canvas.width/2,canvas.height),e.stroke(),e.beginPath(),e.moveTo(0,canvas.height/2),e.lineTo(canvas.width,canvas.height/2),e.stroke()}}function LoadUtilManager(){new UtilManager}const ctx=canvas.getContext("2d");function load(){LoadUtilManager(),LoadKeyboardManager(),LoadImageLoader(),LoadCollideManager(),LoadSceneManager()}function update(r){ServiceLocator.GetService("ImageLoader").IsGameReady()&&UpdateSceneManager(r)}function draw(r){ServiceLocator.GetService("ImageLoader").IsGameReady()&&DrawSceneManager(r)}let previousTimestamp=0;const deltaTime=1e3/FRAME_RATE;let timeToUpdate=0;function run(r){for(timeToUpdate+=r-previousTimestamp;timeToUpdate>=deltaTime;)update(deltaTime/1e3),timeToUpdate-=deltaTime;previousTimestamp=r,ctx.clearRect(0,0,canvas.width,canvas.height),draw(ctx),requestAnimationFrame(run)}function init(){ctx.imageSmoothingEnabled=!1,load(),requestAnimationFrame(run)}init();
